var __JS_RETRY__=__JS_RETRY__||{};__JS_RETRY__["index.live_0c672b2e.js"]=!0,(window.webpackJsonp=window.webpackJsonp||[]).push([[31,4,5,8],{"+5GP":function(module,exports,__webpack_require__){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="live-schedule"> <div class="live-schedule-screen"></div> <div class="live-schedule-list nano"> ',__webpack_require__("Lneg")({tasks:tasks,serverTime:serverTime})," </div></div>"),_$out_.join("")}}},"+AKE":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="+AKE"},"+GFq":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PCMidas=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("F5LU"),u=n("P87J"),c=n("vUo+"),s=function(){function e(t){(0,i.default)(this,e),this.callbackUrl=new c.CallbackUrl(t)}return(0,o.default)(e,[{key:"pay",value:function(e){var t=this;u.imlog.info("【支付模块】","【PC米大师sdk启动】",e);try{(0,a.loadScript)("//midas.gtimg.cn/enterprise/js/enterpriseAPI_v1.0.2.js").then((function(){var n=(0,a.getUin)(),r=window.TEG;if(r&&r.Service&&r.Service.EnterprisePay){var i={token:null==e?void 0:e.token_id};new r.Service.EnterprisePay({appId:"1450008443",env:(null==e?void 0:e.is_sandbox)?"sandbox":void 0,isSeparatePage:!0,epExt:{backUrl:t.callbackUrl.getCallbackUrl(i),guideUrl:"//ke.qq.com/midas.html",native_wxpay:"true"},secure:!1,sessionType:"UNL",user:n,allowChannels:["wechat","bank","qqwallet"]}).pay({token:null==e?void 0:e.token_id,tokenUrl:null==e?void 0:e.url_params})}}))}catch(e){throw u.imlog.error("【支付模块】","【PC米大师sdk失败】",e),e}}}]),e}();t.PCMidas=s},"+Q1X":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.MidasPay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("P87J"),l=n("R3/i"),d=n("A7hS"),f=n("+GFq"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(t){(0,o.default)(this,e),this.payOpts=t,this.order=new l.Order(t),this.pcMidas=new f.PCMidas(t),this.h5Midas=new d.H5Midas(t)}return(0,a.default)(e,[{key:"pay",value:function(){var e,t;return h(this,void 0,void 0,i.default.mark((function n(){var r,o,a,u;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.order.order();case 2:if(r=n.sent,o=null==r?void 0:r.result,null===(t=(e=this.payOpts).beforePay)||void 0===t||t.call(e,this.payOpts),!(0,c.isPC)()){n.next=11;break}return a=(o||{}).token,u=void 0===a?{}:a,this.pcMidas.pay(u),n.abrupt("return",o);case 11:return n.abrupt("return",this.h5Midas.pay(o));case 12:case"end":return n.stop()}}),n,this)})))}}]),e}();t.MidasPay=v,p([(0,s.log)("midas支付",s.MonitorType.MIDAS_PAY_SUCC,s.MonitorType.MIDAS_PAY_ERR)],v.prototype,"pay",null)},"+Sx3":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.BalancePay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("D215"),l=n("P87J"),d=n("GYbC"),f=n("R3/i"),p=n("vUo+"),h=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},g=function(){function e(t){(0,o.default)(this,e),this.payOpts=t,this.order=new f.Order(t),this.callbackUrl=new p.CallbackUrl(t),this.payHook=s.PayHook.getInstance()}return(0,a.default)(e,[{key:"pay",value:function(){var e,t,n;return v(this,void 0,void 0,i.default.mark((function r(){var o,a,u,s;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.order.getOrderParam();case 2:return o=r.sent,r.next=5,this.payHook.exec("beforePayCheck");case 5:if(null==(a=r.sent)?void 0:a.pass){r.next=8;break}return r.abrupt("return");case 8:return null===(t=(e=this.payOpts).beforePay)||void 0===t||t.call(e,this.payOpts),r.next=11,(0,c.fetch)("/cgi-bin/pay_access/pay_with_balance",{data:o});case 11:if(u=r.sent,!(0,c.isMiniProgram)()||0!==(null==u?void 0:u.retcode)){r.next=17;break}return r.next=15,(0,d.getWx)();case 15:return s=r.sent,r.abrupt("return",null===(n=null==s?void 0:s.miniProgram)||void 0===n?void 0:n.navigateBack({delta:1}));case 17:return location.href=this.callbackUrl.getCallbackUrl({ext:{result:{code:1}}}),this.payHook.exec("beforePayJump"),r.abrupt("return",u);case 20:case"end":return r.stop()}}),r,this)})))}}]),e}();t.BalancePay=g,h([(0,l.log)("余额支付",l.MonitorType.BALANCE_PAY_SUCC,l.MonitorType.BALANCE_PAY_ERR)],g.prototype,"pay",null)},"+g3W":function(e,t,n){},"+wjS":function(e,t,n){var r=n("xeH2");n("Lwcf");var i=null,o={},a={},u=!1,c=0;var s=function(){i=r(".js-series-course"),o=GLOBAL_DATA.seriesCourse||[],c=i.find(".js-series-course-item").eq(0).outerWidth(!0),o.forEach((function(e){a[e.name]=e}))},l=function(){var e=o.vis||4;i.each((function(){var t=r(this),n=t.data("name"),i=a[n].courses||[];i=i.filter((function(e){return e.title})),t.bidiPaging({maxPage:i.length-e+1,onSwitchedPage:function(e){var n=-(e.page-1)*c;t.find(".js-series-course-list").animate({left:n})}})})),u||(u=!0,r(document).on("mouseenter",".js-series-content",(function(){r(this).clearQueue().addClass("shadow").animate({maxHeight:231},150).parents(".js-series-course-list").css("z-index",1)})).on("mouseleave",".js-series-content",(function(){r(this).clearQueue().removeClass("shadow").animate({maxHeight:160},150).parents(".js-series-course-list").css("z-index",0)})))};e.exports={init:function(){s(),l()}}},"/+e+":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.IapCheck=void 0;var i=r(n("gBQG")),o=r(n("+jPT")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("HO9c")),s=n("F5LU"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},d=function(){function e(){(0,a.default)(this,e),this.requestCache=new s.RequestCache,this.getIAPConfig=this.getIAPConfigCacheFn()}return(0,u.default)(e,[{key:"checkIAPForDisplay",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){var t,n,r,a,u,l,d=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,s.isMobile)()){e.next=2;break}return e.abrupt("return",{dateShow:!0,saleLabelShow:!0,discountInfoShow:!0});case 2:return t={},n=!1,e.prev=4,e.next=7,Promise.all([this.getIAPConfig(),(0,s.isIAP)()]);case 7:r=e.sent,a=(0,o.default)(r,2),t=a[0],n=a[1],e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),c.default.error("[iapCheck getIAPConfig err]",e.t0);case 16:if(u={},!n){e.next=25;break}if(!(0,s.isApp)()){e.next=24;break}return e.next=21,(0,s.getAppVersion)();case 21:l=e.sent,e.next=25;break;case 24:(0,s.isQQ)()&&(l=(0,s.getQQVersion)());case 25:return(null==t?void 0:t.result)&&Object.keys(null==t?void 0:t.result).forEach((function(e){var r;if(n){var i=(0,s.isQQ)()&&d.versionCheck(t,"qq",l),o=(0,s.isApp)()&&d.versionCheck(t,"app",l);if(i||o){var a=null===(r=null==t?void 0:t.result)||void 0===r?void 0:r[e],c=(0,s.isQQ)()&&0===(null==a?void 0:a.qq),f=(0,s.isApp)()&&0===(null==a?void 0:a.app);u[e]=!(c||f||!a)}else u[e]=!0}else u[e]=!0})),e.abrupt("return",u);case 27:case"end":return e.stop()}}),e,this,[[4,13]])})))}},{key:"versionCheck",value:function(e,t,n){var r,i,o=null===(i=null===(r=null==e?void 0:e.result)||void 0===r?void 0:r.versionControl)||void 0===i?void 0:i[t];return"qq"===t?(0,s.compairVersionString)(n,null==o?void 0:o.startVersion)>=1&&(0,s.compairVersionString)(n,null==o?void 0:o.endVersion)<=1:"app"===t&&(n>=(null==o?void 0:o.startVersion)&&n<=(null==o?void 0:o.endVersion))}},{key:"getIAPConfigCacheFn",value:function(){return this.requestCache.makeCache(this.fetchIAPConfig,this,"ke_iap_config")}},{key:"fetchIAPConfig",value:function(){return(0,s.fetch)("//sas.qq.com/cgi-bin/ke_operation_getIAPConfig")}}]),e}();t.IapCheck=d},"//88":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.StudentNameChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("vqVK"),c=n("ixpB"),s=n("sWVP"),l=n("uIhe"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},f=function(){function e(){(0,o.default)(this,e),this.schoolAgency=s.SchoolAgency.getInstance()}return(0,a.default)(e,[{key:"check",value:function(e,t){var n,r;return d(this,void 0,void 0,i.default.mark((function o(){var a,s,d,f,p,h;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null==e?void 0:e.paylayerData,s=(null==a?void 0:a.detail)||[],d=(0,u.getCurTermInfo)(s,t),f=(0,u.getCid)(t),!d||!d.term||(null===(n=null==a?void 0:a.ext)||void 0===n?void 0:n.price)){i.next=13;break}return p=null===(r=null==a?void 0:a.ext)||void 0===r?void 0:r.agency_id,h=null==d?void 0:d.term,i.next=9,this.schoolAgency.needShowDialog(p,{tid:null==h?void 0:h.tid,term_bit_flag:(null==h?void 0:h.term_bit_flag)||t.term_bit_flag,cid:f});case 9:if(!i.sent){i.next=13;break}return l.imlog.info("【支付模块】","【支付checkers student校验失败】",d),i.abrupt("return",{msg:"需要填写学生信息",pass:!1,retcode:c.NEED_STUDENT_DIALOG});case 13:return l.imlog.info("【支付模块】","【支付checkers student校验成功】"),i.abrupt("return",{pass:!0});case 15:case"end":return i.stop()}}),o,this)})))}}]),e}();t.StudentNameChecker=f},"/2YP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("FHsA");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("a6Nf");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},"/3d5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorText=function(e){switch(e){case 101:return"号码不能为空";case 102:return"手机号码不正确";case 103:var t=document.createDocumentFragment(),n=document.createTextNode("此手机号已经被其他账号绑定。如遇到特殊问题，请联系客服QQ"),i=document.createElement("a");return i.innerText="800082734",i.style.color="#0057af",i.style.textDecoration="none",i.title="呼起QQ客服",i.href="javascript:;",i.addEventListener("click",(function(e){e.preventDefault(),(0,r.isApp)()?(0,r.getMqq)().then((function(e){e.invoke("edu","openQQConsult",{id:"800082734",type:0})})):r.Jumper.jump("mqqwpa://im/chat?chat_type=wpa&version=1&uin=800082734&src_type=web&web_src=m.ke.qq.com")})),t.appendChild(n),t.appendChild(i),t;case 201:return"验证码不能为空";case 202:return"验证码错误";case 300:return"网络错误，请稍后重试";case 301:return"操作频率过快，请稍后重试"}return""};var r=n("F5LU")},"/NmI":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.LoginChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("uIhe"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},l=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"check",value:function(){return s(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,u.isLogin)()){e.next=6;break}if(c.imlog.info("【支付模块】","【支付checkers登陆校验失败】"),!(0,u.isMobile)()){e.next=5;break}return(0,u.loginMobile)(),e.abrupt("return",{pass:!0});case 5:return e.abrupt("return",{msg:"not login",pass:!1,retcode:1e5});case 6:return c.imlog.info("【支付模块】","【支付checkers登陆校验成功】"),e.abrupt("return",{pass:!0});case 8:case"end":return e.stop()}}),e)})))}}]),e}();t.LoginChecker=l},"/Q/+":function(e,t,n){n("vINB"),n("srya"),n("z4v6"),n("9YbM"),n("jtbN"),n("4v8P"),n("fHfg"),n("tCiV"),e.exports={}},"/WCk":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.YqhPay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("uIhe"),s=n("DjHw"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},d=function(){function e(t){(0,o.default)(this,e),this.payInfo=t,this.orderHandler=new s.Order(this.payInfo)}return(0,a.default)(e,[{key:"pay",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0,u.isPC)()){e.next=6;break}return e.next=4,this.pcPay();case 4:e.next=7;break;case 6:this.h5pay();case 7:c.imlog.info("【支付模块】","【有钱花支付跳转】"),c.imlog.monitor(34647626),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(0),c.imlog.error("【支付模块】","【有钱花支付失败】",e.t0),c.imlog.monitor(34647627),e.t0;case 16:case"end":return e.stop()}}),e,this,[[0,11]])})))}},{key:"pcPay",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o,a,c,s,l,d,f,p,h,v;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.orderHandler.order();case 2:t=e.sent,n=t.result||{},r=n.token,o=(void 0===r?{}:r).url_params,a=this.payInfo,c=a.displayExt,s=void 0===c?{}:c,l=a.orderReportExt,d=void 0===l?{}:l,f=a.recharge,p=s.courseName,h=d.user_name,v={courseName:p,qrcodeUrl:o,recharge:f,userName:h},window.parent.location.href="//ke.qq.com/yqhPay.html?".concat((0,u.queryToString)(v));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"h5pay",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.orderHandler.getParsePayInfo(),n=t&&t.displayExt&&t.displayExt.courseName,r=this.orderHandler.getStringifyPayInfo(),o="//m.ke.qq.com/m-core/yqhPay.html?".concat((0,u.queryToString)(r),"&courseName=").concat(n,"&pay_method=YQH"),u.Jumper.jump(o);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"order",value:function(e){var t=this.orderHandler.getParsePayInfo(),n=Object.assign(Object.assign({},t.orderReportExt||{}),e);return t.orderReportExt=n,this.orderHandler.order(null,t)}}]),e}();t.YqhPay=d},"/m0i":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={getBkn:!0,fetch:!0,loadScript:!0,jsonp:!0,submitForm:!0,registryFetchErrorHandler:!0};t.getBkn=g,t.fetch=function(e,t,n){var r=e,i=Object.assign({credentials:"same-origin",headers:{},method:"GET",timeout:1e4},t),s=i.method,f=i.body,p=i.data,h=g(),m=Math.random().toFixed(4);r.indexOf("?")<0&&(r+="?");if("GET"===s||"HEAD"===s)null!==p&&p instanceof Object&&(r+=(0,o.queryToString)(p));else{var y=i.headers;y.hasOwnProperty("Content-Type")||!(0,o.isObject)(f)&&!(0,o.isString)(f)||(y["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",i.body=(0,o.queryToString)((0,o.filterProp)(f)))}r="".concat(r).concat(r.endsWith("?")?"":"&","bkn=").concat(h,"&r=").concat(m);var _=0,b=Date.now(),w=function(e){d.default.speedOnlyForward(r,s,Date.now()-b,e,{body:i.body,headers:i.headers,statusCode:_,wangAppid:10028})};return new Promise((function(o,s){window.fetch(r,i).then((function(e){return _=e.status,e.ok?e.json():Promise.reject(e)})).then((function(e){var n=e.retcode;return 0===n?(function(e){var t,n;e.date?(0,a.setSvrTime)((0,a.forceToSeconds)(e.date)):(null===(t=null==e?void 0:e.result)||void 0===t?void 0:t.server_time)?(0,a.setSvrTime)((0,a.forceToSeconds)(e.result.server_time)):(null===(n=null==e?void 0:e.result)||void 0===n?void 0:n.systime)&&(0,a.setSvrTime)((0,a.forceToSeconds)(e.result.systime))}(e),o(e),w(n),e):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.retcode,r=t.tryLogin;switch(n){case 111:case-1001:case 1e5:case 100021:if((0,u.isQQ)()&&(0,l.getMqq)().then((function(e){e&&e.data&&e.data.getUserInfo((function(){d.default.info("cookie已刷新")}))})),!1!==r&&(0,u.isMobile)())return(null==t?void 0:t.noSSO)?new Promise((function(){(0,c.loginMobileNoSSO)()})):new Promise((function(){(0,c.loginMobile)()}))}return Promise.reject(e)}(e,t)})).catch((function(r){var i,o=r.retcode,a=r.msg;if(r instanceof Error)i="SCRIPT",o=-1e3,a="请检查网络并重试(".concat(r.message,")"),d.default.error(JSON.stringify(r,Object.getOwnPropertyNames(r)));else if(o)i="CGI";else if(!o){i="NETWORK";var u=r.status,c=r.statusText;o=u,a="请检查网络并重试(".concat(c,")"),u>=400&&u<500?d.default.monitor(2579548):u>=500&&u<600&&d.default.monitor(2579549)}var l={msg:a,options:t,retcode:o,type:i,url:e};(0,v.dealErrorHandler)(r,n),s(l),w(o)}))}))},t.loadScript=function(e,t){var n=Object.assign({},t);return new Promise((function(t,r){(0,p.default)(e,n,(function(e,n){if(e)return r(e);t(n)}))}))},t.jsonp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return(0,f.default)("".concat(e,"?").concat((0,o.queryToString)(t)),n)},t.submitForm=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="js-ke-request-submit-form-class",i=document.getElementsByClassName(r);0!==i.length?t=i[0]:((t=document.createElement("form")).className=r,document.getElementsByTagName("body")[0].appendChild(t));for(var o in t.innerHTML="",t.setAttribute("action",e),t.setAttribute("method","post"),n)if(n.hasOwnProperty(o)){var a=n[o],u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",o),u.value=a.toString(),t.appendChild(u)}t.submit()},t.registryFetchErrorHandler=function(e){v.dealErrorHandler=e};var o=n("VovU"),a=n("mAAe"),u=n("XOiT"),c=n("3pAx"),s=n("M9qB"),l=n("qGYQ"),d=r(n("HO9c")),f=r(n("7BHk")),p=r(n("Fck8")),h=n("g8Tr");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var v={dealErrorHandler:function(){}};function g(){return function(e){if(!e)return"";for(var t=5381,n=0,r=e.length;n<r;++n)t+=(t<<5)+e.charAt(n).charCodeAt(0);return 2147483647&t}((0,s.getAuth)())}},"/ozl":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PaylayerCourse=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("vqVK"),u=n("uIhe"),c=function(){function e(t,n){(0,i.default)(this,e),this.opts=t,this.prefetchData=n}return(0,o.default)(e,[{key:"getCourseInfo",value:function(){var e=this.opts,t=this.getTerms(),n=this.getDefaultTerm(t),r=this.getExt(),i=this.getAddress(),o={cid:(0,a.getCid)(e),pid:(0,a.getPid)(e),tid:(0,a.getTid)(e),name:n.name,agency_domain:n.agency_domain,agency_home_url:n.agency_home_url,agency_name:n.agency_name,address:i,address_state:n.address_state,cover_url:n.cover_url,must_fill_mailing:n.must_fill_mailing,price:r.price,isPunished:r.isPunished,agency_id:r.agency_id,isOnIOS:r.isOnIOS};return u.imlog.info("【支付模块】","【组装paylayer课程信息】",o),o}},{key:"getAddress",value:function(){return this.getPaylayerData().address}},{key:"getTerms",value:function(){var e=this.getPaylayerData().detail;return void 0===e?[]:e}},{key:"getPaylayerData",value:function(){return this.prefetchData&&this.prefetchData.paylayerData||{}}},{key:"getExt",value:function(){return this.getPaylayerData().ext||{}}},{key:"getDefaultTerm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e[0]||{}}}]),e}();t.PaylayerCourse=c},"/sKp":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("YkGI")),o=r(n("4qiJ")),a=n("kprn"),u=n("AQBO"),c={},s={},l=a&&a.obj&&null!==a.obj(),d={whiteDomain:[],crossProxy:"",crossDomain:!1,localPrefix:"ntdw_seq",seqName:"seq_number"},f=/^tdw_seq/,p=!0,h=!1;function v(){p=!1}function g(e,t){o.default.isPlainObject(e)?t&&t(e):Array.isArray(e)&&o.default.each(e,(function(e,n){t&&t(n)}))}function m(e){var t;try{e&&(t=JSON.parse(e))}catch(e){}return t||{}}function y(){u.getLocal({whiteDomain:d.whiteDomain,iframeUrl:d.crossProxy,crossDomain:d.crossDomain},(function(e){c=e,setTimeout((function(){p&&"/storage_proxy.html"!==window.location.pathname&&c.filter(f,(function(e){var t;e=e.slice(0,4);for(var n=0;n<e.length;n++)(t=m(e[n].value)).seq_number?(t.datas&&t.datas[0].push("local"),t.fields&&t.fields.push("source_from"),s.request(t)):c.remove(e[n].key)}))}),1e3)}))}function _(e){g(e,(function(e){e[d.seqName]=(new Date).getTime()+Math.random().toFixed(17).toString().replace(".","")}))}function b(e){var t=[];_(e),function(e,t){g(e,(function(e){t.push(Object.assign({seq_number:e[d.seqName]},s.composer(e)))}))}(e,t),function(e){c.wasInit&&c.wasInit()&&o.default.each(e,(function(e,t){var n=d.localPrefix+t[d.seqName];c.set(n,JSON.stringify(t))}))}(t)}s.composer=i.default.composer,s.getCommonData=i.default.getCommonData,s.config=i.default.config,s.request=i.default.request,s.config({},{success:function(e,t){if(!c.wasInit||!c.wasInit())return;var n=t.fields,r=t.datas,i=n.indexOf(d.seqName);o.default.each(r,(function(e,t){var n=d.localPrefix+t[i];c.remove(n)}))},error:v,fail:v}),s.report=function(e){b(e),i.default.report(e)},s.reportSync=function(e,t){b(e),i.default.reportSync(e,t)},s.initLocal=function(e){Object.assign(d,e),f=new RegExp("^"+d.localPrefix),l&&!h&&(h=!0,y())};var w=s;t.default=w},"/uBU":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.CashBackAct=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("8p0i"),s=n("GMyB"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},d=function(){function e(){(0,o.default)(this,e),this.requestCache=new c.RequestCache,this.getSasData=this.getSasCacheFn(),this.getActData=this.getActCacheFn(),this.cid=Number((0,s.getCidFromUrl)()),this.pid=Number((0,s.getPidFromUrl)())}return(0,a.default)(e,[{key:"isAct",value:function(e){return l(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCashBackInfo(e);case 2:return n=t.sent,t.abrupt("return",!!n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"isJoinedAct",value:function(){var e;return l(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cid||this.pid){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.getActData();case 4:return n=t.sent,t.abrupt("return",null===(e=null==n?void 0:n.result)||void 0===e?void 0:e.has_cash_back_order);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getPrice",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCashBackInfo();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.price);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getLowerPayPrice",value:function(){var e;return l(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSasData();case 2:return n=t.sent,t.abrupt("return",null===(e=null==n?void 0:n.result)||void 0===e?void 0:e.lower_limit_price);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getCashBackInfo",value:function(e){var t;return l(this,void 0,void 0,i.default.mark((function n(){var r,o,a,u,c,s,l,d;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e||this.cid,o=e||this.pid,e&&(this.cid=Number(e),this.pid=Number(e)),r||o){n.next=5;break}return n.abrupt("return",null);case 5:return n.next=7,this.getSasData();case 7:if(a=n.sent,u=null===(t=null==a?void 0:a.result)||void 0===t?void 0:t.courses,c=(null==a?void 0:a.result)||{},s=c.start_time,l=c.end_time,d=(null==a?void 0:a.date)||Date.now(),!(d<s||d>l)){n.next=14;break}return n.abrupt("return",null);case 14:return n.abrupt("return",null==u?void 0:u.find((function(e){return r&&e.cid===r||o&&e.pid===o})));case 15:case"end":return n.stop()}}),n,this)})))}},{key:"getActCacheFn",value:function(){return this.requestCache.makeCache(this.fetchActData,this,"has_cash_back_order")}},{key:"getSasCacheFn",value:function(){return this.requestCache.makeCache(this.fetchSasData,this,"ke_act_rebases")}},{key:"fetchActData",value:function(){return(0,u.fetch)("/cgi-proxy/has_cash_back_order",{data:this.cid?{course_id:this.cid}:{pkg_id:this.pid}})}},{key:"fetchSasData",value:function(){return(0,u.fetch)("//sas.qq.com/cgi-bin/ke_act_rebases")}}]),e}();t.CashBackAct=d},"/wUM":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Apply=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("D215"),s=n("2dtd"),l=n("2O6f"),d=n("mQ5F"),f=n("ID+g"),p=n("cfQT"),h=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},g=function(){function e(t){(0,o.default)(this,e),this.opts=t,this.preFetcher=new f.PreFetcher(t),this.applyChecker=new d.ApplyChecker(t),this.payHook=c.PayHook.getInstance(),this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e,t,n,r,o;return v(this,void 0,void 0,i.default.mark((function a(){var u;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.initPrefetch();case 2:return i.next=4,this.check();case 4:if(i.sent){i.next=7;break}return i.abrupt("return");case 7:if(this.initDirectApply(),!(null===(e=this.directApply)||void 0===e?void 0:e.canDirectApply())){i.next=15;break}return i.next=11,this.directApply.apply();case 11:null===(n=null===(t=this.opts)||void 0===t?void 0:t.succ)||void 0===n||n.call(t),null===(o=null===(r=this.opts)||void 0===r?void 0:r.close)||void 0===o||o.call(r),i.next=17;break;case 15:u=this.payHook.exec("jumpPurchaseParam",this.opts,this.payData),p.Purchase.Jumper.jumpPurchase(this.opts,u);case 17:case"end":return i.stop()}}),a,this)})))}},{key:"initDirectApply",value:function(){this.directApply=new l.DirectApply(this.payData,this.opts,this.sasGreyAuthMobile)}},{key:"initPrefetch",value:function(){var e,t;return v(this,void 0,void 0,i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.preFetcher.preFetch();case 2:this.prefetchData=n.sent,this.payData=null===(e=this.prefetchData)||void 0===e?void 0:e.payData,this.sasGreyAuthMobile=null===(t=this.prefetchData)||void 0===t?void 0:t.sasGreyAuthMobile;case 5:case"end":return n.stop()}}),n,this)})))}},{key:"check",value:function(){return v(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyChecker.check(this.payData,this.sasGreyAuthMobile);case 2:if(t=e.sent,n=t.pass,r=t.msg,o=t.retcode,a=t.noError,n||a){e.next=9;break}throw{msg:r,retcode:o};case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})))}}]),e}();t.Apply=g,h([(0,s.dealError)()],g.prototype,"init",null)},"0GaA":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackUrl=void 0;var i=r(n("FO6Z")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("nCBb"),s=n("1c9X"),l=n("vqVK"),d=function(){function e(t){(0,o.default)(this,e),this.payInfo=t,this.payHook=c.PayHook.getInstance()}return(0,a.default)(e,[{key:"getCallbackUrl",value:function(e){if(this.payInfo.returnUrl)return this.payInfo.returnUrl;var t=e&&e.token;return(0,u.isPC)()?this.getPcSuccPageUrl(t):this.getH5SuccPageUrl()}},{key:"getReturnUrlParam",value:function(){var e=this.payInfo,t=e.productid,n=e.returnParam,r=void 0===n?{}:n,o=e.channel,a={pay_succ:1};if("object"===(0,i.default)(t)){t.type===s.ProductType.Course?(a.courseId=t.fid,a.termId=t.sid):t.type===s.ProductType.CoursePackage&&(a.pkgId=t.fid);var u=this.getGroupId();u&&(a.groupId=u),o===s.ChannelType.Jd&&(a.isJd=1);var c=this.payHook.exec("payCallbackParam",this.payInfo)||{};return Object.assign(Object.assign(Object.assign({},a),r),c)}}},{key:"needPayWithProductId",value:function(e){return-1!==["agency_recharge","cd_key"].indexOf(e.type)}},{key:"getGroupId",value:function(){var e,t;return null===(t=null===(e=this.payInfo)||void 0===e?void 0:e.discountinfo)||void 0===t?void 0:t.group_id}},{key:"getPcSuccPageUrl",value:function(e){var t=this.payInfo,n=this.getGroupId();if(n)return"".concat(window.location.protocol,"//ke.qq.com/groupResult.html?group_id=").concat(n,"&pay_succ=1");var r=t.productid;if(this.needPayWithProductId(t)){var o=location,a=o.search,u=o.hash,c=o.pathname,d="fid=".concat(r,"&sid=").concat(t.orderId,"&token=").concat(e),f=a?"".concat(a,"&").concat(d):"?".concat(d);return"".concat(window.location.protocol,"//ke.qq.com").concat(c).concat(f).concat(u)}if("object"!==(0,i.default)(r))return"".concat(window.location.protocol,"//ke.qq.com");var p=r.type,h=r.fid,v=r.sid,g="".concat(window.location.protocol,"//ke.qq.com/course/package/").concat(h),m="".concat(window.location.protocol,"//ke.qq.com/course/").concat(h),y=p===s.ProductType.CoursePackage?g:m,_="".concat(y,"?platform=").concat((0,l.getPlatform)(),"&pay_succ=1");return v&&(_="".concat(_,"#term_id=").concat(v)),_}},{key:"getH5SuccPageUrl",value:function(){return window.location.protocol+"//m.ke.qq.com/m-core/paySuccess.html?"+(0,u.queryToString)(this.getReturnUrlParam())}}]),e}();t.CallbackUrl=d},"0Khh":function(e,t,n){"use strict";var r,i,o,a,u,c=n("TqRt")(n("rePB"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("prms");var d=n("lSPl"),f=n("oRpG"),p=n("bhbm").getQuery,h=n("XOiT").isMac,v=n("sWVP").isDownGradeTermForCore,g=n("fDIX"),m=n("CvHy"),y=n("yOLy"),_=n("dYEw");n("AvUf");var b=$(document.body),w=$(".course-group-wrap"),k={},P="2",x="QQ",C="WX",O="QQ_SESSION",A={ENTRY:(r={},(0,c.default)(r,x,"join_qqgroup_entry"),(0,c.default)(r,C,"join_wxgroup_entry"),(0,c.default)(r,O,"join_qqgroup_entry"),r),POP:(i={},(0,c.default)(i,x,"join_qqgroup_pop"),(0,c.default)(i,C,"join_wxgroup_pop"),(0,c.default)(i,O,"join_qqgroup_pop"),i),JOIN:(o={},(0,c.default)(o,x,"join_qqgroup_join"),(0,c.default)(o,C,"join_wxgroup_join"),(0,c.default)(o,O,"join_qqgroup_join"),o)},T=(a={},(0,c.default)(a,x,"qqgroup"),(0,c.default)(a,C,""),(0,c.default)(a,O,"qqfriend"),a),S=(u={},(0,c.default)(u,x,"点击进群"),(0,c.default)(u,C,"确定"),(0,c.default)(u,O,"联系老师"),u);function E(e){var t=0;return e.length>1&&(t=Math.floor(Math.random()*e.length)),e[t]}var I={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isInApplySucc:!1},n=t.isInApplySucc,r=void 0!==n&&n,i=t.$container,o=t.onErr;I.cid=e,I.getGroupData(e,{force:r,onSucc:function(e){r?I.renderGroupInApplySucc(e,i,o):I.renderGroup(e,w)},onErr:function(){r?o&&o():w.addClass("hide")}})},getGroupData:function(e,t){var n=t.force,r=t.onSucc,i=t.onErr;if(window.__previewCourseGroup__)r(window.__previewCourseGroup__);else{if(!n&&v(window.metaData))return;var o=function(e){return k[e]||null}(e);if(o)return void r(o);_.getCourseGroup({param:{course_id:e},succ:function(t){!function(e,t){k[e]=t}(e,t.result),r(t.result)},err:function(e){return i(e),window.BJ_REPORT&&window.BJ_REPORT.error("getCourseGroup 获取加群信息拉取失败【".concat(JSON.stringify(e),"】")),!0}})}},renderGroup:function(e,t){e=I.processData(e),I.data=e,t.html(g({courseGroup:e})),e?(I.initEvent(e),d.tdw({action:"exposure",module:A.ENTRY[e.contactType],ver1:T[e.contactType]})):t.addClass("hide")},renderGroupInApplySucc:function(e,t,n){(e=I.processData(e))?(I.data=e,t.html(y(l(l({},e),{},{joinText:S[e.contactType]}))),d.tdw({action:"exposure",module:A.POP[e.contactType],ver1:T[e.contactType],ver2:"enroll"}),t.on("click.courseGroup",".js-join-group",(function(){I.onJoinClick(e,!0)}))):n&&n()},processData:function(e){if(!e)return null;var t=f.isWeixinUser()?C:x,n=e.sg_qq_conf,r=void 0===n?{}:n,i=e.sg_wx_conf,o=void 0===i?{}:i,a=null;r.state=parseInt(r.state,10),o.state=parseInt(o.state,10);var u=!!r.state,c=!!o.state;return u&&c&&((a=t===C?o:r).accountType=t),c&&!u&&((a=o).accountType=C),!c&&u&&((a=r).accountType=x),a?(a.contactType=a.accountType,a.accountType===x&&a.type===P&&(a.contactType=O),a):null},initEvent:function(e){b.on("click.courseGroup",".course-group",(function(){I.showModal(e),d.tdw({action:"exposure",module:A.POP[e.contactType],ver1:T[e.contactType]})}))},showModal:function(e){$.modal({className:"modal--course-group",title:"",isClose:!0,txtYes:S[e.contactType],isNo:!1,content:m(e),width:373,yes:function(){I.onJoinClick(e)}})},joinQQGroup:function(e){_.getQQGroupUrl({param:{group:e},succ:function(e){e.result&&e.result.url?setTimeout((function(){window.open(e.result.url)}),500):$.modal.alert("获取QQ群地址失败")},err:function(){$.modal.alert("获取QQ群地址失败")}})},joinQQSession:function(e){window.open("//wpa.qq.com/msgrd?v=3&uin=".concat(e,"&site=qq&menu=yes"))},onJoinClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=p("preview");n||(d.tdw({action:"click",module:A.JOIN[e.contactType],ver1:h()?"mac":"windows",ver2:t?"enroll":""}),e.contactType===x&&e.qq_num&&e.qq_num.length>0?h()?$.modal({title:"提示",content:"请通过电脑登录Windows系统，再访问该页面。",isNo:!1,icon:"info",buttonsAlign:"right",enableBgClose:!1}):I.joinQQGroup(E(e.qq_num)):e.contactType===O&&e.teacher_qq&&e.teacher_qq.length>0&&I.joinQQSession(E(e.teacher_qq)))}};e.exports=I},"0mjW":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.trim=u,t.pad=function(e,t){var n=e.toString(),r=n.length;for(;r++<t;)n="0".concat(n);return n},t.formatPriceSignUp=function(e){if(e>=1e7)return"".concat(Math.floor(e/1e7),"千万");if(e>=1e6)return"".concat(Math.floor(e/1e6),"百万");if(e>=1e4)return"".concat(Math.floor(e/1e4),"万");return(null==e?void 0:e.toString())||"0"},t.formatDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD hh:mm:ss",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=t;"number"==typeof t&&(n=10===(t+"").length?new Date(1e3*t):new Date(t));return e.replace(/([YMDwhHsmS])\1*/g,(function(e){var t="string"==typeof e?e:"";switch(t.charAt(0)){case"Y":return c(n.getFullYear(),t);case"M":return c(n.getMonth()+1,t);case"D":return c(n.getDate(),t);case"w":return(n.getDay()+1).toString();case"h":case"H":return c(n.getHours(),t);case"m":return c(n.getMinutes(),t);case"s":return c(n.getSeconds(),t);case"S":return c(n.getMilliseconds(),t);default:return""}}))},t.formatSize=function(e){if(e>1048576)return(e/1024/1024).toFixed(1)+"MB";var t=(e/1024).toFixed(1)+"KB";if("0.0KB"===t)return"0.1KB";return t},t.formatRichTextWithLink=function(e){var t=e.replace(/((<p><br><\/p>)*$)/g,"");t=t.replace(/\t/g,"  ").replace(/[\n|\r]/g,"<br>").replace(/&amp;/g,"&");return t=(t=t.replace(/(http:\/\/|https:\/\/|tencent:\/\/|www\.)((\w|=|\?|\.|#|\/|&|-)+)/g,'<a href="$1$2" target="_blank" style="text-decoration: underline;">$1$2</a>')).replace(/(href="www\.)/g,'href="https://www.')},t.transformBR=function(e){return e.replace(/<br(\s?)+(\/?)(\s?)+>/g,"\n")},t.transformNBSP=function(e){return e.replace(/&nbsp;/g," ")},t.formatNumberBasic=l,t.formatPriceBasic=d,t.fromatPrice=function(e){return d(e)},t.formatCgiDate=function(e){return new Date(1e3*e)},t.getTimeTransInfo=function(e){var t=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600%24);return{days:Math.floor(e/86400),hours:r,minutes:n,seconds:t}},t.formatRate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat((100*(e||0)).toFixed(t),"%")},t.strEllipsis=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=u(e),r=n.length,i=0,o=0;o<r;o++){if(/[^\x00-\xff]/.test(n.charAt(o))?i+=2:i+=1,i>t)return"".concat(n.substr(0,o),"...");if(o===r-1&&i<=t)return n.substr(0,o+1)}return""},t.decodeHtml=function(e){return e?e.replace(v,(function(e){return f[e]})):e},t.encodeHtml=function(e){return e?e.replace(m,(function(e){return p[e]})):e},t.convertToCamel=y,t.convertCamelObject=function e(t){return Object.keys(t).forEach((function(n){if(n){var r=y(n);t[r]=t[n],"object"===(0,i.default)(t[r])&&(t[r]=e(t[r])),delete t[n]}})),t},t.formatDuration=function(e,t){var n=t||{},r=n.ignoreDay,i=void 0!==r&&r,o=n.ignoreHour,u=void 0!==o&&o,c=i?0:Math.floor(e/a.SECONDS_OF_DAY),s=u?0:Math.floor((e-c*a.SECONDS_OF_DAY)/a.SECONDS_OF_HOUR),l=Math.ceil((e-c*a.SECONDS_OF_DAY-s*a.SECONDS_OF_HOUR)/a.SECONDS_OF_MINUTE),d="";c>0&&(d+="".concat(c,"天"));s>0&&(d+="".concat(s,"时"));l>0&&(d+="".concat(l,"分"));return d},t.formatStandardDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YY-MM-DD",n=(0,o.default)(1e3*e);return n.format(t)},t.formatLiveDate=function(e,t){var n=(0,o.default)(1e3*e),r=(0,o.default)(1e3*t),i=r.isAfter(n,"day")?"(次日)":"";return"".concat(n.format("M月D日 HH:mm"),"-").concat(r.format("HH:mm")).concat(i)},t.fillZero=function(e){return e<10?"0".concat(e):e},t.formatYear=function(e){var t=(0,o.default)(1e3*e);return t.format("".concat(t.isSame(1e3*(0,a.current)(),"year")?"":"YY年","M月D日"))},t.formatPriceSimple=_,t.formatPriceZero=function(e){var t=parseFloat(String(e/100)),n=String(t),r=n.indexOf(".");if(r>-1&&n[r+2])return t.toFixed(2);return t||"0"},t.splitPrice=function(e){var t=_(e).split(".");return{integer:t[0],decimal:t[1]}},t.minPrice=b,t.formatDecimal=w,t.formatDiscountPrice=function(e){return w(_(b(e)))},t.formatBargainDiscountPrice=function(e){return w(_(e))};var i=r(n("FO6Z")),o=r(n("fGgE")),a=n("mAAe");function u(e){return e.replace(/^(\s|&nbsp;)*|(\s|&nbsp;)*$/g,"")}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.length;return 1===n?e:String(Math.pow(10,n)+e).slice(-n)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"round",r=Math.pow(10,t),i=parseFloat((e*r).toFixed(2*t)),o=0;return"round"===n?o=Math.round(i):"ceil"===n?o=Math.ceil(i):"floor"===n&&(o=Math.floor(i)),(parseFloat(o.toFixed(2*t))/r).toString()}function l(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"round",i=isFinite(e)?e:0,o=isFinite(t)?Math.abs(t):0,a=n?",":" ",u=".",c=(o?s(i,o,r):""+Math.round(i)).split("."),l=/(-?\d+)(\d{3})/;l.test(c[0]);)c[0]=c[0].replace(l,"$1"+a+"$2");return(c[1]||"").length<o&&(c[1]=c[1]||"",c[1]+=new Array(o-c[1].length+1).join("0")),c.join(u).replace(/\s/g,"")}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=l(e/100,2,n);return"0.00"===i&&r?"免费":(1===t?i="¥".concat(i):2===t&&(i="".concat(i,"元")),i)}var f={"&#39;":"'","&amp;":"&","&apos;":"'","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"'},p={'"':"&quot;","&":"&amp;","'":"&apos;","<":"&lt;",">":"&gt;"},h=Object.keys(f),v=new RegExp("(".concat(h.join("|"),")"),"g"),g=Object.keys(p),m=new RegExp("(".concat(g.join("|"),")"),"g");function y(e){return e.replace(/[_]\w/g,(function(e){return e[1].toUpperCase()}))}function _(e){return(e/100).toFixed(2)}function b(e){return Math.max(2,e)}function w(e){return parseFloat(e)<100?e:/\.00$/.test(e)?e.slice(0,-3):e}},"11nn":function(e,t,n){var r=n("oRpG"),i=n("bFh4");e.exports={timeout:null,timespace:2e3,handle:function(){r.isWeixinUser()&&(clearTimeout(this.timeout),i.get("login").trigger("weixinWillDone"),i.get("login").trigger("weixinDone"))},init:function(){var e=this;clearTimeout(e.timeout),e.timeout=setTimeout((function(){e.handle()}),e.timespace)},destroy:function(){clearTimeout(self.timeout)}}},"1Jy+":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Fetcher=void 0;var i=r(n("aDhn")),o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("FO6Z")),s=r(n("INZq")),l=n("F5LU"),d=n("P87J"),f=n("22lB"),p=n("ID+g"),h=n("GYbC"),v=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,c.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},m=function(){function e(t){(0,a.default)(this,e),this.opts=t,this.preFetcher=new p.PreFetcher(t)}return(0,u.default)(e,[{key:"fetchData",value:function(e){return this.opts=Object.assign(Object.assign({},this.opts),e),this.preFetcher=new p.PreFetcher(this.opts),Promise.all([this.fetchBaseData(),this.fetchPriceData()]).then((function(){s.default.tdw({action:"exposure",module:"pay_layer",ver1:0})})).catch((function(e){var t=null==e?void 0:e.retcode;throw s.default.tdw({action:"exposure",module:"pay_layer",ver1:t||-1}),e}))}},{key:"getIAPConfig",value:function(){var e=this;return(0,l.fetch)("//sas.qq.com/cgi-bin/ke_operation_getIAPConfig").then((function(t){return g(e,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})))})).catch((function(){return g(e,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})))}))}},{key:"fetchPriceData",value:function(e){var t=this;return(0,l.fetch)(f.CGI.getPriceData,{body:JSON.stringify(Object.assign(Object.assign({},(0,h.getPayPriceParam)(this.opts)),e)),headers:(0,i.default)({},"Content-Type","application/json;charset=utf-8"),method:"POST"}).then((function(e){t.discountData=null==e?void 0:e.result})).catch((function(e){throw e}))}},{key:"fetchBaseData",value:function(){var e=this;return this.preFetcher.preFetch().then((function(t){e.payDetail=null==t?void 0:t.payData,e.sasGreyAuthMobile=null==t?void 0:t.sasGreyAuthMobile})).catch((function(e){throw e}))}},{key:"getPayDetail",value:function(){return this.payDetail}},{key:"getDiscountData",value:function(){return this.discountData}},{key:"getSasGreyAuthMobileData",value:function(){return this.sasGreyAuthMobile}}]),e}();t.Fetcher=m,v([(0,d.log)("拉取payDetail数据&批价数据")],m.prototype,"fetchData",null),v([(0,d.log)("拉取ios提审数据")],m.prototype,"getIAPConfig",null),v([(0,d.log)("拉取批价数据")],m.prototype,"fetchPriceData",null),v([(0,d.log)("拉取基础数据（payDetail,sasGreyAuthMobile）")],m.prototype,"fetchBaseData",null)},"1KJH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("5kX2");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},"1OfD":function(e,t,n){"use strict";var r,i,o,a,u,c;Object.defineProperty(t,"__esModule",{value:!0}),t.FILE_TYPE=t.AttachmentType=t.HomeworkScore=t.HomeworkSearchStatus=t.HomeworkFixStatus=t.HomeworkUserStatus=void 0,t.HomeworkUserStatus=r,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.COMMITTED=1]="COMMITTED",e[e.CORRECTED=2]="CORRECTED",e[e.RECOMMIT=3]="RECOMMIT"}(r||(t.HomeworkUserStatus=r={})),t.HomeworkFixStatus=i,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.NEEDFIX=1]="NEEDFIX",e[e.FIXED=2]="FIXED"}(i||(t.HomeworkFixStatus=i={})),t.HomeworkSearchStatus=o,function(e){e[e.ALL=0]="ALL",e[e.DOING=1]="DOING",e[e.END=2]="END"}(o||(t.HomeworkSearchStatus=o={})),t.HomeworkScore=a,function(e){e[e.APlus=4]="APlus",e[e.A=3]="A",e[e.B=2]="B",e[e.C=1]="C"}(a||(t.HomeworkScore=a={})),t.AttachmentType=u,function(e){e[e.READING=0]="READING",e[e.RECITE=1]="RECITE",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO",e[e.SITUATIONAL_DIALOGUE=5]="SITUATIONAL_DIALOGUE",e[e.WORD_LEARNING=6]="WORD_LEARNING",e[e.TEXT_EXERCISE=7]="TEXT_EXERCISE",e[e.PRACTICE=8]="PRACTICE",e[e.DUBBING=9]="DUBBING",e[e.TEST_PAPER=10]="TEST_PAPER",e[e.EXERCISES=11]="EXERCISES"}(u||(t.AttachmentType=u={})),t.FILE_TYPE=c,function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.IMG=1]="IMG",e[e.VIDEO=2]="VIDEO",e[e.AUDIO=3]="AUDIO",e[e.WORD=4]="WORD",e[e.PDF=5]="PDF"}(c||(t.FILE_TYPE=c={}))},"1Pex":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("267F");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},"1RNr":function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("TqRt"),_typeof2=_interopRequireDefault(__webpack_require__("U8pU")),_imlog=_interopRequireDefault(__webpack_require__("Kwep")),$=__webpack_require__("xeH2"),bkn=__webpack_require__("6mhg"),Login=__webpack_require__("I5uA"),MM=__webpack_require__("ZlTi"),Cookie=__webpack_require__("q+3g"),Check=__webpack_require__("oRpG"),Tips=__webpack_require__("OB4N"),global=void 0,EC_TYPE={ALERT:1,TOAST:2,NONE:3},Badjs=window.Badjs,__DEBUG_STR__=function(){return""},$reportParam={_404:0,_5xx:0};function noop(){}function extendCallBack(e,t,n,r){return function(){!n.apply(e,t)&&r.apply(e,t)}}function _extend(e,t,n){if("object"!=(0,_typeof2.default)(e))return e;for(var r in t=t||{}){var i,o;n&&"function"==typeof(i=e[r])&&"function"==typeof(o=t[r])?e[r]=extendCallBack(e,arguments,o,i):e[r]=t[r]}}var _isLoginError=!1;function encryptSkey(e){if(!e)return"";for(var t=5381,n=0,r=e.length;n<r;++n)t+=(t<<5)+e.charAt(n).charCodeAt();return 2147483647&t}var getCookie=Cookie.get,_uin;_uin=Check.isWeixinUser()?getCookie("uid_uin")||0:getCookie("p_luin")||getCookie("p_uin")||getCookie("uin")||0;var uinCache={},ajax=function(e,t,n,r,i,o,a){var u=new Date,c=!1;!function e(t){if("string"==typeof t&&t.indexOf("uin")>=0)c=!0;else for(var n in t)"string"==typeof n&&n.indexOf("uin")>=0&&(c=!0),"object"==(0,_typeof2.default)(t[n])&&e(t[n])}(t);var s=e.split("?")[0];c&&!uinCache[s]&&(uinCache[s]=!0);var l={type:r,url:e,data:t,async:!1!==a,success:function(t){var r=!1;!function e(t){for(var n in t)"string"==typeof n&&n.indexOf("uin")>=0&&(r=!0),"object"==(0,_typeof2.default)(t[n])&&e(t[n])}(t);var i=e.split("?")[0];r&&!uinCache[i]&&(uinCache[i]=!0);var o=new Date-u;n&&n(t,o)},error:function(e){var t=new Date-u;n&&n({ec:e.status?e.status:-1e3},t)}};return o&&(l.timeout=o),i&&(l.dataType=i),$.ajax(l)};function removeDialog(){$(".js-modal, .js-modal-bg").remove()}var cache={};module.exports={abTest:!!(new Date%2),status:{bkn:""},"data-cache":{},isLoginError:function(){return _isLoginError},encryptSkey:encryptSkey,getCookie:getCookie,getBkn:function(){return bkn()},initReport:function(e){},get:function(e,t,n,r,i,o){var a=[];for(var u in t)a.push(u+"="+encodeURIComponent(t[u]));return a.push("r="+Math.random()),-1==e.indexOf("?")&&(e+="?"),e+=a.join("&"),ajax(e,null,n,"GET",r,i,o)},post:function(e,t,n,r,i,o){var a=[];for(var u in t)a.push(u+"="+encodeURIComponent(t[u]));return a.push("r="+Math.random()),ajax(e,a.join("&"),n,"POST",r,i,o)},cgiHttp:function cgiHttp(opt){if(opt&&opt.url){var _this=this;opt.param=opt.param||{};var timeOpt={url:opt.url},httpFunction,callBack=function callBack(data,ajax_cost){if(timeOpt.time=+new Date,"object"!==(0,_typeof2.default)(data))if(data)if("{"===data.charAt(0)&&"}"===data.charAt(data.length-1))try{data=window.JSON&&JSON.parse?JSON.parse(data):eval("("+data+")")}catch(e){data={ec:999,text:data,msg:"data is no json"}}else data={ec:998,text:data,msg:"data is hijack"};else data={ec:997,text:data,msg:"data is null"};data.delay=ajax_cost,"retcode"in data?data.ec=data.retcode:data.retcode=data.ec;var ec=data.ec,errFlag;switch(ec){case 0:errFlag=!1,(opt.succ||function(){})(data);break;case 111:case-1001:case 1e5:case 100021:_isLoginError=!0,window.jQuery&&window.jQuery.event.trigger("logout"),opt.noNeedLogin?errFlag=!0:void 0!==Login?Login.show({succ:function(){opt.param.bkn=_this.status.bkn=bkn(),httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)},close:function(){"function"==typeof opt.close&&opt.close.call(this),Badjs&&Badjs("CGI Error , LoginFailed , req:"+opt.url+", ec:"+ec,location.href,0,403860,2)}}):errFlag=!0,Badjs&&Badjs("CGI Error , Need Login,  req:"+opt.url+", ec:"+ec,location.href,0,403855,2);break;case 100021:opt.ldwRetry?errFlag=!0:(opt.ldwRetry=!0,_this.status.bkn=bkn(),opt.param.bkn=_this.status.bkn,httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)),Badjs&&Badjs("CGI Error , Basekey Error , req:"+opt.url+", ec:"+ec,location.href,0,403856,2);break;case 100001:errFlag=!0,Badjs&&Badjs("CGI Error , Param Error:"+JSON.stringify(opt.param)+" , req:"+opt.url+", ec:"+ec,location.href,0,403858,2);break;case 100003:errFlag=!0,Badjs&&Badjs("CGI Error , Internal Error , req:"+opt.url+", ec:"+ec,location.href,0,403857,2);break;case-1e3:errFlag=!0,ec=data.ec=0;break;case 99999:errFlag=!0,Badjs&&Badjs("CGI Error , Need Show VerifyCode Error , red:"+opt.url+", ec:"+ec,location.href,0,0,2);break;case 101402:case 101403:case 101404:case 101405:case 101406:case 102404:case 103404:case 106401:case 106402:case 106403:case 106404:case 106405:case 106406:case 106407:case 106409:case 106410:case 106411:case 106412:case 106413:case 106415:case 106416:case 106425:case 106427:case 106435:case 106457:case 110403:case 109113:case 109122:errFlag=!0,Badjs&&Badjs("CGI Error , Bussines Error , req:"+opt.url+", ec:"+ec,location.href,0,408941,2);break;default:errFlag=!0,Badjs&&Badjs("CGI Error , Other Error , req:"+opt.url+", ec:"+ec,location.href,0,403859,2)}if(MM.report(opt.url,ec,ajax_cost,Cookie.uin()),400===ec&&_imlog.default.error("【edu-db】请求返回400.",opt.url),errFlag){var isBlockDefaultErr=(opt.err||function(){})(data),retcodeConfig=opt.retcodeConfig,errHandler=function(e){var t=e.type,n=e.wording;if(!isBlockDefaultErr)switch(removeDialog(),t){case EC_TYPE.TOAST:Tips.alert(n);break;case EC_TYPE.NONE:break;case EC_TYPE.ALERT:default:$.modal&&$.modal.alert(n)}};if(data.msg)return void errHandler({type:data.type,wording:data.msg+"("+ec+")"});var defaultErrHandler=function(){var e={100001:"输入参数错误",100003:"服务器内部错误，请稍后再试",110405:"没有管理权限，请稍后再试"}[ec]||"服务器繁忙，请稍后再试",t=function(){switch(_this.status.isDialog=!1,ec){case 106507:location.href="/index.html";break;case 106406:case 106407:case 110405:location.href="/index.html"}};if(106507===ec)return _this.status.isDialog=!0,$.modal&&$.modal.alert("由于触犯平台规则，机构功能禁止使用7天",{title:"提示",onCancel:t,onAccept:t,onClose:t});var n=e+"("+ec+")";ec>=400||$.modal&&$.modal.alert(n+__DEBUG_STR__({url:opt.url,ret:data},"info"),{type:"err",onCancel:t,onAccept:t,onClose:t}),_this.status.isDialog=!0};if(ec&&!_this.status.isDialog&&106457!==ec){var retcodeFlag=!1;if(retcodeConfig&&(Object.keys(retcodeConfig).forEach((function(e){var t=retcodeConfig[e];ec===+e&&(errHandler({type:"object"===(0,_typeof2.default)(t)?t.type:1,wording:("object"===(0,_typeof2.default)(t)?t.wording:t)+"("+ec+")"}),retcodeFlag=!0,_this.status.isDialog=!0)})),retcodeFlag||-1===[100001,100003,110405,106406,106407,106507].indexOf(ec)||(retcodeFlag=!0,defaultErrHandler())),retcodeFlag)return;if(isBlockDefaultErr){var msg=isBlockDefaultErr.msg;if(msg){msg+=__DEBUG_STR__({url:opt.url,ret:data},"info");var __opt=isBlockDefaultErr.opt||{},_onCancel=__opt.onCancel;opt.onCancel=function(){_onCancel.apply(__opt,arguments),_this.status.isDialog=!1},$.modal&&$.modal.alert(msg,__opt),_this.status.isDialog=!0}}else defaultErrHandler()}}};opt.param.bkn=bkn(),opt.type&&"GET"!=opt.type.toUpperCase()?(opt.type="POST",httpFunction=_this.post):(opt.type="GET",httpFunction=_this.get);var ret=httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async);return ret}},extend:function(e,t,n,r){var i=Object.prototype.toString.call(e);if("[object String]"===i){n=n||this;var o={};o[e]=t,_extend(n,o,r)}else"[object Object]"===i&&(null==t&&arguments.length>=4?_extend(n=n||this,e,r):(r=n,_extend(n=t||this,e,r)))},addCgi:function(e,t){var n=this,r={};r[e]=function(e){var r={};r.param=e.param||{},r.url=t,r.succ=function(t){(e.succ||function(){})(t)},r.err=function(t){(e.err||function(){})(t)},n.cgiHttp(r)},this.extend(r)},httpMethod:function(e){var t=this;return function(n){var r={};return r.async=!1!==e.async,r.param=n.param,r.retcodeConfig=n.retcodeConfig,r.timeout=n.timeout,e.type&&(r.type=e.type),e.dataType&&(r.dataType=e.dataType),e.noNeedLogin&&(r.noNeedLogin=e.noNeedLogin),r.url=e.url,r.succ=function(t){return(e.succ||n.succ||noop)(t)},r.err=function(t){return(e.err||n.err||function(){})(t)},r.close=function(t){return(e.close||n.close||function(){})(t)},r.isUseModal=n.isUseModal,t.cgiHttp(r)}},httpMethodPromise:function(e){var t=this,n=function(n){var r=$.extend({},e,n);return new Promise((function(e,n){r.succ=e,r.err=n,t.cgiHttp(r)}))};return n.cfg=e,n},wrapGroup:function(e){return e||{}},save:function(e,t){cache[e]=t},getCache:function(e){return cache[e]},clearCache:function(e){cache[e]=null}}},"1RQl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxyURL=function(e,t){return"string"==typeof e?"".concat(e).concat(t):"function"==typeof e?e(t):t},t.getResourceProxyUrl=function(e){return"//fudao.qq.com/tx_tls_gate=".concat(/^\/\//.test(e)?"".concat(window.location.protocol).concat(e):e)},t.addProxyFlag=function(e){if(!i(e))return"".concat(e,"#").concat(r.PROXY_FLAG);return e},t.addDefaultFlag=function(e){if(!o(e))return"".concat(e,"#").concat(r.DEFAULT_FLAG);return e},t.isProxyUrl=i,t.isDefaultUrl=o;var r=n("r/kS");function i(e){return e.indexOf(r.PROXY_FLAG)>-1}function o(e){return e.indexOf(r.DEFAULT_FLAG)>-1}},"1bTK":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.wrapImgElement=function(e,t,n,r){var s=e.src,l=e.onerror,d=r||{},f=d.onRetryProxy,p=void 0===f?c:f,h=d.onRetryDefault,v=void 0===h?c:h,g=d.onRetryFail,m=void 0===g?c:g,y=d.shouldIgnore,_=function(){if(e.src!==s||e[o.originalSrcKey])(0,a.isProxyUrl)(e.src)&&n?(e.src=(0,a.addDefaultFlag)(n),u.error("图片代理加载失败，重试默认图加载: ",n),i.default.monitor(34827154),v&&v(n)):(0,a.isDefaultUrl)(e.src)&&(e.onerror=null,u.error("图片默认图加载失败: ",s),i.default.monitor(34827155),m&&m(s));else{if(y&&y(e))return;e[o.originalSrcKey]=s,e.src=(0,a.addProxyFlag)(t),u.warn("图片重试代理加载: ",t),i.default.monitor(34827153),p&&p(t)}};e.onerror=function(e){"function"==typeof l&&l.call(this,e),_()},e.complete&&0===e.naturalWidth&&_()};var i=r(n("HO9c")),o=n("cUZS"),a=n("1RQl"),u=i.default.createLogger("img-retry"),c=function(){}},"1c9X":function(e,t,n){"use strict";var r,i,o,a,u,c,s,l;Object.defineProperty(t,"__esModule",{value:!0}),t.UserType=t.PresentType=t.ChannelType=t.ApplyFreeType=t.ProductType=t.Source=t.PageFrom=t.Platform=void 0,t.Platform=r,function(e){e[e.PC=1]="PC",e[e.Android=2]="Android",e[e.AndroidApp=3]="AndroidApp",e[e.IOS=4]="IOS",e[e.IOSApp=5]="IOSApp",e[e.PCApp=6]="PCApp",e[e.MP=7]="MP"}(r||(t.Platform=r={})),t.PageFrom=i,function(e){e.Order="order"}(i||(t.PageFrom=i={})),t.Source=o,function(e){e[e.PC=0]="PC",e[e.H5=1]="H5",e[e.IAP=2]="IAP",e[e.Android=3]="Android",e[e.MP=4]="MP"}(o||(t.Source=o={})),t.ProductType=a,function(e){e.CoursePackage="course_package",e.Course="course",e.AgencyRecharge="agency_recharge",e.CdKey="cd_key",e.Instalment="installment"}(a||(t.ProductType=a={})),t.ApplyFreeType=u,function(e){e.ApplyFree="applyFree",e.ApplyFreePackage="applyFreePackage",e.Present="present",e.PkgCoursePresent="pkgCoursePresent"}(u||(t.ApplyFreeType=u={})),t.ChannelType=c,function(e){e.Midas="midas",e.Jd="jd",e.Yqh="YQH"}(c||(t.ChannelType=c={})),t.PresentType=s,function(e){e.PkgCoursePresent="pkgCoursePresent"}(s||(t.PresentType=s={})),t.UserType=l,function(e){e.Visitor="游客",e.Weixin="微信",e.QQ="QQ"}(l||(t.UserType=l={}))},"1cwk":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.DEFUALT_OPTS=t.REPORT_CONFIG=t.APPID=t.ERROR_GET_TOKEN_ERROR=t.ERROR_TYPE_NOT_SUPPORT=t.ERROR_TYPE_OTHER_ERROR=t.ERROR_TYPE_NETWORK=void 0;var i=r(n("0HC3"));t.ERROR_TYPE_NETWORK=1;t.ERROR_TYPE_OTHER_ERROR=2;t.ERROR_TYPE_NOT_SUPPORT=3;t.ERROR_GET_TOKEN_ERROR=4;var o="test"===window.ENV_NAME||i.default.query("test")?"1251502357":"1258712167";t.APPID=o;t.REPORT_CONFIG={badjsId:"1162",tdwBase:{opername:"Edu",module:"tcplayerlite_pc_record"},monitor:{total:34384919,first:34384920,error:34384921,overtime:34384922,loadError:34384923,decodeError:34384924,envError:34384925,argumentError:34384926,otherError:34384927,buffered:34384928},timeout:10};t.DEFUALT_OPTS={vodType:0,cid:0,termId:0}},"1h83":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readHomeworkCommitReivews=function(e){return(0,r.fetch)("/cgi-proxy/homework/read_review",{data:e})};var r=n("F5LU")},"1jOc":function(e,t,n){var r=n("cDf5"),i=n("xeH2"),o=n("uQ0J"),a=function(e,t){o.cfg.url=e;var n=["page_start","page_css_ready","page_js_ready","page_main_start","page_main_end","page_render_end","page_render_fp"];if(t&&t.isd&&"object"===r(t.isd))for(var i in t.isd)n.push(i);o.report(n,t||{})},u=function(e,t){"complete"===document.readyState?a(e,t):i(window).load((function(){setTimeout((function(){a(e,t)}),0)}))};i.initHuatuo=u,e.exports={init:u}},"1oEo":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ActHook=void 0;var i=r(n("gBQG")),o=r(n("+jPT")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("e4x/")),s=r(n("Udhi")),l=r(n("okMe")),d=n("rRu0"),f=n("GYbC"),p=n("2dtd"),h=n("MZFa"),v=n("NNlU"),g=n("oP4h"),m=n("OcuG");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var _=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},b=function(e){(0,c.default)(n,e);var t=y(n);function n(){var e;return(0,a.default)(this,n),(e=t.call(this)).isObn=!1,e.isCashBack=!1,e.cashBackMinPrice=0,e.obnAct=new m.PayObnAct,e.cashBackAct=new v.PayCashBackAct,e}return(0,u.default)(n,[{key:"prefetch",value:function(e){return _(this,void 0,void 0,i.default.mark((function t(){var n,r,a,u,c,s,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,f.isCourse)(e)?e.cid:e.pid,t.next=3,Promise.all([this.obnAct.isAct(),this.cashBackAct.isAct(n),g.distributePhoneInstance.load()]);case 3:return r=t.sent,a=(0,o.default)(r,3),u=a[0],c=a[1],s=a[2],t.next=10,this.cashBackAct.getLowerPayPrice();case 10:return l=t.sent,this.cashBackMinPrice=l,this.isObn=u,this.isCashBack=c,t.abrupt("return",{cashBackMinPrice:l,distributePhoneInfo:s,isCashBack:c,isObn:u});case 15:case"end":return t.stop()}}),t,this)})))}},{key:"jumpPurchaseParam",value:function(e,t){var n=(0,f.isCourse)(e)?e.cid:e.pid,r=null==t?void 0:t.ext.agency_id,i={};return g.distributePhoneInstance.isDistributeForcePhoneAuth(n,r)&&(i.is_distribute_phone=1),e.needCheckAuthMobile&&(i[d.PurchaseUrlQueryKey.IsAuthMobile]=1),i}},{key:"payCallbackParam",value:function(e){var t;return(null===(t=null==e?void 0:e.discountinfo)||void 0===t?void 0:t.group_id)?{}:this.isObn?this.obnAct.getCallbackUrlParam(e):this.isCashBack?this.cashBackAct.getCallbackUrlParam(e,this.cashBackMinPrice):{}}},{key:"payOpts",value:function(e){return this.isObn?this.obnAct.getPayOpts(e):e}},{key:"beforePayCheck",value:function(){return _(this,void 0,void 0,i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isObn){e.next=6;break}return e.next=3,this.obnAct.beforePayCheck();case 3:return t=e.sent,n=t.pass,r=void 0===n||n,e.abrupt("return",{pass:r});case 6:return e.abrupt("return",{pass:!0});case 7:case"end":return e.stop()}}),e,this)})))}},{key:"beforePhoneActiveJump",value:function(e,t){var n=(0,f.isCourse)(e)?e.cid:e.pid,r=null==t?void 0:t.ext.agency_id;if(e.page===d.ApplyPage.H5CourseDetail&&g.distributePhoneInstance.isDistributeForcePhoneAuth(n,r))return p.ApplyFrontErrorRetcode.DistributeForcePhoneAuth}}]),n}(h.DefaultHook);t.ActHook=b},"1rZ3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/+e+");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},"1rjL":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.MpPay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("P87J"),l=n("rRu0"),d=n("GYbC"),f=n("R3/i"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(t){(0,o.default)(this,e),this.payOpts=t,this.orderHandler=new f.Order(t)}return(0,a.default)(e,[{key:"pay",value:function(){var e,t;return h(this,void 0,void 0,i.default.mark((function n(){var r,o,a;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.orderHandler.order({ext_msg:{save_order_offerid:"1450014245",save_order_uin_type:"wx_openid"}});case 2:return r=n.sent,o=r.result&&r.result.token,a={is_sandbox:o.is_sandbox,pf:"midas_group_pay-1000-html5-1000",url_params:o.url_params},a=encodeURIComponent(JSON.stringify(a)),null===(t=(e=this.payOpts).beforePay)||void 0===t||t.call(e,this.payOpts),n.next=9,this.jumpWeAppPay(a,o.openid);case 9:return n.abrupt("return",a);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"jumpWeAppPay",value:function(e,t){var n;return h(this,void 0,void 0,i.default.mark((function r(){var o,a;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=this.getPayUrl(e,t),r.next=3,(0,d.getWx)();case 3:a=r.sent,null===(n=null==a?void 0:a.miniProgram)||void 0===n||n.navigateTo({url:o});case 5:case"end":return r.stop()}}),r,this)})))}},{key:"getPayUrl",value:function(e,t){var n=this.payOpts.productId||{},r=n.fid,i=n.type;return"/pages/".concat((0,c.isKeWXMiniProgram)()?"":"home/","pay/pay?params=").concat(e,"&openid=").concat(t).concat(i===l.ProductType.Course?"&courseId=".concat(r):"&pkgId=".concat(r))}}]),e}();t.MpPay=v,p([(0,s.log)("小程序支付",s.MonitorType.MINI_PROGRAM_PAY_SUCC,s.MonitorType.MINI_PROGRAM_PAY_ERR)],v.prototype,"pay",null)},"1ysn":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("u+Si"),c=n("F5LU"),s=n("mAAe"),l=n("sPX+"),d=n("5+fs"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p={duration:6e4,fn:function(){},times:10},h=function(){function e(t){(0,o.default)(this,e),this.seckill=t,this.discountCourseParam=null}return(0,a.default)(e,[{key:"getSeckillId",value:function(){var e=this.formatExt();return"".concat((null==e?void 0:e.discount_id)||"")}},{key:"getSeckillPrice",value:function(){var e;return(null===(e=this.seckill)||void 0===e?void 0:e.discount_price)||0}},{key:"isSeckillValid",value:function(){var e=(0,s.getSvrTime)(),t=this.seckill,n=t.start_time,r=t.end_time,i=t.has_preview;return!(e<n&&!i)&&(!(e>r)&&!!this.isSeckillCountValid())}},{key:"isSeckillCountValid",value:function(){var e=this.isSeckillLimit(),t=this.getSeckillLeftCount();return!e||t>0}},{key:"isSeckillLimit",value:function(){return!!this.seckill.limit_count&&!!this.seckill.limit_count}},{key:"getSeckillLeftCount",value:function(){var e=this.isSeckillLimit(),t=this.seckill.available_count||0,n=this.seckill.locked_count||0,r=this.seckill.uin_locked_count||0;return e?t-n+r:0}},{key:"getSeckillStatus",value:function(){var e=this.seckill,t=e.start_time,n=e.preview_time,r=e.has_preview,i=e.is_subscribed,o=e.end_time,a=(0,s.getSvrTime)();u.SeckillStatus.ENDED;return r?a<n?u.SeckillStatus.DEFAULT:a<t?i?u.SeckillStatus.RESERVED:u.SeckillStatus.RESERVABLE:a<o?u.SeckillStatus.INPROGRESS:u.SeckillStatus.ENDED:a<t?u.SeckillStatus.DEFAULT:a<o?u.SeckillStatus.INPROGRESS:u.SeckillStatus.ENDED}},{key:"isSubscribed",value:function(){return this.seckill.is_subscribed}},{key:"isInSubscribe",value:function(){var e=(0,s.getSvrTime)(),t=this.seckill,n=t.start_time,r=t.preview_time;return t.has_preview&&e>r&&e<n}},{key:"isTodayStart",value:function(){var e=(0,s.getSvrTime)(),t=this.seckill.start_time,n=new Date(1e3*e),r=new Date(1e3*t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}},{key:"isInSeckill",value:function(){var e=(0,s.getSvrTime)(),t=this.seckill,n=t.start_time,r=t.end_time;return e>=n&&e<r}},{key:"getSeckillStartTs",value:function(){return this.seckill.start_time}},{key:"getSeckillEndTs",value:function(){return this.seckill.end_time}},{key:"listenSituation",value:function(t){var n=this,r=Object.assign(Object.assign({},p),t),o=r.times,a=r.duration,u=r.fn,h=0,v=u,g=function(){return f(n,void 0,void 0,i.default.mark((function t(){var n,r,a,u,f,p,g,m,y,_,b,w,k,P,x,C,O,A,T,S,E;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(++h===o&&window.clearInterval(v.sid),u=this.getDiscountParams()){t.next=5;break}return t.abrupt("return");case 5:if(f=u.course_id,p=u.term_id,f&&p){t.next=9;break}return t.abrupt("return");case 9:return"/cgi-bin/activity/get_memberlist_by_rank",g="".concat("/cgi-bin/activity/get_memberlist_by_rank","?").concat((0,c.queryToString)({end:0,rank_id:"buy_".concat(f,"_").concat(p,"_0"),start:0})),m=(0,c.fetch)(g),y=(0,d.fetchAllDiscountCGI)(u),t.next=15,m;case 15:if(_=t.sent,b=(null===(n=null==_?void 0:_.result)||void 0===n?void 0:n.member_list)||[],w=null===(r=b[0])||void 0===r?void 0:r.value,!!w){t.next=21;break}return t.abrupt("return");case 21:return k=(0,s.getSvrTime)(),P=k-(null===(a=b[0])||void 0===a?void 0:a.value),x=Math.max(1,Math.min(Math.floor(P/60),60)),t.next=26,y;case 26:if(C=t.sent,O=(null==C?void 0:C.result.available)||[],(A=O[0]||{}).type===l.InstitutionDiscountType.Seckill){t.next=31;break}return t.abrupt("return");case 31:T=A[l.InstitutionDiscountType.Seckill],S=new e(T),E=S.getSeckillLeftCount(),v({buyTime:x,remainCount:E,fetchCount:h});case 37:case"end":return t.stop()}}),t,this)})))};g(),v.sid=setInterval(g,a)}},{key:"removeSituationListener",value:function(e){window.clearInterval(e.sid)}},{key:"setDiscountParams",value:function(e){this.discountCourseParam=e}},{key:"getDiscountParams",value:function(){return this.discountCourseParam}},{key:"getDecrPrice",value:function(){var e;return(null===(e=this.seckill)||void 0===e?void 0:e.decr_price)||0}},{key:"formatExt",value:function(){try{return JSON.parse(this.seckill.discount_results[0].ext)}catch(e){return this.seckill}}}]),e}();t.Utils=h},"22lB":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.RETURN_URL_CONFIG_PC=t.RETURN_URL_CONFIG_H5=t.CGI=t.PURCHASE_URL_PC=t.PURCHASE_URL_H5=void 0;var i=r(n("aDhn")),o=n("rRu0");t.PURCHASE_URL_H5="https://m.ke.qq.com/m-core/purchase.html";t.PURCHASE_URL_PC="https://ke.qq.com/user/purchase/purchase.html";t.CGI={getPriceData:"/cgi-proxy/pricing/pricing",payDetail:"/cgi-proxy/pay_access/pay_detail",sasGreyAuthMobile:"//sas.qq.com/cgi-bin/ke_operation_forceAuthMobileUin"};var a=(0,i.default)({},o.ReturnUrlType.Cert,"https://m.ke.qq.com/m-core/certApply.html");t.RETURN_URL_CONFIG_H5=a;t.RETURN_URL_CONFIG_PC={}},"267F":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={ActOperate:!0,getOperateAct:!0,openLayer:!0};t.getOperateAct=function(e){return _(this,void 0,void 0,o.default.mark((function t(){var n,r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.checkList,r=void 0===n?w.map((function(e){return new e})):n,t.abrupt("return",new b(Object.assign({checkList:r},e)).checkAndGetAct());case 2:case"end":return t.stop()}}),t)})))},t.openLayer=function(e){var t=(e||{}).actType||(0,c.getUrlParameter)("actType"),n=window.location.search;if(t){var r=(0,c.stringToQuery)(n);Object.assign(r,e);var i="//m.ke.qq.com/m-core/actLayer.html?".concat((0,c.queryToString)(r)),o=new c.Iframe(i);return c.Iframe.register("closeIframe",(function(){o.remove()})),o}return null},t.ActOperate=void 0;var o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=n("F5LU"),s=n("mSuR"),l=n("VjRM"),d=n("nzmE");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=n("6Rzi");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=n("99me");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=n("wThJ");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var v=n("EtRZ");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var g=n("6Evu");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var m=n("NBo8");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var y=n("igCg");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var _=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},b=function(){function e(t){(0,a.default)(this,e),this.opts=t;var n=(t||{}).checkList,r=void 0===n?[]:n;this.checkList=r}return(0,u.default)(e,[{key:"checkAndGetAct",value:function(){return _(this,void 0,void 0,o.default.mark((function e(){var t,n=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.checkList.map((function(e){return e.check(n.opts)})));case 2:return t=e.sent,e.abrupt("return",this.getPassedAct(t));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getPassedAct",value:function(e){var t=this;return e.map((function(e,n){return{instance:t.checkList[n],result:e}})).filter((function(e){return e.result.pass}))[0]}}]),e}();t.ActOperate=b;var w=[s.ObnChecker,l.PendantChecker]},"2Dn6":function(e,t,n){var r=n("m9bP");e.exports=function(e){r.config(e)}},"2O6f":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.DirectApply=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("P87J"),l=n("GYbC"),d=n("3oCp"),f=n("YQQx"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(t,n,r){(0,o.default)(this,e),this.payData=t,this.sasGreyAuthMobile=r,this.freeApply=new d.FreeApply(t,n),this.present=new f.Present(t,n)}return(0,a.default)(e,[{key:"canDirectApply",value:function(){var e=this.freeApply.isFree(),t=this.present.hasPresent();return e||t}},{key:"apply",value:function(){var e,t;return h(this,void 0,void 0,i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.freeApply.isFree()){n.next=3;break}return n.next=3,this.freeApply.apply();case 3:if(!this.present.hasPresent()){n.next=6;break}return n.next=6,this.present.apply();case 6:if(!(0,l.getIsAgencyAuthMobileState)(this.payData,this.sasGreyAuthMobile)){n.next=9;break}return n.next=9,(0,c.fetch)("/cgi-bin/user/set_user_info",{body:{auth_flag:null===(t=null===(e=this.payData)||void 0===e?void 0:e.ext)||void 0===t?void 0:t.agency_id},method:"POST"});case 9:case"end":return n.stop()}}),n,this)})))}}]),e}();t.DirectApply=v,p([(0,s.log)("非付费课程判断")],v.prototype,"canDirectApply",null)},"2dtd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fgQW");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("eU4E");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("LQr6");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}))},"2lLr":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseModel=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=r(n("INZq")),s=n("1rZ3"),l=n("2dtd"),d=n("P87J"),f=n("rRu0"),p=n("gliM"),h=n("W7N0"),v=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},m=function(){function e(t,n){(0,o.default)(this,e),this.opts=t,this.emitData=n,this.purchaseDataModel=new p.PurchaseDataModel(t),this.toPayModel=new h.ToPayModel(t),this.iapCheck=new s.IapCheck,this.opts}return(0,a.default)(e,[{key:"init",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.purchaseDataModel.init(e),this.toPayModel.init(e),t.next=4,this.purchaseDataModel.processData();case 4:return this.checkFreeCourse(),t.next=7,this.iapCheck.checkIAPForDisplay();case 7:this.displayConfig=t.sent,this.dispatch();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"getPayOpts",value:function(){return this.toPayModel.getPayOpts(this.purchaseDataModel.getPurchaseData())}},{key:"updateAgencyContactState",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.purchaseDataModel.updateAgencyContactState(e);case 2:return n=t.sent,this.dispatch(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updateYqhInfo",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.purchaseDataModel.updateYqhInfo(e);case 2:return n=t.sent,this.dispatch(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updateAddressState",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.purchaseDataModel.updateAddressState(e);case 2:return n=t.sent,this.dispatch(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updateInstitutionDiscount",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.purchaseDataModel.updateInstitutionDiscount(e);case 2:return n=t.sent,this.dispatch(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updatePlatformDiscount",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.purchaseDataModel.updatePlatformDiscount(e);case 2:return n=t.sent,this.dispatch(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updateChannel",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.purchaseDataModel.updateChannel(e);case 2:return n=t.sent,c.default.tdw({action:"click",module:"paymode",ver1:e===f.ChannelType.Jd?1:e===f.ChannelType.Yqh?2:0}),this.dispatch(),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"updateTerm",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.purchaseDataModel.updateTerm(e);case 2:return n=t.sent,this.dispatch(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updatePayDetail",value:function(){return g(this,void 0,void 0,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.purchaseDataModel.updatePayDetail();case 2:return t=e.sent,this.dispatch(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"checkFreeCourse",value:function(){var e,t,n=null===(e=this.purchaseDataModel)||void 0===e?void 0:e.getPurchaseData();if(0===(null===(t=null==n?void 0:n.curProduct)||void 0===t?void 0:t.price))throw(0,l.getApplyFrontError)(l.ApplyFrontErrorRetcode.FreeCourseNotSupported)}},{key:"dispatch",value:function(){this.emitData.emitPurchaseData(this.purchaseDataModel.getPurchaseData()),this.emitData.emitIAPDisplay(this.displayConfig)}}]),e}();t.PurchaseModel=m,v([(0,d.log)("允许机构联系状态更新")],m.prototype,"updateAgencyContactState",null),v([(0,d.log)("有钱花信息更新")],m.prototype,"updateYqhInfo",null),v([(0,d.log)("地址状态更新")],m.prototype,"updateAddressState",null),v([(0,d.log)("机构优惠更新")],m.prototype,"updateInstitutionDiscount",null),v([(0,d.log)("平台优惠更新")],m.prototype,"updatePlatformDiscount",null),v([(0,d.log)("支付渠道更新")],m.prototype,"updateChannel",null),v([(0,d.log)("班级更新")],m.prototype,"updateTerm",null),v([(0,d.log)("payDetail刷新")],m.prototype,"updatePayDetail",null)},"3BCT":function(e,t,n){n("xeH2");var r=n("XKbg"),i=n("q+3g"),o=[];e.exports={setData:function(e){return o=e.slice(0)},getData:function(){return o},saveData:function(e,t,n){"function"==typeof e&&!1===e(o)||r.updateInterest({param:{cat_list_pc:JSON.stringify(o)},succ:function(e){"function"==typeof t&&t(e)},err:function(e){"function"==typeof n&&n(e)}})},toggleDataItem:function(e){for(var t,n=[],r=!1,i=0,a=o.length;i<a;i++)(t=o[i])!==e&&n.push(t);return n.length===o.length&&(n.push(e),r=!0),o=n,r},setCookieData:function(e){i.set("localInterest",JSON.stringify(e),"ke.qq.com","/",8760)}}},"3NEt":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionFlowid=function(){var e="";try{e=i.default.get(u)||""}catch(e){}return l(""),e};var i=r(n("w7y4")),o=r(n("fp7T")),a=r(n("4qiJ")),u="tdw_data_flowid",c="ke.qq.com",s="/";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i.default.setSession(u,e,c,s)}o.default.addListener((function(e,t){var n=t.target,r=a.default.closest(n,"[".concat("data-report-session-flowid","]"));l(r&&r.getAttribute("data-report-session-flowid")||"")}))},"3guq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("SLh1");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},"3kyo":function(e,t,n){"use strict";n("x5HE"),n("PTmF")},"3oCp":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.FreeApply=void 0;var i,o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("FO6Z")),s=n("F5LU"),l=n("2dtd"),d=n("P87J"),f=n("GYbC"),p=n("Uv28"),h=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,c.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};!function(e){e.applyFree="/cgi-bin/apply_course_sect",e.applyFreePackage="/cgi-bin/user/apply_free_course_package"}(i||(i={}));var g=function(){function e(t,n){(0,a.default)(this,e),this.payData=t,this.opts=n}return(0,u.default)(e,[{key:"isFree",value:function(){var e;return(0,f.isCourseFree)(null===(e=this.payData)||void 0===e?void 0:e.ext)}},{key:"apply",value:function(){return v(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,f.isCourse)(this.opts)){e.next=5;break}return e.next=3,this.applyCourse(this.opts);case 3:e.next=11;break;case 5:if(!(0,f.isCoursePkg)(this.opts)){e.next=10;break}return e.next=8,this.applyCoursePkg(this.opts);case 8:e.next=11;break;case 10:throw new l.CustomApplyFrontError(l.ApplyFrontErrorRetcode.OptsIllegal);case 11:case"end":return e.stop()}}),e,this)})))}},{key:"fetchApplyCgi",value:function(e,t){return(0,s.fetch)(e,{body:t,method:"POST"})}},{key:"applyCourse",value:function(e){var t=(0,p.getCourseApplyParam)(this.payData,e);return this.fetchApplyCgi(i.applyFree,t)}},{key:"applyCoursePkg",value:function(e){var t=(0,p.getCoursePkgApplyParam)(this.payData,e);return this.fetchApplyCgi(i.applyFreePackage,t)}}]),e}();t.FreeApply=g,h([(0,d.log)("免费课程判断")],g.prototype,"isFree",null),h([(0,d.log)("免费报名调用",d.MonitorType.APPLY_SUCC,d.MonitorType.APPLY_ERR)],g.prototype,"fetchApplyCgi",null)},"3pAx":function(e,t,n){"use strict";var r=n("LoAb"),i=n("A3sk");Object.defineProperty(t,"__esModule",{value:!0}),t.processLoginUrl=h,t.loginQQ=v,t.loginWX=g,t.loginApp=m,t.loginMobile=function(e){o.isQQ()?(a.setStorage("mobileBindInfo_lastLoginTime",+new Date),v(e||{})):o.isApp()?m():location.href="//m.ke.qq.com/m-core/login.html?redirect_url=".concat(encodeURIComponent(location.href))},t.loginMobileNoSSO=function(e){!o.isWeixin()||e&&e.useQQ?o.isApp()?m():(a.setStorage("mobileBindInfo_lastLoginTime",+new Date),v(e||{})):g(e||{})},t.weixinAutoLogin=function(){!o.isWeixin()||(0,s.getUin)()||o.isMiniProgram()||g({})},t.logout=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=["uid_a2","uid_type","uid_uin","p_luin"],n=(location.hostname.match(/(\.\w+){2}$/)||["."+location.hostname])[0],r=(location.hostname.match(/(\.\w+){3}$/)||["."+location.hostname])[0],i=function(){t.forEach((function(e){(0,u.delCookie)(e,n),(0,u.delCookie)(e,r)}))};return(0,f.loadScript)("//ui.ptlogin2.qq.com/js/ptloginout.js").then((function(){window.pt_logout.logout((function(){i(),e&&location.reload()}))}))};var o=i(n("XOiT")),a=i(n("RWC5")),u=n("9gZJ"),c=n("qGYQ"),s=n("M9qB"),l=r(n("HO9c")),d=n("dgVY"),f=n("/m0i"),p=!1;function h(e,t){p||(l.default.monitor(454117),p=!0);var n=e.url||location.href,r="".concat(t?"wx":"pt","login=1"),i=e&&e.action?"&action=".concat(e.action):"";return n+=(-1!==n.indexOf("#")?"&":"#")+r+i,a.setStorage((t?"wx":"pt")+"login-"+n,"1"),n}function v(e){var t=h(e||{});t&&(o.isWeixin()?l.default.monitor(525875):l.default.monitor(496596),window.setTimeout((function(){window.location.href="//ui.ptlogin2.qq.com/cgi-bin/login?daid=233&style=9&appid=716040006&target=self&s_url="+encodeURIComponent(t)+"&low_login=0"}),100))}function g(e){var t=h(e||{},!0);t&&(l.default.monitor(525135),window.setTimeout((function(){var e="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx41806a3f0b4d2add&redirect_uri="+encodeURIComponent(window.location.protocol+"//ke.qq.com/cgi-bin/uidaccount/login?ttype=4&account_type=2&buz_id=122052647&redirect_uri="+encodeURIComponent(t))+"&response_type=code&scope=snsapi_userinfo#wechat_redirect";window.location.href=e}),100))}function m(){(0,c.getMqq)().then((function(e){e.invoke("edu","showLoginView",(function(){(0,d.isIframe)()&&parent&&parent.location?parent.location.reload():window.location.reload()})),e.addEventListener("onSwitchAccountType",(function(){!1===document.hidden&&window.location.reload()})),e.addEventListener("loginStateChange",(function(){window.location.reload()}))}))}},"3q1l":function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push("",function(it,opt){with(it=it||{},it){var _$out_=[];if(_$out_.push('<div class="header-index-hot--history"> <div class="hot-word-list"> '),"undefined"!=typeof items)for(var i=0;i<items.length;i++){var item=items[i];_$out_.push(' <a class="hot-word-item association" href="javascript:;" title="',item.content,'" data-key="',i,'"> ',item.highlight," </a> ")}return _$out_.push(" </div></div>"),_$out_.join("")}}(it,opt),""),_$out_.join("")}}},42:function(e,t,n){n("hJeN"),e.exports=n("FprC")},"47Yi":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.TimeConflict=void 0;var i=r(n("gBQG")),o=r(n("FO6Z")),a=r(n("EAVL")),u=r(n("oywu")),c=n("F5LU"),s=n("1c9X"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},d=function(){function e(t){(0,a.default)(this,e),this.payInfo=t}return(0,u.default)(e,[{key:"checkConflict",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.payInfo.productid,"object"===(0,o.default)(t)){e.next=3;break}return e.abrupt("return",!0);case 3:if(t.type===s.ProductType.Course){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,(0,c.fetch)("/cgi-bin/tool/check_apply_time_conflict",{data:{course_id:t.fid,term_id:t.sid}});case 7:if(!((n=e.sent)&&n.result&&n.result.pflag)){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)})))}}]),e}();t.TimeConflict=d},"4Zsq":function(e,t,n){"use strict";var r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.STYLE_TYPE=t.ENTRANCE_TYPE=t.SHOW_FLAG_TYPE=void 0,t.SHOW_FLAG_TYPE=r,function(e){e[e.show=1]="show",e[e.notShow=2]="notShow"}(r||(t.SHOW_FLAG_TYPE=r={})),t.ENTRANCE_TYPE=i,function(e){e[e.apply=1]="apply",e[e.act=2]="act"}(i||(t.ENTRANCE_TYPE=i={})),t.STYLE_TYPE=o,function(e){e[e.blue=1]="blue",e[e.red=2]="red"}(o||(t.STYLE_TYPE=o={}))},"4cTz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("xeH2"),i=function(e){for(var t,n=(e||"").split("&"),r={},i=0;i<n.length;i++)r[(t=n[i].split("="))[0]]=t[1];return r},o=function(e,t,n){return function(o){o.stopPropagation();var a=r.extend({action:n},i(r(this).attr(t)));e.tdw(a,!0)}},a={init:function(e){r(document).on("mouseenter","[report-hover]",o(e,"report-hover","hover")).on("click","[report-attr]",o(e,"report-attr","click"))},parseAttr:i};t.default=a},"4qiJ":function(e,t,n){"use strict";var r=n("TqRt"),i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("cM1I")),a=r(n("5a58"));function u(e){return e&&"[object Object]"===e.toString()}function c(e){return e&&"function"==typeof e}"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n});var s=Object.assign({isPlainObject:function(e){if(!u(e)||e.nodeType||e.setInterval)return!1;if(e.constructor&&!e.hasOwnProperty("constructor")&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1;var t;for(t in e);return void 0===t||e.hasOwnProperty(t)},isFunction:c,loadJSONP:a.default.loadJSONP,closest:function e(t,n){if(t)return function(e,t){var n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;if(n)return n.call(e,t);if(e.parentNode){for(var r=e.parentNode.querySelectorAll(t),i=r.length;i--;0)if(r[i]===e)return!0;return!1}}(t,n)?t:e(t.parentNode,n)},each:function(e,t){if(c(t))if(u(e))for(var n in e)t(n,e[n],e);else if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)t(r,e[r],e)},delParam:function(e,t){var n=new RegExp("(\\?|#|&)"+t+"=([^&]*)(&|$)","g");return e.replace(n,"$1$3").replace(/(\?|#|&)$/,"").replace(/(#|\?)&/g,"$1")},getPlatform:function(){var e=o.isMobile(),t=o.isApp(),n=o.isMiniProgram(),r=o.isPCClient(),i=o.isWinClient(),a=o.isMacClient(),u=o.isWinClientLite(),c=o.isMacClientLite(),s=o.isAndroid(),l=o.isIOS(),d={1:!e&&!r,2:e&&!t&&!n,3:e&&t&&s,4:e&&t&&l,5:!e&&i,6:!e&&a,7:e&&n,9:!e&&u,10:!e&&c};return parseInt(Object.keys(d).filter((function(e){return d[e]}))[0],10)||1},parseHref:function(e){var t=document.createElement("a");return t.href=e,{domain:t.hostname,pathname:t.pathname,search:t.search,hash:t.hash}},getEnvironment:function(){return o.qqVersion()?"QQ":o.isWeixin()?"WX":o.isBaiduApp()?"Baidu":o.isWeiboApp()?"Sina":o.isApp()?"edu_APP":"other"}},o);t.default=s},"4sTA":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Seckill=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("CGIb"),u=n("gMOL"),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()/1e3;(0,i.default)(this,e),this.discount=t,this.serverTime=n,this.type=a.DiscountType.Seckill}return(0,o.default)(e,[{key:"getData",value:function(){return Object.assign({},this.discount)}},{key:"getId",value:function(){return(0,u.getSeckillId)(this.discount)}},{key:"getPrice",value:function(){return(0,u.getSeckillPrice)(this.discount)}},{key:"getPayParam",value:function(){return{discountinfo:{discount_id:this.getId()}}}},{key:"filter",value:function(){var e=this.serverTime,t=this.discount||{},n=t.start_time,r=t.end_time,i=t.has_preview;return!(e<n&&!i)&&(!(e>r)&&!!(0,u.isSeckillCountValid)(this.discount))}}]),e}();t.Seckill=c},"4v8P":function(e,t){e.exports={init:function(){}}},"5+fs":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPricingCGI=w,t.fetchAllDiscountCGI=k,t.fetchPricingCGICache=function(e){return h(this,void 0,void 0,u.default.mark((function t(){var n,r;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="fetchPricingCGICache-".concat(JSON.stringify(e)),r=m.makeCache(w,null,n),t.abrupt("return",r(e));case 3:case"end":return t.stop()}}),t)})))},t.fetchAllDiscountCGICache=function(e){return h(this,void 0,void 0,u.default.mark((function t(){var n,r;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="fetchAllDiscountCGICache-".concat(JSON.stringify(e)),r=m.makeCache(k,null,n),t.abrupt("return",r(e));case 3:case"end":return t.stop()}}),t)})))},t.formatCommonCoupon=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.type,o=e.aname,a=e.begin_time,u=e.end_time,c=e.price,s=e.cl,l=e.pl,d=e.act_info,f=e.limit,p=!(null==f?void 0:f.min_cost),h="";(null===(t=null==s?void 0:s[0])||void 0===t?void 0:t.cname)&&(h=s[0].cname);(null===(n=null==l?void 0:l[0])||void 0===n?void 0:n.pkg_name)&&(h=l[0].pkg_name);return{coupon:e,price:A(c||0),ruleText:C(e,r),scopeText:x({actName:null==d?void 0:d.act_name,aname:o,cname:h,isCashCoupon:p,type:i},r),typeText:P(i||1e6,p),validTimeText:O(a||0,u||0)}},t.getTypeText=P,t.getScopeText=x,t.getRuleText=C,t.getValidTimeText=O,t.formatPrice=A,t.isCouponType=function(e){return[p.InstitutionDiscountType.Coupon,p.PlatformDiscountType.Coupon].includes(e)},t.getDiscountPayButtonData=function(e){if(!e.items)return null;var t={hasCoupon:!1,price:e.final_price};return e.items.forEach((function(e){e.discount_type===p.CGIResultPricingPlanItemDiscountType.INSTITUTION&&(t.p1=e,e.discount_sign===p.InstitutionDiscountTypeInPricing.Coupon&&e.decr_price&&(t.hasCoupon=!0)),e.discount_type===p.CGIResultPricingPlanItemDiscountType.PLATFORM&&e.decr_price&&(t.p2=e,e.discount_sign===p.PlatformDiscountType.Coupon&&(t.hasCoupon=!0))})),t},t.getCouponJumpUrl4PC=function(e,t){switch(e.type){case 10:case 100:return S(e,t);case 1:return T(e,t);default:return""}},t.getCouponAgencyJumpUrl4PC=T,t.getCouponActivityOrPlatformJumpUrl4PC=S,t.institutionDiscountTypeInPricingMap=t.COUPON_TYPE=t.COUPON_UNDEFINED=t.COUPON_PLATFORM=t.COUPON_ACTIVITY=t.COUPON_AGENCY=void 0;var i,o,a=r(n("ZeZv")),u=r(n("gBQG")),c=r(n("aDhn")),s=n("F5LU"),l=n("8p0i"),d=n("B6Oc"),f=n("VvcH"),p=n("sPX+"),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=f.loggerClass.LOG_FETCH_DISCOUNT,g=f.loggerClass.LOG_FETCH_PRICING,m=new l.RequestCache,y={fid:"",sid:"",type:p.DiscountPricingParamProductType.COURSE},_={buzz_id:100001,product_id:y,scene_id:100,source:0};t.COUPON_AGENCY=1;t.COUPON_ACTIVITY=10;t.COUPON_PLATFORM=100;t.COUPON_UNDEFINED=1e6;var b=(i={},(0,c.default)(i,100,{cname:"平台",value:100}),(0,c.default)(i,10,{cname:"平台",value:10}),(0,c.default)(i,1,{cname:"机构",value:1}),(0,c.default)(i,1e6,{cname:"未知",value:1e6}),i);function w(e){return h(this,void 0,void 0,u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",g((function(e){var t=e,n=e,r="".concat(t.course_id||n.package_id),i="".concat(t.term_id||""),o=t.term_id?p.DiscountPricingParamProductType.COURSE:p.DiscountPricingParamProductType.COURSE_PACKAGE,a=Object.assign(Object.assign({},y),{fid:r,sid:i,type:o}),u=Object.assign(Object.assign({},_),{product_id:a});return(0,s.fetch)("/cgi-proxy/pricing/pricing",{body:JSON.stringify(u),headers:(0,c.default)({},"Content-Type","application/json;charset=utf-8"),method:"POST"})}),e));case 1:case"end":return t.stop()}}),t)})))}function k(e){return h(this,void 0,void 0,u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v((function(e){return(0,s.fetch)("/cgi-proxy/discount/get_all_discount",{data:e})}),e));case 1:case"end":return t.stop()}}),t)})))}function P(e,t){var n=t?"现金":"满减";return"".concat(b[e].cname).concat(n,"券")}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.type,r=e.isCashCoupon,i=e.aname,o=e.cname,a=e.actName;return 1!==n?a||"指定课程可用,可叠加机构券":r?(t?o:i)||"":"".concat(i,"所有课程可用")}function C(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.limit,o=e.price,a=e.cl,u=e.pl,c=e.type,s=o&&A(o||0),l=(null==i?void 0:i.min_cost)&&A(i.min_cost);return r?l?"满".concat(l,"减").concat(s):"":l?"满&yen;".concat(l,"使用"):1!==c?"现金券":(null===(t=null==a?void 0:a[0])||void 0===t?void 0:t.cname)?a[0].cname:(null===(n=null==u?void 0:u[0])||void 0===n?void 0:n.pkg_name)?u[0].pkg_name:"该课程已被机构删除"}function O(e,t){return"".concat((0,s.formatDate)("YYYY-MM-DD",1e3*e)," 至 ").concat((0,s.formatDate)("YYYY-MM-DD",1e3*t))}function A(e){return e%100?(e/100).toFixed(2):"".concat(e/100)}function T(e,t){var n,r=e.is_suit_all,i=e.limit,o=e.adomain,a=e.domain,u=e.aid,c=e.cou_id,s=e.cl,l=e.pl;if(1===r||i){var f=o||a;return f?(0,d.getJumpUrl)("//".concat(f),{query:{from:t}}):u?(0,d.getJumpUrl)("/views/agencyIndex/index.html",{query:{aid:u,from:t}}):E(c,1,t)}return(null===(n=null==s?void 0:s[0])||void 0===n?void 0:n.cid)?(0,d.getJumpCourseDetailUrl)(s[0].cid):(null==l?void 0:l[0].pkg_id)?(0,d.getJumpCoursePkgUrl)(l[0].pkg_id):""}function S(e,t){var n,r=e.act_info,i=e.cl,o=void 0===i?[]:i,u=e.pl,c=void 0===u?[]:u,s=e.cou_id,l=e.limit,f=1;(null==l?void 0:l.min_cost)&&(f=l.min_cost);var p=s;return p&&p.length>16&&(p=p.substring(0,16)),(null==r?void 0:r.main_page)?r.main_page:1===[].concat((0,a.default)(o),(0,a.default)(c)).length?(null===(n=null==o?void 0:o[0])||void 0===n?void 0:n.cid)?(0,d.getJumpCourseDetailUrl)(o[0].cid):(null==c?void 0:c[0].pkg_id)?(0,d.getJumpCoursePkgUrl)(c[0].pkg_id):"":E(p,f,t)}function E(e,t,n){return(0,d.getJumpCourseList)({query:{coupon_filter:JSON.stringify([e]),from:n,price_min:t}})}t.COUPON_TYPE=b;var I=(o={},(0,c.default)(o,p.InstitutionDiscountTypeInPricing.Bargain,p.InstitutionDiscountType.Bargain),(0,c.default)(o,p.InstitutionDiscountTypeInPricing.Coupon,p.InstitutionDiscountType.Coupon),(0,c.default)(o,p.InstitutionDiscountTypeInPricing.Group,p.InstitutionDiscountType.Group),(0,c.default)(o,p.InstitutionDiscountTypeInPricing.Partner,p.InstitutionDiscountType.Partner),(0,c.default)(o,p.InstitutionDiscountTypeInPricing.Seckill,p.InstitutionDiscountType.Seckill),o);t.institutionDiscountTypeInPricingMap=I},"5Efv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(e.type){case c.DiscountType.Bargain:return new r.Bargain(e[c.DiscountType.Bargain]);case c.DiscountType.Coupon:return new i.Coupon(e[c.DiscountType.Coupon]);case c.DiscountType.Group:return new o.Group(e[c.DiscountType.Group]);case c.DiscountType.Seckill:return new u.Seckill(e[c.DiscountType.Seckill],t);case c.DiscountType.Partner:return new a.Partner(e[c.DiscountType.Partner]);default:return e}};var r=n("deya"),i=n("DJl7"),o=n("cEIL"),a=n("mn89"),u=n("4sTA"),c=n("CGIb")},"5Qq2":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={ObnAct:!0};t.ObnAct=void 0;var o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=n("F5LU"),s=n("8p0i"),l=n("GMyB"),d=n("JBhT");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p=function(){function e(){(0,a.default)(this,e),this.requestCache=new s.RequestCache,this.getActData=this.getActCacheFn(),this.getIsObn=this.getIsObnCacheFn(),this.cid=Number((0,l.getCidFromUrl)()),this.pid=Number((0,l.getPidFromUrl)()),this.ratio=0,this.bgTime=void 0,this.endTime=void 0}return(0,u.default)(e,[{key:"isAct",value:function(){var e,t,n;return f(this,void 0,void 0,o.default.mark((function r(){var i;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.getIsObn();case 3:i=r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),i={};case 9:if(i&&i.result&&i.result.isObn){r.next=11;break}return r.abrupt("return",!1);case 11:return this.ratio=(null===(e=null==i?void 0:i.result)||void 0===e?void 0:e.ratio)/100||0,this.bgTime=(null===(t=null==i?void 0:i.result)||void 0===t?void 0:t.bgtime)||0,this.endTime=(null===(n=null==i?void 0:i.result)||void 0===n?void 0:n.endtime)||0,r.abrupt("return",!0);case 15:case"end":return r.stop()}}),r,this,[[0,6]])})))}},{key:"isJoinedAct",value:function(){var e;return f(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cid||this.pid){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.getActData();case 4:return n=t.sent,t.abrupt("return",null===(e=null==n?void 0:n.result)||void 0===e?void 0:e.has_qualification);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getRatio",value:function(){return this.ratio||0}},{key:"getObnActTime",value:function(){return[this.bgTime,this.endTime]}},{key:"getPrice",value:function(e){var t;return f(this,void 0,void 0,o.default.mark((function n(){var r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.ratio){n.next=11;break}return n.prev=1,n.next=4,this.getIsObn();case 4:r=n.sent,this.ratio=(null===(t=null==r?void 0:r.result)||void 0===t?void 0:t.ratio)||0,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),this.ratio=0;case 11:return n.abrupt("return",3*Math.floor(e*this.ratio/100)*100);case 12:case"end":return n.stop()}}),n,this,[[1,8]])})))}},{key:"fetchIsObnData",value:function(){return(0,c.fetch)("/cgi-proxy/obn/is_obn_course",{data:this.cid?{course_id:this.cid}:{pkg_id:this.pid}})}},{key:"getActCacheFn",value:function(){return this.requestCache.makeCache(this.fetchActData,this,"has_obn_qualification")}},{key:"getIsObnCacheFn",value:function(){return this.requestCache.makeCache(this.fetchIsObnData,this,"is_course_obn")}},{key:"fetchActData",value:function(){return(0,c.fetch)("/cgi-proxy/obn/has_obn_qualification",{data:this.cid?{course_id:this.cid}:{pkg_id:this.pid}})}}]),e}();t.ObnAct=p},"5RR2":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicImgRetry=function(e){window.__dynamicImgRetryInstance__||(window.__dynamicImgRetryInstance__=new g(e));return window.__dynamicImgRetryInstance__};var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=r(n("HO9c")),l=n("r/kS"),d=n("O0du"),f=n("1RQl"),p=n("cUZS");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var v=s.default.createLogger("img-retry"),g=function(e){(0,a.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.apply(this,arguments)).target=null,e.errorHandler=function(t){var n=t.target;if(n instanceof HTMLImageElement){var r=e.opts,i=r.proxy,o=r.defaultImg,a=void 0===o?l.DEFAULT_IMG:o,u=n.src,c=(0,f.getProxyURL)(i,u);setTimeout((function(){u===n.src&&(0,d.imgErrorHandler)(n,c,a,e.opts)}),0)}},e}return(0,o.default)(n,[{key:"observe",value:function(e){this.target?v.error("dynamicRetry不允许重复observe"):(this.target=e,e.addEventListener("error",this.errorHandler,!0))}},{key:"wrap",value:function(){}},{key:"destroy",value:function(){this.target&&(this.target.removeEventListener("error",this.errorHandler),this.target=null)}}]),n}(p.ImgRetry)},"5a58":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("U8pU"));function o(e){if(!e)return"";var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}var a={loadJSONP:function(e,t,n,r){"object"===(0,i.default)(t)?e=[e,o(t)].join("?"):(r=n,n=t);var a="_jsonp_"+function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(5);e.match(/\?/)?e+="&callback="+a:e+="?callback="+a;var u=document.createElement("script");u.type="text/javascript",u.src=e,window[a]=function(e){n.call(r||window,e),document.getElementsByTagName("head")[0].removeChild(u),u=null,delete window[a]},document.getElementsByTagName("head")[0].appendChild(u)}};t.default=a},"5hBn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={106409:"报名失败，您报名的课程已经结束",166411:"报名失败，此课程已经开始上课",166412:"报名失败，请稍候重试",166415:"您已购买该课程，不需要再次付款",166416:"购买失败，免费课程请走免费的流程",101402:"您已经报名了此课程",106437:"报名失败，超出直播类型最大500人的限制",106446:"报名失败，机构创建者不能报名此课程",106447:"报名失败，此课程的老师或助教不能报名",106410:"报名失败，您报名的课程为付费课程",106666:"报名失败，您输入的验证码错误",106438:"您选择的优惠券不存在，请重新尝试！",106439:"您选择的优惠券已被锁定，请重新尝试！",106440:"您选择的优惠券已被使用，请重新尝试！",106441:"您选择的优惠券已被删除，请重新尝试！",106442:"您选择的优惠券已过期，请重新尝试！",166417:"购买失败，该课程还在审核中！",114103:"购买人数已达优惠人数上限，无法参与优惠，请重新点击购买。",106631:"该班级名额已报满，请选择名额未满班级报名。",106633:"购买失败，该机构已被清退。",106634:"该课程有配套实物，请您填写接受配套实物的地址。",166418:"由于课程变化，该订单已失效 ，请选择其他可报名班级购买。",113137:"优惠券不适用于本课程",101401:"未支持的商品类型",101403:"企业支付已经支付，请勿重复支付",101404:"报名失败，该商品不存在",101405:"机构不存在",106632:"期不存在",113138:"确认付款失败，已经做了任务",114101:"折扣优惠不存在",114102:"折扣优惠不适合于本课程、班级",114104:"不在优惠的有效时间内",167001:"错误的会员类型",167002:"请使用全红包支付",1677013:"课程包不存在",1677014:"有待重试的订单在发货队列，拒绝支付",1677015:"已经支付过了课程，拒绝再次支付",1677016:"老师不能报名自己的授课",1677017:"红包使用时出错",1677018:"该班级被惩罚",1677021:"课点余额不足",1678126:"购买失败，预售名额不足",1678128:"该课程不支持余额抵扣",1678130:"该商品已下架",1678131:"请先在个人中心删除退款完成的订单，再继续支付。",1678133:"您没有购买预售",1678136:"当前抢购人数过多，请稍后再试。",1678142:"亲爱的同学，该团已超时失效，请重新开团参加学习吧",1678143:"亲爱的同学，该团已满员，请重新开团参加学习吧",900006:"您已经报名了该课程",106507:'非常抱歉，因违反课堂秩序，您被禁止报名本课程。需要申诉请<a target="_blank" href="htt://support.qq.com/write.shtml?fid=1042">点击这里</a>。'}},"5kX2":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSasData=l,t.fetchCgiData=d,t.setUserCloseWelfare=function(e){return(0,c.fetch)("/cgi-proxy//activity_platform/user_close_welfare_two",e)},t.getDialogData=function(){return s(this,void 0,void 0,a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.default.info("【新用户礼包】"),e.next=4,l();case 4:if(!(t=e.sent)||!t.dialog){e.next=7;break}return e.abrupt("return",t.dialog);case 7:return e.abrupt("return",null);case 10:return e.prev=10,e.t0=e.catch(0),u.default.error("【新用户礼包】","【新用户礼包数据拉取失败】",e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))},t.getFloatData=function(){return s(this,void 0,void 0,a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.default.info("【新用户礼包】"),e.next=4,l();case 4:if((t=e.sent)&&t.float){e.next=7;break}return e.abrupt("return",null);case 7:if(n=Object.assign({},t.float),!(0,c.isLoginWithAccountByCookie)()){e.next=13;break}return e.next=11,d();case 11:void 0!==(r=e.sent).can_get&&(n.remaining=r.can_get);case 13:return e.abrupt("return",n);case 16:return e.prev=16,e.t0=e.catch(0),u.default.error("【新用户礼包】","【新用户礼包数据拉取失败】",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))};var i,o,a=r(n("gBQG")),u=r(n("HO9c")),c=n("F5LU"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function l(){return i&&0===i.retcode&&i.result?Promise.resolve(i.result):(0,c.fetch)("//sas.qq.com/cgi-bin/ke_operation_newUserEntry2").then((function(e){return(i=e).result})).catch((function(){return{}}))}function d(){return o&&0===o.retcode&&o.result?Promise.resolve(o.result):(0,c.fetch)("/cgi-proxy/activity_platform/is_user_can_get_welfare_two",{tryLogin:!1}).then((function(e){return(o=e).result})).catch((function(){return{}}))}},"6BWB":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getCidFromUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.getLocation)().href;return(0,o.getUrlParameter)("cid")||(0,o.getUrlParameter)("course_id")||a(e)},t.getPidFromUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.getLocation)().href;return(0,o.getUrlParameter)("pid")||(0,o.getUrlParameter)("pkg_id")||u(e)},t.isNeedReplay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e&&e.term_bit_flag||0;return"1"!==t.toString(2).split("").reverse()[24]},t.isFreeLearning=function(){return(0,o.getUrlParameter)("isFlCourse")};var i=r(n("+jPT")),o=n("F5LU");function a(e){var t=e.match(/course\/(\d+)/)||[],n=(0,i.default)(t,2)[1];return void 0===n?0:n}function u(e){var t=e.match(/course\/package\/(\d+)/)||[],n=(0,i.default)(t,2)[1];return void 0===n?0:n}},"6Evu":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.AgencyRaceChecker=void 0;var i=r(n("gBQG")),o=r(n("+jPT")),a=r(n("EAVL")),u=r(n("oywu")),c=n("nzmE"),s=n("6TgY"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},d=function(){function e(){(0,a.default)(this,e),this.type=c.ActType.AgencyRace}return(0,u.default)(e,[{key:"check",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){var t,n,r,a,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.AgencyRaceAct.getInstance(),e.next=3,Promise.all([t.isAct(),t.getWidgetConfig()]);case 3:return n=e.sent,r=(0,o.default)(n,2),a=r[0],u=r[1],this.urlInfo=u,e.abrupt("return",{pass:!!a,data:u});case 9:case"end":return e.stop()}}),e,this)})))}},{key:"getUrlInfo",value:function(){return this.urlInfo}}]),e}();t.AgencyRaceChecker=d},"6Gce":function(e,t,n){"use strict";n("dE+T"),n("YJVH"),n("bHtr"),n("0l/t"),n("dRSK"),n("INYr"),n("6VaU"),n("8+KV"),n("HEwt"),n("Z2Ku"),n("V+eJ"),n("LK8F"),n("yt8O"),n("mGWK"),n("bWfx"),n("6AQ9"),n("DNiP"),n("SPin"),n("dZ+Y"),n("Vd3H"),n("0E+W"),n("eM6i"),n("jqX0"),n("AphP"),n("yM4b"),n("h7Nl"),n("2Spj"),n("IXt9"),n("f3/d"),n("9AAn"),n("fyVe"),n("U2t9"),n("2atp"),n("+auO"),n("MtdB"),n("Jcmo"),n("nzyx"),n("BC7C"),n("x8ZO"),n("9P93"),n("BJ/l"),n("eHKK"),n("pp/T"),n("CyHz"),n("bBoP"),n("x8Yj"),n("hLT2"),n("xfY5"),n("Ljet"),n("/KAi"),n("fN96"),n("7h0T"),n("sbF8"),n("h/M4"),n("knhD"),n("XfKG"),n("BP8U"),n("91GP"),n("hHhE"),n("RQRG"),n("/uf1"),n("HAE/"),n("WLL4"),n("/8Fb"),n("DW2E"),n("mYba"),n("jm62"),n("JduL"),n("5Pf0"),n("uaHG"),n("ZNX/"),n("mura"),n("Btvt"),n("25dN"),n("Zshi"),n("V/DX"),n("FlsD"),n("RW0V"),n("z2o2"),n("/SS/"),n("hhXQ"),n("VRzm"),n("CX2u"),n("3xty"),n("I5cv"),n("iMoV"),n("uhZd"),n("0YWM"),n("694e"),n("LTTk"),n("9rMk"),n("IlFx"),n("xpiv"),n("oZ/O"),n("klPD"),n("knU9"),n("Oyvg"),n("OEbY"),n("SRfc"),n("pIFo"),n("KKXr"),n("OG14"),n("a1Th"),n("T39b"),n("ioFf"),n("rE2o"),n("hEkN"),n("nIY7"),n("+oPb"),n("SMB2"),n("oDIu"),n("rvZc"),n("0mN4"),n("bDcW"),n("nsiH"),n("VpUO"),n("L9s1"),n("0LDn"),n("XfO3"),n("tUrg"),n("9XZr"),n("7VC1"),n("eI33"),n("FLlr"),n("84bF"),n("9VmF"),n("FEjr"),n("Zz4T"),n("JCqj"),n("Tze0"),n("I74W"),n("fA63"),n("xm80"),n("Ji/l"),n("sFw1"),n("NO8f"),n("aqI/"),n("Faw5"),n("r1bV"),n("tuSo"),n("nCnK"),n("Y9lz"),n("Tdpu"),n("EK0E"),n("wCsR"),n("R5XZ"),n("Ew+T"),n("rGqo"),n("ls82"),n("8MP1")},"6Rzi":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.IndexDialogChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("e4x/")),c=r(n("Udhi")),s=r(n("okMe")),l=n("nzmE"),d=n("7i97");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function h(e,t){if(!t)return 0;var n=Math.ceil((e-288e5)/864e5);return Math.ceil((t-288e5)/864e5)-n}var v=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;return(0,o.default)(this,n),(e=t.apply(this,arguments)).type=l.ActType.IndexDialog,e}return(0,a.default)(n,[{key:"filter",value:function(e){var t=e.platform,n=e.btnLinkForH5,r=e.frequency,i=e.begtime;if(-1===[d.DIALOG_SHOW_PLATFORM.ALL,d.DIALOG_SHOW_PLATFORM.H5].indexOf(t)||!n)return!1;var o=(0,d.getFrequencyData)(),a=o.frequency,u=void 0===a?0:a,c=o.lasttime,s=void 0===c?0:c,l=e.servertime||(new Date).getTime(),f=h(new Date(i).getTime(),l)+1,p=s>0&&0===h(new Date(s).getTime(),l);return f>u&&u<r&&!p}},{key:"check",value:function(){return p(this,void 0,void 0,i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getDialogData)();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return t=e.t0,n=t.filter(this.filter),r=n.length>0,this.indexDialogData=n[0],e.abrupt("return",{data:this.indexDialogData,pass:r});case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getUrlInfo",value:function(){}},{key:"getData",value:function(){return this.indexDialogData}}]),n}(l.OperateChecker);t.IndexDialogChecker=v},"6TgY":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.AgencyRaceAct=t.CourseType=void 0;var i,o=r(n("gBQG")),a=r(n("+jPT")),u=r(n("EAVL")),c=r(n("oywu")),s=n("F5LU"),l=n("8p0i"),d=n("GMyB"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};t.CourseType=i,function(e){e[e.COURSE=1]="COURSE",e[e.PKG=2]="PKG"}(i||(t.CourseType=i={}));var p=null,h=function(){function e(){(0,u.default)(this,e),this.requestCache=new l.RequestCache,this.getSasData=this.getSasCacheFn(),this.getAgencyInfoData=this.getAgencyInfoFn(),this.getTermInfoData=this.getTermInfoFn(),this.cid=Number((0,d.getCidFromUrl)())||0,this.pid=Number((0,d.getPidFromUrl)())||0}return(0,c.default)(e,[{key:"isAct",value:function(){return f(this,void 0,void 0,o.default.mark((function e(){var t,n,r,i,u,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getActTime();case 2:if(t=e.sent,n=(0,a.default)(t,2),r=n[0],i=n[1],!((u=+new Date)<r||u>i)){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,this.getAid();case 11:return c=e.sent,e.abrupt("return",!!c);case 13:case"end":return e.stop()}}),e,this)})))}},{key:"getAid",value:function(){return f(this,void 0,void 0,o.default.mark((function e(){var t,n,r,i,u,c,s,l,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getActTime();case 2:if(t=e.sent,n=(0,a.default)(t,2),r=n[0],i=n[1],!((u=+new Date)<r||u>i)){e.next=9;break}return e.abrupt("return",0);case 9:return e.next=11,this.getSasData();case 11:return c=e.sent,s=c.result.agencyConfig,e.next=15,this.getAgencyInfo(this.cid,this.pid);case 15:if(l=e.sent){e.next=18;break}return e.abrupt("return",0);case 18:return d=s.find((function(e){return e.agencyId===l})),e.abrupt("return",null==d?void 0:d.agencyId);case 20:case"end":return e.stop()}}),e,this)})))}},{key:"getActTime",value:function(){return f(this,void 0,void 0,o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSasData();case 2:return t=e.sent,n=t.result.actConfig,e.abrupt("return",[n.actStartTime,n.actEndTime]);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getWidgetConfig",value:function(){return f(this,void 0,void 0,o.default.mark((function e(){var t,n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getActConfig();case 2:return t=e.sent,n=null==t?void 0:t.widget,r=n.iconUrl,i=void 0===r?"":r,e.abrupt("return",{iconUrl:i});case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getActConfig",value:function(){return f(this,void 0,void 0,o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSasData();case 2:return t=e.sent,n=null==t?void 0:t.result,r=n.variableConfig,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getAgencyInfo",value:function(e,t){var n,r,a,u,c,s;return f(this,void 0,void 0,o.default.mark((function l(){var d,f,p,h,v;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(d={},!e){o.next=9;break}return o.next=4,this.getTermInfoData({cid_list:JSON.stringify([e]),use_cache:1});case 4:f=o.sent,p=null===(a=null===(r=null===(n=null==f?void 0:f.result)||void 0===n?void 0:n[e])||void 0===r?void 0:r[0])||void 0===a?void 0:a.term_id,d.type=i.COURSE,d.termid=p,d.id=e;case 9:return t&&(d.type=i.PKG,d.id=t),o.next=12,this.getAgencyInfoData({list:JSON.stringify([d]),use_cache:1});case 12:return h=o.sent,v=null===(s=null===(c=null===(u=null==h?void 0:h.result)||void 0===u?void 0:u.course_list)||void 0===c?void 0:c[0])||void 0===s?void 0:s.aid,o.abrupt("return",v);case 15:case"end":return o.stop()}}),l,this)})))}},{key:"getTermInfoFn",value:function(){return this.requestCache.makeCache(this.fetchTermInfoData,this,"agency_race_term_info_data")}},{key:"getAgencyInfoFn",value:function(){return this.requestCache.makeCache(this.fetchAgencyInfoData,this,"agency_race_agency_info_data")}},{key:"fetchTermInfoData",value:function(e){return(0,s.fetch)("/cgi-agency/agency/manager/get_term_info",{data:e})}},{key:"fetchAgencyInfoData",value:function(e){return(0,s.fetch)("/cgi-bin/heji/coursesAndAgencies",{data:e})}},{key:"fetchSasData",value:function(){return(0,s.fetch)("//sas.qq.com/cgi-bin/ke_act_agencyRace")}},{key:"getSasCacheFn",value:function(){return this.requestCache.makeCache(this.fetchSasData,this,"agency_race_sas_data")}}],[{key:"getInstance",value:function(){return p||(p=new e),p}}]),e}();t.AgencyRaceAct=h},"6mhg":function(e,t,n){var r=n("cDf5"),i=!("object"===("undefined"==typeof window?"undefined":r(window))&&window&&"undefined"!=typeof document);function o(){return a("p_lskey")||a("p_skey")||a("skey")}function a(e){if(i)return"";var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?decodeURIComponent(t[2]):""}e.exports=function(){return function(e){if(!e)return"";for(var t=5381,n=0,r=e.length;n<r;++n)t+=(t<<5)+e.charAt(n).charCodeAt();return 2147483647&t}((e=0==a("uid_type"),1005==a("uid_type")?a("token"):e?o():a("uid_a2")||o()));var e}},"6ne/":function(e,t,n){"use strict";var r,i,o,a,u,c,s;Object.defineProperty(t,"__esModule",{value:!0}),t.WrittenTimeCycleType=t.RealNameType=t.SignUpResTrash=t.CertificateStatus=t.ApplyCertType=t.ProjStatus=t.ProjType=void 0,t.ProjType=r,function(e){e[e.JOB=1]="JOB",e[e.TECH=2]="TECH",e[e.EDU=3]="EDU"}(r||(t.ProjType=r={})),t.ProjStatus=i,function(e){e[e.On=1]="On",e[e.Off=2]="Off"}(i||(t.ProjStatus=i={})),t.ApplyCertType=o,function(e){e[e.First=0]="First",e[e.SubTest=1]="SubTest",e[e.ResetTest=2]="ResetTest"}(o||(t.ApplyCertType=o={})),t.CertificateStatus=a,function(e){e[e.Unkown=-1]="Unkown",e[e.CourseNotSignUp=0]="CourseNotSignUp",e[e.CourseStudyNotComplete=1]="CourseStudyNotComplete",e[e.CourseStudyComplete=2]="CourseStudyComplete",e[e.RealNameCheck=3]="RealNameCheck",e[e.RealNameNotPass=4]="RealNameNotPass",e[e.WritenSignUpSucc=5]="WritenSignUpSucc",e[e.WritenNotPass=6]="WritenNotPass",e[e.WritenPass=7]="WritenPass",e[e.InterviewSignUpSucc=8]="InterviewSignUpSucc",e[e.InterviewNotPass=9]="InterviewNotPass",e[e.InterviewPass=10]="InterviewPass",e[e.CertValid=11]="CertValid",e[e.CertInvalid=12]="CertInvalid"}(a||(t.CertificateStatus=a={})),t.SignUpResTrash=u,function(e){e[e.Success=0]="Success",e[e.Waitting=1]="Waitting",e[e.Fail=2]="Fail"}(u||(t.SignUpResTrash=u={})),t.RealNameType=c,function(e){e[e.Face=0]="Face",e[e.Manual=1]="Manual"}(c||(t.RealNameType=c={})),t.WrittenTimeCycleType=s,function(e){e[e.Unkown=-1]="Unkown",e[e.Month=0]="Month",e[e.Week=1]="Week",e[e.Day=2]="Day"}(s||(t.WrittenTimeCycleType=s={}))},"6qnT":function(e,t,n){"use strict";n("AEou"),n("FDph"),n("R+Rm"),n("cvpm"),n("NK4f"),n("JbTB"),n("vrty"),n("zFFn"),n("63Cg"),n("TIpR"),n("7oNk"),n("TFJX"),n("GcbD"),n("e1CN"),n("T1qB"),n("bZMm"),n("cVzb"),n("67YQ"),n("2nmh"),n("HwQ1"),n("m9bP"),n("pCHF"),n("UFYd"),n("uQ0J"),n("1jOc"),n("I5uA"),n("Pphc"),n("b7Qh"),n("AvUf"),n("j2Zj"),n("KSWt"),n("f1Mk"),n("EdkU"),n("Yd+N"),window.process=window.process||{env:{}},window.global=window,window.isFallback||n("QWRb");var r=n("xeH2");if(r.extend({cookie:n("q+3g"),bom:n("0HC3"),str:n("vlbh"),initReport:n("2Dn6"),loadScript:function(e,t){r.ajax({type:"GET",url:e,success:t,dataType:"script",cache:!0})}}),window.self===window.top){var i=n("EY/S");i.getInfo().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.is_logout&&e.is_login&&(r.modal({type:"alert",title:"注销提醒",content:"注销锁定期内再次登录，已取消注销申请"}),i.updateInfo({is_logout:0}))}))}window.html=n("Nfwl"),window.cdn_switch_detector_js_base=1,window.strEllipsis=n("vzzd"),window.TRecord=n("Jny1");var o=n("GJ5O");o&&o.init&&o.init();var a=["/storage_proxy.html","/syncLogin.html"];!function(){var e=window.isNotNeedToLoadSideOperation;if(-1===a.indexOf(location.pathname)&&!e){var t=n("JpvR");t&&t.init&&t.init()}}();var u=n("oAW5");!function(){if("ke.qq.com"===location.hostname&&1!=r.bom.query("preload")&&1!=r.bom.getHash("preload")&&"/comment.html"!=location.pathname){var e=function(){u.check({product:"ketang",pageFlag:"ketang-sc",url:"//ke.qq.com/ketang_sc.html"})};"complete"===document.readyState?e():r(window).on("load",(function(){e()}))}}(),n("SY+P").init()},"7Nj1":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Apply=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("e4x/")),c=r(n("Udhi")),s=r(n("okMe")),l=r(n("a3Zo")),d=n("F5LU"),f=n("kTN6"),p=n("nCBb"),h=n("uIhe"),v=n("SLme"),g=n("ixpB"),m=n("fcgD"),y=n("rfeo"),_=n("1c9X"),b=n("vqVK"),w=n("1rZ3");function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var P=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},x={applyFree:"/cgi-bin/apply_course_sect",applyFreePackage:"/cgi-bin/user/apply_free_course_package",pkgCoursePresent:"/cgi-bin/user/accept_course_in_pkg",present:"/cgi-bin/user/accept_present_course"},C={applyFree:{succMonitor:34647617,succLoggerStep:"【免费报名成功】",errMonitor:34647618,errLoggerStep:"【免费报名失败】"},applyFreePackage:{succMonitor:34647617,succLoggerStep:"【免费报名成功】",errMonitor:34647618,errLoggerStep:"【免费报名失败】"},present:{succMonitor:34647619,succLoggerStep:"【免费赠送成功】",errMonitor:34647620,errLoggerStep:"【免费赠送失败】"},pkgCoursePresent:{succMonitor:34647619,succLoggerStep:"【免费赠送成功】",errMonitor:34647620,errLoggerStep:"【免费赠送失败】"}},O=function(e){(0,u.default)(n,e);var t=k(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this)).opts=e,r.paylayer=null,r.isIAP=!1,r.addressId=0,r.channel="",r.yqhInfo=null,r.curDisId=0,r.payHandler=null,r.payHook=p.PayHook.getInstance(),r.prefetchData={},r.paylayerData={},r.curTermId=(0,b.getTid)(e),r.preFetcher=new y.PreFetcher(e),r.iapCheck=new w.IapCheck,r.applyChecker=new f.ApplyChecker(e),r.init(),r}return(0,a.default)(n,[{key:"init",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.opts).loading&&t.loading.show(),this.initReport(),e.prev=3,e.next=6,this.initPreFetch();case 6:return e.next=8,this.initCheck();case 8:return e.next=10,this.initIAP();case 10:return e.next=12,this.initFreeCourse();case 12:if(!e.sent){e.next=18;break}return e.next=16,this.initPaylayerData();case 16:this.initEvent(),this.onReady();case 18:e.next=30;break;case 20:if(e.prev=20,e.t0=e.catch(3),!e.t0||!e.t0.retcode){e.next=29;break}if(e.t0.retcode!==g.ASYNC_BREAK_NO_ERROR){e.next=25;break}return e.abrupt("return");case 25:if(!(g.IGNORE_ERROR.indexOf(e.t0.retcode)>-1)){e.next=28;break}return(0,d.isPC)()&&t.err&&t.err(e.t0),e.abrupt("return");case 28:e.t0.errMsg=e.t0.errMsg||g.errText.errWordings[e.t0.retcode];case 29:this.dealErr(e.t0);case 30:case"end":return e.stop()}}),e,this,[[3,20]])})))}},{key:"initReport",value:function(){h.imlog.configTdw({module:(0,d.isPC)()?"paywindow":"H5_paywindow"})}},{key:"refreshData",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.initPreFetch();case 3:return e.next=5,this.initPaylayerData();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.dealErr(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"initEvent",value:function(){var e=this;this.on(n.Events.onTermSelect,(function(t){return P(e,void 0,void 0,i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return this.curTermId=t,this.channel="",e.next=5,this.updatePaylayerData({curTermId:t});case 5:return n=e.sent,h.imlog.info("【支付模块】","【班级切换】",n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})))})),this.on(n.Events.onDiscountSelect,(function(t){return P(e,void 0,void 0,i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.curDisId=t,this.channel="",e.next=4,this.updatePaylayerData({curDisId:t});case 4:return n=e.sent,h.imlog.info("【支付模块】","【优惠切换】",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})))})),this.on(n.Events.onAddressChange,(function(t){t&&(h.imlog.info("【支付模块】","【填写地址】",t),e.addressId=t)})),this.on(n.Events.onYqhInfoChange,(function(t){t&&(h.imlog.info("【支付模块】","【填写有钱花信息】",t),e.yqhInfo=t)})),this.on(n.Events.onChannelChange,(function(t){return P(e,void 0,void 0,i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.channel=t,e.next=3,this.updatePaylayerData();case 3:return n=e.sent,h.imlog.info("【支付模块】","【支付方式切换】",n),h.imlog.tdw({action:"click",position:"protocol",ver1:this.channel}),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})))})),this.on(n.Events.pay,(function(t){return P(e,void 0,void 0,i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t||{},e.next=4,this.pay(n);case 4:h.imlog.monitor(34647621),h.imlog.info("【支付模块】","【支付按钮点击】",t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.dealErr(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})))})),this.on(n.Events.refreshData,(function(){e.refreshData()}))}},{key:"initIAP",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.isIAP)();case 2:this.isIAP=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"initPreFetch",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preFetcher.preFetch();case 2:return this.prefetchData=e.sent,e.next=5,this.iapCheck.checkIAPForDisplay();case 5:this.displayConfig=e.sent;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"initCheck",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){var t,r,o,a,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emit(n.Events.beforeCheck,Object.assign({},this.opts)),e.next=3,this.applyChecker.check(this.prefetchData);case 3:if(t=e.sent,r=t.pass,o=t.msg,a=t.retcode,u=t.noError,r){e.next=10;break}throw u?{retcode:g.ASYNC_BREAK_NO_ERROR}:{msg:o,retcode:a};case 10:this.emit(n.Events.afterCheck,Object.assign({},this.opts));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"getApplyParams",value:function(e,t,n){if(!e)throw h.imlog.error("[apply data error]: ",e),new Error("detail data needed!");var r=this.getProductId()||{},i=r.type,o=r.fid,a=r.sid,u={platform:(0,b.getPlatform)()};t.vcode&&(u=Object.assign(Object.assign({},u),{vfcode:t.vcode}));var c=Object.assign(Object.assign({},u),{cid:Number(o),term_id:Number(a)}),s=Object.assign(Object.assign({},u),{pkg_id:Number(o)});if(n===_.ApplyFreeType.PkgCoursePresent){var l=t.present;return{body:Object.assign(Object.assign({},c),{pkg_id:l&&l.belongPkg})}}return i===_.ProductType.CoursePackage?{body:s}:{body:c}}},{key:"applyApi",value:function(e,t,n){return P(this,void 0,void 0,i.default.mark((function r(){var o;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=this.getApplyParams(e,t,n),r.abrupt("return",(0,d.fetch)(x[n],Object.assign(Object.assign({},o),{method:"POST"})));case 2:case"end":return r.stop()}}),r,this)})))}},{key:"initFreeCourse",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o,a,u,c,s,l,d,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.opts,n=t.payType,r=t.present,o=this.prefetchData&&this.prefetchData.paylayerData||{},"instalment"!==n){e.next=5;break}return e.abrupt("return",!0);case 5:if(a=(0,b.isCourseFree)(o.ext),u=(0,b.isCoursePresent)(o.detail,t),a&&(c=(0,b.isCourse)(t)?_.ApplyFreeType.ApplyFree:_.ApplyFreeType.ApplyFreePackage,h.imlog.info("【支付模块】","【免费报名开始】",t)),u&&(h.imlog.info("【支付模块】","【免费赠送开始】",t),c=_.ApplyFreeType.Present),r&&r.type===_.PresentType.PkgCoursePresent&&(c=_.ApplyFreeType.PkgCoursePresent,h.imlog.info("【支付模块】","【免费赠送开始】",t)),!c){e.next=26;break}return s=C[c],l={},e.prev=13,e.next=16,this.applyApi(o,t,c);case 16:l=e.sent,e.next=24;break;case 19:throw e.prev=19,e.t0=e.catch(13),1e5!==(e.t0&&e.t0.retcode)&&s&&(d=s.errLoggerStep,h.imlog.extra({retcode:e.t0&&e.t0.retcode,platform:(0,b.getPlatform)()}).error("【支付模块】",d,e.t0),h.imlog.monitor(s.errMonitor)),e.t0;case 24:try{t.loading&&t.loading.hide(),t.succ&&t.succ(l),s&&(f=s.succLoggerStep,h.imlog.info("【支付模块】",f),h.imlog.monitor(s.succMonitor)),t.close&&t.close()}catch(e){t.close&&t.close(),h.imlog.error("【支付模块】","【免费报名后置逻辑失败】",e)}return e.abrupt("return",!1);case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,this,[[13,19]])})))}},{key:"initPaylayerData",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.paylayer=new m.PaylayerHandler(this.opts,this.prefetchData,this.displayConfig,this.isIAP),e.next=3,this.updatePaylayerData({curDisId:this.opts.curDisId,curTermId:(0,b.getTid)(this.opts)});case 3:this.curDisId=this.opts.curDisId;case 4:case"end":return e.stop()}}),e,this)})))}},{key:"updatePaylayerData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.paylayer){t.next=5;break}return t.next=3,this.paylayer.getPaylayerData(Object.assign(Object.assign({},e),{channel:this.channel}));case 3:(n=t.sent)&&(this.paylayerData=n,this.dispatchPaylayerData());case 5:case"end":return t.stop()}}),t,this)})))}},{key:"onReady",value:function(){this.opts.ready&&this.opts.ready(this.opts)}},{key:"getProductId",value:function(){var e=this,t=this.getDetails(),n=t[0]&&t[0].product_id;if(this.curTermId){var r=t.find((function(t){return t.term&&t.term.tid===e.curTermId}));return r&&r.product_id||n}return n}},{key:"getDetails",value:function(){return this.prefetchData&&this.prefetchData.paylayerData&&this.prefetchData.paylayerData.detail||[]}},{key:"pay",value:function(e){return P(this,void 0,void 0,i.default.mark((function t(){var n,r,o,a,u,c,s,l,d,f,p,g,m,y,_,b;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.opts,r=this.paylayerData,o=r.priceInfo,a=r.courseInfo,u=o.balance,c=o.curDiscount,s=o.deduction,l=o.recharge,d=o.payPrice,f=o.redBalance,p=o.price,g=c&&c.payParam||{},m=n.payParam||{},y=Object.assign(Object.assign({},e.orderReportExt),n.orderReportExt),_=Object.assign(Object.assign(Object.assign(Object.assign({addressId:this.addressId,balance:u,redBalance:f,deduction:s,recharge:l,payPrice:d,price:p,productid:this.getProductId()},g),m),e),{orderReportExt:y,channel:this.channel,returnUrl:n.returnUrl,returnParam:n.returnParam,isIAP:this.isIAP,disableChannel:n.disableChannel,displayExt:{courseName:a.name}}),b=this.payHook.exec("pay",_,this.paylayerData),h.imlog.info("【支付模块】","【支付下单开始】",b),this.payHandler=new v.Pay(b||_,{onConflict:n.onTimeConflict},n),t.next=12,this.payHandler.pay();case 12:case"end":return t.stop()}}),t,this)})))}},{key:"dispatchPaylayerData",value:function(){this.emit(n.Events.onPaylayerData,this.paylayerData,this)}},{key:"dealErr",value:function(e){var t=this.opts;throw t.err&&t.err(e),h.imlog.error(e),t.loading&&t.loading.hide(),e}}]),n}(l.default);t.Apply=O,O.Events={afterCheck:"afterCheck",beforeCheck:"beforeCheck",onPaylayerData:"paylayer.data",onTermSelect:"paylayer.termSelect",onDiscountSelect:"paylayer.discountSelect",onAddressChange:"paylayer.addressChange",onYqhInfoChange:"paylayer.yqhInfoChange",onChannelChange:"paylayer.channelChange",pay:"paylayer.pay",refreshData:"paylayer.refreshData"}},"7OHB":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.parseOpts=s,t.buildURL=function(e,t){var n=s(t),r=n.query,a=n.hash,u=(0,o.default)(e,{},!0);u.hash&&Object.assign(a,i.default.parse(u.hash.substring(1)));return u.set("query",Object.assign(Object.assign(Object.assign({},c),r),u.query)),u.set("hash","#".concat(i.default.stringify(a,{encode:!1}))),u.toString()},t.openTencentUrl=function(e,t){var n=(0,a.getWeiXinVersion)();(0,u.weixinJSBridgeReadyCall)((function(){(0,u.compairVersionString)(n,"6.5.6")>=1&&window.WeixinJSBridge&&window.WeixinJSBridge.invoke("launchApplication",{schemeUrl:e})}));var r=document.createElement("iframe");r.style.cssText="display:none;width:0px;height:0px;",r.onload=function(){var e;null===(e=r.parentNode)||void 0===e||e.removeChild(r)},r.onerror=function(){};var i=s(t),o=i.query,c=i.hash,l=o.from||c.from;l&&(delete o.from,delete c.from,c.source=l);r.src=e,document.body.appendChild(r)};var i=r(n("KsQx")),o=r(n("f3LS")),a=n("XOiT"),u=n("qGYQ"),c={_bid:window.testEnv?0:167,_wv:2147487745};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=void 0===t?{}:t,r=e.hash,o=void 0===r?{}:r;return"string"==typeof n&&(n=i.default.parse(n)),"string"==typeof o&&(o=i.default.parse(o)),Object.assign(Object.assign({},e),{query:n,hash:o})}},"7i97":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSasData=l,t.getDialogData=function(){return c(this,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.default.info("【首页弹框】"),e.next=4,l();case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),a.default.error("【首页弹框】","【首页弹框数据拉取失败】",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))},t.getFrequencyData=d,t.setFrequencyData=function(e){var t=e.frequency,n=e.lasttime,r=d().frequency,i=void 0===r?0:r;return(0,u.setStorage)("h5_index_dialog_frequency_key",{frequency:t||i+1,lasttime:n||(new Date).getTime()}),t},t.DIALOG_SHOW_PLATFORM=void 0;var i,o=r(n("gBQG")),a=r(n("HO9c")),u=n("F5LU"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};t.DIALOG_SHOW_PLATFORM=i,function(e){e[e.ALL=0]="ALL",e[e.ANDROID=1]="ANDROID",e[e.IOS=2]="IOS",e[e.H5=3]="H5"}(i||(t.DIALOG_SHOW_PLATFORM=i={}));var s;function l(){return s&&0===s.retcode&&s.result?Promise.resolve(s.result):(0,u.fetch)("//sas.qq.com/cgi-bin/ke_operationpos_indexapp").then((function(e){var t=s=e,n=t.result,r=t.date;return n.forEach((function(e){e.servertime=r})),s.result}))}function d(){return(0,u.getStorage)("h5_index_dialog_frequency_key")||{}}},"7mbv":function(e,t,n){"use strict";var r=n("A3sk"),i=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Mode=void 0;var o=i(n("EAVL")),a=i(n("oywu")),u=i(n("4XZU")),c=i(n("e4x/")),s=i(n("Udhi")),l=i(n("okMe")),d=i(n("aDhn")),f=r(n("TfAg")),p=i(n("eh1k")),h=i(n("nLJh")),v=n("0rs+"),g=n("id1U"),m=n("F5LU"),y=i(n("HO9c"));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}n("Oci2");var b=v.Form.Dropdown,w=v.Form.Input,k={},P={binding:1,verify:0},x={106502:"您的操作频率过快，请稍后重试！"},C={value:"+86",display:"+86",search:"中国",key:"CN"};function O(e){v.Message.alert({content:e,direction:"center"})}v.Message.config({zIndex:5e3});var A={BINDING:"binding",VERIFY:"verify",AUTH:"auth"};t.Mode=A;var T=function(e){(0,c.default)(n,e);var t=_(n);function n(e){var r;return(0,o.default)(this,n),r=t.call(this,e),(0,d.default)((0,u.default)(r),"onClickDialingCode",(function(){y.default.tdw({action:"click",module:"select_callingcodes"})})),(0,d.default)((0,u.default)(r),"onChangeDialingCode",(function(e){r.setState({selectedDialingCode:e}),r.focusField()})),(0,d.default)((0,u.default)(r),"onVerify",(function(){var e=(0,u.default)(r).validator,t=r.props,n=t.mode,i=t.onVerify,o=t.data;if(!(r.state.seconds>0)){var a,c=o.phoneNum,s=o.nationalCode,l=r.form.getValues(),d=l.phoneNum,f=void 0===d?c:d,p=l.dialingCode,h=(void 0===p?s:p).replace(/^\+/,"");if((0,g.checkPhone)(f,h))i(),(a={raw_phone:f,phone:f,from:P[n],national_code:h},(0,m.fetch)("/cgi-bin/tool/apply_sms_code",{data:a}).catch((function(e){var t=e.retcode,n=void 0===t?-1:t;return 120011===n?k[a.phone]=!0:O(x[n]||"发送验证码失败(".concat(n,")，请稍后重试！")),Promise.reject(n)}))).then((function(){v.Message.success("发送成功！"),r.setState({seconds:60,verifyTxt:"重新获取"},(function(){r.countDown()}))})).catch((function(t){120011!==t?r.setState({verifyTxt:"重新获取"}):e.checkField(f,"phoneNum")}));else e.checkField(f,"phoneNum")}})),(0,d.default)((0,u.default)(r),"onCancel",(function(){var e=r.props.onCancel;r.setState({visible:!1},e)})),(0,d.default)((0,u.default)(r),"onClose",(function(){var e=r.props.onClose;r.setState({visible:!1},e)})),(0,d.default)((0,u.default)(r),"onSubmit",(function(){var e,t=r.props,n=t.mode,i=t.data,o=r.props,a=o.onSubmit,u=o.onSubmitSucc,c=i.phoneNum,s=i.nationalCode,l=r.form.getValues(),d=l.phoneNum,f=void 0===d?c:d,p=l.dialingCode,h=void 0===p?s:p,g=l.verifyNum,y=h.replace(/^\+/,"");a(),(e={raw_phone:f,phone:f,code:g,national_code:y},(0,m.fetch)("/cgi-bin/tool/check_sms_code",{data:e}).then((function(e){var t=e.result;return void 0===t?{}:t})).catch((function(e){var t=e.retcode,n=e.msg;return e.msg=void 0===t?"服务异常，请稍后重试":n||106501===t?"验证码错误，请重新输入":"服务异常(".concat(t,")，请稍后重试"),Promise.reject(e)}))).then((function(e){return function(e){return(0,m.fetch)("/cgi-bin/user/set_user_info",{method:"POST",body:e}).then((function(){v.Message.success("绑定手机号成功！")})).catch((function(e){var t=e.retcode,n=void 0===t?-1:t,r=e.msg;return O(r?"".concat(r,"(").concat(n,")"):"绑定手机号失败(".concat(n,")，请稍后重试！")),Promise.reject(n)}))}({token:e.token,mobile:f,from:P[n],national_code:y}).then((function(){u({phoneNum:f,nationalCode:y})}))})).catch((function(e){r.validator.checkField(e,"verifyNum")}))})),(0,d.default)((0,u.default)(r),"onConfirm",(function(){var e=r.props.onConfirm;r.setState({visible:!1},(function(){e()}))})),(0,d.default)((0,u.default)(r),"focusField",(function(){setTimeout((function(){var e,t,n=r.props.mode,i=null===(e=r.phoneNum)||void 0===e?void 0:e.field,o=null===(t=r.verifyNum)||void 0===t?void 0:t.field;switch(n){case A.BINDING:i&&i.focus();break;case A.VERIFY:o&&o.focus()}}),100)})),(0,d.default)((0,u.default)(r),"countDown",(function(e){var t=r.state.seconds;if(e)return clearTimeout(r.timer),void r.setState({seconds:0});t>0&&(r.timer=setTimeout((function(){r.setState({seconds:t-1}),r.countDown()}),1e3))})),(0,d.default)((0,u.default)(r),"toggleSubmit",(function(e){r.setState({isValid:e})})),r.state={visible:!0,isValid:e.mode===A.AUTH,seconds:0,verifyTxt:"获取验证码",intlTelDialingCodeList:[C],selectedDialingCode:C.value},r.checkers={intlTel:function(e,t){var n=r.state.selectedDialingCode;t({isValid:(0,g.checkPhone)(e,n),msg:"手机号码错误，请重新输入"})},phoneNum:function(e,t){t({isValid:!k[e],msg:"此手机号已被其他账号绑定"})},verifyNum:function(e,t){t({isValid:/^\d{6}$/.test(e),msg:"请输入6位数验证码"})},cgiError:function(e,t){return e.msg?t({isValid:!1,msg:e.msg}):t({isValid:!0,msg:""})}},g.intlTelDialingCode.fetch().then((function(e){var t=e.result,n=[],r={};return(void 0===t?[]:t).forEach((function(e){e.data.forEach((function(e){r[e.iso_code]||(r[e.iso_code]=!0,n.push({value:e.dialing_code,display:"+".concat(e.dialing_code),search:e.name,key:e.iso_code}))}))})),n})).then((function(e){r.setState({intlTelDialingCodeList:e,selectedDialingCode:e[0].value})})),y.default.tdw({action:"exposure",module:"select_callingcodes"}),r}return(0,a.default)(n,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focusField()}},{key:"renderDialingCode",value:function(){var e=this.props,t=e.mode,n=e.data,r=this.state,i=r.intlTelDialingCodeList,o=r.selectedDialingCode;switch(t){case A.AUTH:return f.default.createElement("span",{className:"phone-info-dialing-code"},"+",n.nationalCode||o);default:return f.default.createElement(b,{name:"dialingCode",className:"phone-input-dialing-code",options:i,value:o,dropdownWidth:228,onFocus:this.onClickDialingCode,onChange:this.onChangeDialingCode},i.map((function(e){return f.default.createElement(v.Dropdown.Option,{key:e.key,option:e},f.default.createElement("span",{className:"left"},e.search),f.default.createElement("span",{className:"right"},"+",e.value))})))}}},{key:"renderMobileField",value:function(){var e=this,t=this.props,n=t.mode,r=t.data,i=t.autoFill,o=r.phoneNum;switch(n){case A.BINDING:return f.default.createElement(v.FormRow,{className:"mobile-form-row"},f.default.createElement(v.Label,null,"手机号码"),f.default.createElement("div",{className:"phone-input-wrap"},f.default.createElement(w,{ref:function(t){e.phoneNum=t},name:"phoneNum",defaultValue:i?o:void 0,autoComplete:"off","data-required":!0,"data-trigger":"onChange","data-patterns":[{key:"intlTel"},{key:"phoneNum"}],"data-prefix":this.renderDialingCode()})));case A.AUTH:return f.default.createElement("p",{className:"mobile-auth-row"},f.default.createElement("strong",{className:"phone-info-wrap"},this.renderDialingCode(),f.default.createElement("span",null,o)),f.default.createElement("span",{className:"btn-modify",onClick:this.props.onReplace},"更换"));case A.VERIFY:default:return null}}},{key:"renderVerifyCodeField",value:function(){var e=this;return f.default.createElement(v.FormRow,{className:"mobile-form-row"},f.default.createElement(v.Label,null,"短信验证码"),f.default.createElement(w,{ref:function(t){e.verifyNum=t},name:"verifyNum",maxLength:"6","data-required":!0,"data-patterns":[{key:"cgiError"},{key:"verifyNum"}],"data-suffix":this.renderVerifyBtn()}))}},{key:"renderVerifyBtn",value:function(){var e=this,t=this.state,n=t.seconds,r=t.verifyTxt,i=(0,h.default)("btn-verify",{disabled:n>0}),o=!(this.validator&&this.validator.isFieldValid("phoneNum"));return f.default.createElement(v.Button,{ref:function(t){e.verifyBtn=t},className:i,type:"button",size:"s",color:"weak",disabled:o,onClick:this.onVerify},n>0?"".concat(r,"(").concat(n,")"):r)}},{key:"renderForm",value:function(){var e=this,t=this.props,n=t.inline,r=t.prefix,i=t.suffix,o=t.validatorProps;return f.default.createElement(v.Validator,Object.assign({msgAlign:"bottom"},o,{ref:function(t){e.validator=t},checkers:this.checkers,onValid:function(){return e.toggleSubmit(!0)},onInValid:function(){return e.toggleSubmit(!1)}}),f.default.createElement(v.Form,{className:"mobile-form",ref:function(t){e.form=t}},r,this.renderMobileField(),this.renderVerifyCodeField(),n?this.renderBtns():null,i))}},{key:"renderAuthForm",value:function(){var e=this.props,t=e.inline,n=e.prefix,r=e.suffix;return f.default.createElement("div",{className:"mobile-auth"},n,this.renderMobileField(),t?this.renderBtns():null,r)}},{key:"renderBtns",value:function(){var e=this.props,t=e.mode,n=e.canskip,r=e.btnProps,i=this.state.isValid,o=n?"跳过":"取消",a="保存",u=this.onSubmit;return t===A.AUTH&&(a="确定",u=this.onConfirm),[f.default.createElement(v.Button,Object.assign({className:"btn-confirm",key:"confirm",type:"button",size:"s"},r,{disabled:!i,onClick:u}),a),f.default.createElement(v.Button,Object.assign({className:"btn-cancel",key:"cancel",type:"button",size:"s",color:"weak"},r,{onClick:this.onCancel}),o)]}},{key:"render",value:function(){var e=this.props,t=e.inline,n=e.mode,r=e.dialogProps,i=this.state.visible,o=n===A.AUTH?this.renderAuthForm():this.renderForm();return t?i?o:null:f.default.createElement(v.Dialog,Object.assign({className:"mobile-form-dialog",width:630,title:"绑定手机"},r,{visible:i,onClose:this.onClose,button:this.renderBtns()}),o)}}]),n}(f.Component);(0,d.default)(T,"defaultProps",{inline:!0,mode:A.BINDING,prefix:null,suffix:null,canskip:!1,data:{},autoFocus:!0,autoFill:!1,btnProps:{},dialogProps:{},validatorProps:{},onVerify:function(){},onSubmit:function(){},onReplace:function(){},onConfirm:function(){},onCancel:function(){},onClose:function(){}}),(0,d.default)(T,"show",(function(e){if(!T.$container){var t=document.createElement("div");document.body.appendChild(t),T.$container=t}p.default.render(f.default.createElement(T,e),T.$container)})),(0,d.default)(T,"destroy",(function(){T.$container&&p.default.unmountComponentAtNode(T.$container)}));var S=T;t.default=S},"7qgZ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("XOiT"),i=n("/m0i"),o=n("RWC5"),a=n("Q7IB"),u=n("/2YP");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var c=n("Ye0L");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var s=n("I+bn");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var l=n("rrg5");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})})),a.env.set("fetch",i.fetch),a.env.set("getStorage",(function(e){var t;return(null===(t=(0,o.bindingGet)(e))||void 0===t?void 0:t.v)||{}})),a.env.set("setStorage",o.bindingSet),a.env.set("isApp",r.isApp)},"7rxe":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getSasData=p,t.checkObnCourse=g,t.getActOpts=function(e){return f(this,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([g(e)]).then((function(e){return{isObn:(0,o.default)(e,1)[0]}})));case 1:case"end":return t.stop()}}),t)})))},t.getJumpUrl=m,t.getObnOperateUrl=function(){return f(this,void 0,void 0,a.default.mark((function e(){var t,n,r,i,o,c,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.default.info("【支付模块】","【老带新数据拉取】"),e.next=4,p();case 4:return t=e.sent,n=t.result,r=(void 0===n?[]:n)[0]||{},i=r.skinInfo,o=void 0===i?{}:i,c=r.baseInfo,s=void 0===c?{}:c,e.abrupt("return",{closeUrl:o.closeUrl,iconUrl:o.iconUrl,jumpUrl:m(s.jumpUrl),maskUrl:o.maskUrl,maskUrlForNew:o.maskUrlForNew});case 10:e.prev=10,e.t0=e.catch(0),u.default.error("【支付模块】","【老带新数据拉取失败】",e.t0);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))},t.checkObnIdIsValid=function(e){var t;return f(this,void 0,void 0,a.default.mark((function n(){var r,i,o,c,l,f,p,h,v;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new d.ObnAct,n.prev=1,n.next=4,i.getIsObn();case 4:o=n.sent,r=null===(t=null==o?void 0:o.result)||void 0===t?void 0:t.actId,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),u.default.error("【支付模块】","【obn actId检查是否有效失败】",n.t0);case 11:if(r){n.next=13;break}return n.abrupt("return",!1);case 13:return n.prev=13,u.default.info("【支付模块】","【obnid检查是否有效】"),n.next=17,(0,s.fetch)("/cgi-proxy/obn/get_obn_quota",{data:{obn_id:e,act_id:r}});case 17:return c=n.sent,l=c.result,p=(f=void 0===l?{}:l).invited_count,h=f.obn_quota,v=h-p>0,n.abrupt("return",v);case 24:n.prev=24,n.t1=n.catch(13),u.default.error("【支付模块】","【obnid检查是否有效失败】",n.t1);case 27:return n.abrupt("return",!1);case 28:case"end":return n.stop()}}),n,null,[[1,8],[13,24]])})))},t.getObnDBData=function(){return f(this,void 0,void 0,a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.default.info("【支付模块】","【老带新后台数据逻辑开始】"),e.next=4,v();case 4:return t=e.sent,n=t.result,r=void 0===n?{}:n,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),u.default.error("【支付模块】","【老带新后台数据拉取失败】",e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))},t.getObnParam=y,t.getObnId=_,t.setObnParam=function(e,t){var n=b(t);try{c.default.setItem(n,JSON.stringify(e)),u.default.info("[obnId set session]",n,e)}catch(e){u.default.error("[obnId set err]",e)}},t.addObnIdParam=function(e){var t=_();t&&(e.orderReportExt=e.orderReportExt||{},e.orderReportExt.obn_id=t);return e},t.DBResultActEndType=void 0;var i,o=r(n("+jPT")),a=r(n("gBQG")),u=r(n("HO9c")),c=r(n("jRE9")),s=n("F5LU"),l=n("GMyB"),d=n("9GnI"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function p(){return(0,s.fetch)("//sas.qq.com/cgi-bin/ke_act_obn")}t.DBResultActEndType=i,function(e){e[e.notEnd=0]="notEnd",e[e.preEnd=1]="preEnd",e[e.normalEnd=2]="normalEnd"}(i||(t.DBResultActEndType=i={}));var h={};function v(){return f(this,void 0,void 0,a.default.mark((function e(){var t,n,r,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.href,n=Number((0,l.getCidFromUrl)(t)),r=0,n||(r=Number((0,l.getPidFromUrl)(t))),n||r||u.default.error("【老带新运营位】取不到参数",t),!h[i=n||r||"common"]){e.next=8;break}return e.abrupt("return",Promise.resolve(h[i]));case 8:return u.default.info("【支付模块】","【老带新后台数据开始拉取】"),e.next=11,(0,s.fetch)("/cgi-proxy/obn/has_obn_qualification",{data:n?{course_id:n}:{pkg_id:r}});case 11:return o=e.sent,h[i]=o,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))}function g(e){return f(this,void 0,void 0,a.default.mark((function t(){var n,r,i,o,c,s,l,d,f,h;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.default.info("【支付模块】","【老带新数据拉取】"),t.next=4,p();case 4:if(n=t.sent,r=n.result,i=void 0===r?[]:r,o=n.date,c=void 0===o?0:o,s=i[0]||{},l=s.courses,d=void 0===l?[]:l,f=s.baseInfo,!(c<(h=void 0===f?{}:f).beginTs||c>h.endTs)){t.next=10;break}return t.abrupt("return",!1);case 10:return t.abrupt("return",d.some((function(t){return t.courseId===e||t.pkgId===e})));case 13:throw t.prev=13,t.t0=t.catch(0),u.default.error("【支付模块】","【老带新数据拉取失败】",t.t0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))}function m(e,t){var n=e||"https://m.ke.qq.com/act/obn_h5/index/index.html",r=(0,l.getCidFromUrl)(),i=(0,l.getPidFromUrl)(),o="&obnId=".concat(t);return r?"".concat(n,"?course_id=").concat(r).concat(t?o:""):i?"".concat(n,"?pkg_id=").concat(i).concat(t?o:""):n}function y(e){var t=b(e),n=(0,s.getQuery)("obnId"),r=(0,s.getQuery)("obnPrice"),i={obnId:n,obnPrice:r};if(n&&r)return i;try{var o=c.default.getItem(t);return o?JSON.parse(o):i}catch(e){return u.default.error("[param get err]",e),i}}function _(e){var t=(y(e)||{}).obnId;return(void 0===t?0:t)||(0,s.getQuery)("obn_id")}function b(e){var t=(0,s.getLocation)(),n=Number((0,l.getCidFromUrl)(t.href)),r=0;return n||(r=Number((0,l.getPidFromUrl)(t.href))),"OBN_NEW_ID_".concat(e||n||r)}},"7xq2":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.InstitutionPartnerImp=t.PartnerStatus=void 0;var i,o=r(n("EAVL")),a=r(n("oywu")),u=n("sPX+"),c=n("u7jz"),s=n("U/Od");t.PartnerStatus=i,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INPROGRESS=1]="INPROGRESS",e[e.FINISHED=2]="FINISHED",e[e.ENDED=3]="ENDED"}(i||(t.PartnerStatus=i={}));var l=function(){function e(t){(0,o.default)(this,e),this.discount=t,this.type=u.InstitutionDiscountType.Partner,this.utils=new s.Utils(this.discount),this.status=new c.Status(this.discount,this.utils),this.desc="学伴"}return(0,a.default)(e,[{key:"getId",value:function(){return this.utils.getPartnerActId()}},{key:"getPrice",value:function(){return 0}},{key:"getDecrPrice",value:function(){return this.utils.getDecrPrice()}},{key:"getStatus",value:function(){return this.status.getStatus()}},{key:"listenStatus",value:function(){var e;return(e=this.status).listenStatus.apply(e,arguments)}},{key:"removeListenStatus",value:function(){var e;return(e=this.status).removeListenStatus.apply(e,arguments)}},{key:"emitStatus",value:function(){var e;return(e=this.status).emitStatus.apply(e,arguments)}},{key:"getPayParam",value:function(){return this.getId()?{partner_id:this.getId()}:{}}},{key:"getData",value:function(){return Object.assign({},this.discount)}}]),e}();t.InstitutionPartnerImp=l},"8HNs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHomeworkDisplay=function(e){var t=e.aid,n=e.cid,i=e.page,o=e.page_size,a=e.userType,u="c"===(void 0===a?"c":a)?"get_excellent_works_toc":"get_excellent_works_tob";return(0,r.fetch)("/cgi-proxy/homework/".concat(u),{data:{aid:t,cid:n,page:i,page_size:o}}).then((function(e){return e.result}))};var r=n("F5LU")},"8MP1":function(module,exports,__webpack_require__){var _typeof=__webpack_require__("cDf5");"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,u=gap,c=t[e];switch(c&&"object"===_typeof(c)&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),_typeof(c)){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;n<o;n+=1)a[n]=str(n,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+u+"]":"["+a.join(",")+"]",gap=u,i}if(rep&&"object"===_typeof(rep))for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],c))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+u+"}":"{"+a.join(",")+"}",gap=u,i}}JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return(str("",{"":e})||"").replace(/"uin":"(\d{5,11}|\d{18})"/g,'"uin":$1')},JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"===_typeof(i))for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=(text||"").replace(/\"(\:)(\d{18,})([,}])/g,'"$1"$2"$3'),text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw window.Badjs&&Badjs("JSON.parse error:"+text,location.href,0,"",2),new SyntaxError("JSON.parse")}}()},"8QpS":function(e,t,n){},"8T5s":function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<span class="timeout-text timeout-hour">',hour,'</span><span class="timeout-gap">:</span><span class="timeout-text timeout-minute">',minute,'</span><span class="timeout-gap">:</span><span class="timeout-text timeout-second">',second,"</span>"),_$out_.join("")}}},"8ZSf":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={Discount:!0};t.Discount=void 0;var o=r(n("ZeZv")),a=r(n("aDhn")),u=r(n("gBQG")),c=r(n("EAVL")),s=r(n("oywu")),l=r(n("5Efv")),d=n("CGIb");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=n("F5LU"),p=r(n("HO9c")),h=n("deya");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var v=n("MGUh");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var g=n("DJl7");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var m=n("WyIQ");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var y=n("cEIL");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var _=n("RUvJ");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var b=n("mn89");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var w=n("h/hq");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var k=n("4sTA");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var P=n("gMOL");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))}));var x=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},C=function(){function e(t,n){(0,c.default)(this,e),this.discountParam=t,this.discountInfo=n,this.discountParam}return(0,s.default)(e,[{key:"getAllDiscount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discountFilter;return x(this,void 0,void 0,u.default.mark((function e(){var n,r,i,o,a,c;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.discountInfo){e.next=3;break}return e.next=3,this.fetchDiscountInfo();case 3:return n=this.discountInfo||{},r=n.available,i=n.discounts,o=n.server_time,a={server_time:o},c=this.handleData(r,i,o,t),e.abrupt("return",Object.assign(Object.assign({},a),c));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"adapterDiscounts",value:function(e){return e.map((function(e){if(e.type===d.DiscountType.Bargain){var t=e[d.DiscountType.Bargain];if(!t.bargain_detail)return t=Object.assign(Object.assign({},t),{bargain_detail:Object.assign({},t)}),Object.assign(Object.assign({},e),(0,a.default)({},d.DiscountType.Bargain,t))}return e}))}},{key:"getCurrentDiscount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discountFilter;return x(this,void 0,void 0,u.default.mark((function e(){var n,r,i,o,a,c,s;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllDiscount({discountFilter:t});case 2:return n=e.sent,i=(r=n||{}).available,o=r.discounts,a=r.server_time,(c=i&&i[0])?c.type===d.DiscountType.Coupon&&(s=o&&o[0])&&s.type!==d.DiscountType.Coupon&&(c=s):c=o&&o[0],e.abrupt("return",Object.assign(Object.assign({},c),{server_time:a}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getCurrentDiscountForNew",value:function(){return x(this,void 0,void 0,u.default.mark((function e(){var t,n,r,i,a,c,s,l;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllDiscount();case 2:return t=e.sent,n=t.available,r=void 0===n?[]:n,i=t.discounts,a=void 0===i?[]:i,c=r.filter((function(e){return e.type===d.DiscountType.Coupon})).map((function(e){return e.detail=Object.assign(Object.assign({},e.detail),{user_state:0}),Object.assign(Object.assign({},e),{coupon:e.detail})})),s=a.filter((function(e){return e.type===d.DiscountType.Coupon&&!r.find((function(t){return t.id===e.id}))})).map((function(e){return e.detail=Object.assign(Object.assign({},e.detail),{user_state:5}),Object.assign(Object.assign({},e),{coupon:e.detail})})),e.next=8,this.getCurrentDiscount();case 8:if((l=e.sent).type!==d.DiscountType.Coupon){e.next=11;break}return e.abrupt("return",Object.assign(Object.assign({},l),{coupon:Object.assign(Object.assign({},l.detail),{user_state:s.find((function(e){return e.id===l.id}))?5:0,all:[].concat((0,o.default)(c),(0,o.default)(s))})}));case 11:return l.type===d.DiscountType.Bargain&&(l.detail.bargain_detail||(l.detail.bargain_detail=l.detail,l[d.DiscountType.Bargain].bargain_detail=l.detail)),e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})))}},{key:"handleData",value:function(e,t,n,r){var i=this.getFilterList(e,r),o=this.getFilterList(t,r),a=this.adapterDiscounts(o);return{available:this.getMapList(i,n),discounts:this.getMapList(a,n)}}},{key:"getMapList",value:function(e,t){var n=this;return e&&e.map((function(e){return n.dispatch(e,t)}))}},{key:"getFilterList",value:function(e,t){return e&&e.length?e.filter((function(e){if(t&&t.indexOf(e.type)>-1)return!1;var n=(0,l.default)(e);return!(n.filter&&!n.filter())})):[]}},{key:"dispatch",value:function(e,t){var n=(0,l.default)(e,t);return n.filter&&!n.filter()?null:this.getDiscountData(n)}},{key:"fetchDiscountInfo",value:function(){var e=this;return(0,f.fetch)("/cgi-proxy/discount/get_all_discount",{data:this.discountParam}).then((function(t){e.discountInfo=t&&t.result})).catch((function(e){p.default.error("【优惠模块】","get_all_discount fetch数据异常",e)}))}},{key:"getDiscountData",value:function(e){return(0,a.default)({id:e.getId&&e.getId(),type:e.type,price:e.getPrice&&e.getPrice(),payParam:e.getPayParam&&e.getPayParam(),ext:e.getExt&&e.getExt(),detail:e.getData&&e.getData()},e.type,e.getData&&e.getData())}}]),e}();t.Discount=C},"8p0i":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("uMWn");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},"8qCz":function(e,t,n){var r=n("xeH2");n("Lwcf");var i=null,o={},a=0,u={onSwitchedPage:function(e){var t=-(e.page-1)*a;i.find(".agency-list").animate({left:t})}};e.exports={init:function(){var e,t;i=r(".agency-wall"),a=i.find(".agency-item").eq(1).outerWidth(!0),o=GLOBAL_DATA.agencyInfo||{},e=o.vis||9,t=o.list||[],u.maxPage=t.length-e,i.length&&t.length>e&&i.bidiPaging(u)}}},"91me":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelModel=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=n("F5LU"),c=n("P87J"),s=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},l=function(){function e(){(0,i.default)(this,e),this.isIAP=!1}return(0,o.default)(e,[{key:"initData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.channels=e,this.isIAP=t}},{key:"getChannelMap",value:function(e){var t;this.priceInfo=e;var n=null===(t=this.filterSas())||void 0===t?void 0:t.filter(this.channelFilter.bind(this)),r=null==n?void 0:n.reduce((function(e,t){return e[t.channel]=t,e}),{});return this.dealSasRule(r),r}},{key:"filterSas",value:function(){var e;return null===(e=this.channels)||void 0===e?void 0:e.filter((function(e){return"sas"!==e.from}))}},{key:"dealSasRule",value:function(e){var t=this;if((null==e?void 0:e.jd)&&(null==e?void 0:e.YQH)){var n=this.getSasRule();null==n||n.forEach((function(n){var r;if(e[n.channel]){var i=e[n.channel],o=Number(null===(r=t.priceInfo)||void 0===r?void 0:r.realPrice);i&&(o<n.limit||o>Number(n.up_limit))&&(e[n.channel]=null)}}))}}},{key:"getSasRule",value:function(){var e;return null===(e=this.channels)||void 0===e?void 0:e.filter((function(e){return"sas"===e.from}))}},{key:"channelFilter",value:function(e){var t,n;return!(0,u.isMiniProgram)()&&(!!e.access&&(!(this.isIAP&&!e.ios_access)&&(!(Number(null===(t=this.priceInfo)||void 0===t?void 0:t.realPrice)>Number(e.up_limit))&&!(Number(null===(n=this.priceInfo)||void 0===n?void 0:n.realPrice)<e.limit))))}}]),e}();t.ChannelModel=l,s([(0,c.log)("获取当前渠道信息")],l.prototype,"getChannelMap",null)},"98jZ":function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push("",function(it,opt){with(it=it||{},it){var _$out_=[],cid=task.cid,taid=task.taid,cover_url=task.cover_url,course_name=task.course_name,task_name=task.name,apply_status=task.apply_status,apply_num=task.apply_num,term_info=task.terms&&task.terms[0]||{},teacher=term_info.teacher||{};return _$out_.push('<img class="screen-img" alt="课程封面" title="课程封面" onerror="window.__eduCourseCardRetry__ && __eduCourseCardRetry__.call(this)" src="',cover_url+510,'"><div class="screen-mask"></div><div class="screen-bd" data-taid="',taid,'"> \x3c!-- style="background-image: url(\'',cover_url,'\')"--\x3e <div class="screen-infos"> <div class="course-info"> <p class="teacher-info"> <img src="',teacher.cover_url,'" alt="老师头像"> <span class="teacher-name">',teacher.name,'</span> </p> <a href="https://ke.qq.com/course/',cid,'" target="_blank" class="course-link" title="',course_name,'" data-cid="',cid,'"> <span>来自课程：',course_name,'</span> <i class="icon-font i-v-right"></i> </a> </div> <p class="course-name"> <a title="',task_name,'"> \x3c!-- <i class="icon-font i-course-live"></i> --\x3e',task_name,'</a> </p> <div class="course-status"> <p class="text"> '),isClassing&&_$out_.push(' <i class="icon-live"></i>正在上课 '),_$out_.push(" </p> </div> "),isClassing?_$out_.push(' <a id="js-join-class" class="course-apply blue-btn" href="javascript:;" title="立即学习" data-classing="1" data-cid="',cid,'">立即学习</a> '):void 0===apply_status||1!==apply_status?_$out_.push(' <a id="js-course-apply" class="course-apply" href="javascript:;" title="立即报名" data-cid="',cid,'">立即报名</a> '):_$out_.push(' <a id="js-join-class" class="course-apply blue-btn" href="javascript:;" title="查看详情" data-classing="0" data-cid="',cid,'">查看详情</a> '),_$out_.push(" </div></div>"),_$out_.join("")}}(it,opt),""),_$out_.join("")}}},"99me":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ObnChecker=void 0;var i=r(n("gBQG")),o=r(n("+jPT")),a=r(n("EAVL")),u=r(n("oywu")),c=n("nzmE"),s=n("5Qq2"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},d=function(){function e(){(0,a.default)(this,e),this.type=c.ActType.Obn}return(0,u.default)(e,[{key:"check",value:function(e){return l(this,void 0,void 0,i.default.mark((function t(){var n,r,a,u,c,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==e?void 0:e.notApply)){t.next=2;break}return t.abrupt("return",{pass:!1});case 2:return t.next=4,Promise.all([(0,s.getObnDBData)(),(0,s.getObnOperateUrl)()]);case 4:return n=t.sent,r=(0,o.default)(n,2),a=r[0],u=r[1],this.obnDBData=a,this.urlInfo=u,c=function(){var e=+new Date;return(null==a?void 0:a.has_qualification)&&e>(null==a?void 0:a.activity_begin_time)&&e<(null==a?void 0:a.activity_end_time)},l=a&&c(),t.abrupt("return",{pass:!!l,data:u});case 13:case"end":return t.stop()}}),t,this)})))}},{key:"getUrlInfo",value:function(){return this.urlInfo}},{key:"getObnDBData",value:function(){return this.obnDBData}}]),e}();t.ObnChecker=d},"9C0r":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/m0i"),i=n("or4B");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("4Zsq");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})),(0,i.configEnv)({request:r.fetch})},"9CSF":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RewardItemType=void 0,t.RewardItemType=r,function(e){e[e.gift=3]="gift",e[e.coupon=1]="coupon",e[e.course=2]="course"}(r||(t.RewardItemType=r={}))},"9F93":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.JdPay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("P87J"),l=n("R3/i"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p=function(){function e(t){(0,o.default)(this,e),this.payOpts=t,this.orderHandler=new l.Order(t)}return(0,a.default)(e,[{key:"pay",value:function(){var e,t;return f(this,void 0,void 0,i.default.mark((function n(){var r,o,a,u,s,l;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.orderHandler.order();case 2:return r=n.sent,o=r.result||{},a=o.jd_info,u=a&&a.h5_url,s=a&&a.pc_url,l=a&&a.url_param,null===(t=(e=this.payOpts).beforePay)||void 0===t||t.call(e,this.payOpts),(0,c.isPC)()?this.pcPay(s,l):this.h5pay(u,l),n.abrupt("return",a);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"pcPay",value:function(e,t){var n,r=this.getPcParam(t),i=document.getElementsByClassName("js-jd-form");for(var o in 0!==i.length?n=i[0]:((n=document.createElement("form")).className="js-jd-form",document.getElementsByTagName("body")[0].appendChild(n)),n.innerHTML="",n.setAttribute("action",e),n.setAttribute("method","post"),r)if(r.hasOwnProperty(o)){var a=r[o],u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",o),u.value=a,n.appendChild(u)}n.submit()}},{key:"h5pay",value:function(e,t){if(!e||!t)throw new Error("illegal jd return: "+e+JSON.stringify(t));t=t.replace(/\s+/g,"");var n=(0,c.queryToString)({url:e,param:t});(0,c.isApp)()&&(n=encodeURIComponent(n));var r="//m.ke.qq.com/jdPay.html?"+n;c.Jumper.jump(r,{noBuild:!0})}},{key:"getPcParam",value:function(e){var t=e.split("&"),n={};return t.forEach((function(e){var t=e.indexOf("=");n[e.substr(0,t)]=e.substr(t+1,e.length)})),n}}]),e}();t.JdPay=p,d([(0,s.log)("京东支付",s.MonitorType.JD_JUMP,s.MonitorType.JD_ERR)],p.prototype,"pay",null)},"9GnI":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={ObnAct:!0};t.ObnAct=void 0;var o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=n("F5LU"),s=n("8p0i"),l=n("GMyB"),d=n("7rxe");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p=function(){function e(){(0,a.default)(this,e),this.requestCache=new s.RequestCache,this.getActData=this.getActCacheFn(),this.getIsObn=this.getIsObnCacheFn(),this.cid=Number((0,l.getCidFromUrl)()),this.pid=Number((0,l.getPidFromUrl)()),this.ratio=0,this.bgTime=void 0,this.endTime=void 0}return(0,u.default)(e,[{key:"isAct",value:function(){var e,t,n;return f(this,void 0,void 0,o.default.mark((function r(){var i;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.getIsObn();case 3:i=r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),i={};case 9:if(i&&i.result&&i.result.isObn){r.next=11;break}return r.abrupt("return",!1);case 11:return this.ratio=(null===(e=null==i?void 0:i.result)||void 0===e?void 0:e.ratio)/100||0,this.bgTime=(null===(t=null==i?void 0:i.result)||void 0===t?void 0:t.bgtime)||0,this.endTime=(null===(n=null==i?void 0:i.result)||void 0===n?void 0:n.endtime)||0,r.abrupt("return",!0);case 15:case"end":return r.stop()}}),r,this,[[0,6]])})))}},{key:"isJoinedAct",value:function(){var e;return f(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cid||this.pid){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.getActData();case 4:return n=t.sent,t.abrupt("return",null===(e=null==n?void 0:n.result)||void 0===e?void 0:e.has_qualification);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getRatio",value:function(){return this.ratio||0}},{key:"getObnActTime",value:function(){return[this.bgTime,this.endTime]}},{key:"getPrice",value:function(e){var t;return f(this,void 0,void 0,o.default.mark((function n(){var r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.ratio){n.next=11;break}return n.prev=1,n.next=4,this.getIsObn();case 4:r=n.sent,this.ratio=(null===(t=null==r?void 0:r.result)||void 0===t?void 0:t.ratio)||0,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),this.ratio=0;case 11:return n.abrupt("return",3*Math.floor(e*this.ratio/100)*100);case 12:case"end":return n.stop()}}),n,this,[[1,8]])})))}},{key:"fetchIsObnData",value:function(){return(0,c.fetch)("/cgi-proxy/obn/is_obn_course",{data:this.cid?{course_id:this.cid}:{pkg_id:this.pid}})}},{key:"getActCacheFn",value:function(){return this.requestCache.makeCache(this.fetchActData,this,"has_obn_qualification")}},{key:"getIsObnCacheFn",value:function(){return this.requestCache.makeCache(this.fetchIsObnData,this,"is_course_obn")}},{key:"fetchActData",value:function(){return(0,c.fetch)("/cgi-proxy/obn/has_obn_qualification",{data:this.cid?{course_id:this.cid}:{pkg_id:this.pid}})}}]),e}();t.ObnAct=p},"9YbM":function(e,t,n){var r=n("xeH2"),i=n("I5uA"),o=n("m9bP"),a=(n("bFh4"),n("ZgCD")),u=(n("kprn"),{login:function(){i.show({succ:function(){location.reload()},source:2})},logout:function(){i.logout()}});r(document.body).on("click",".js-login-op",(function(e){var t=r(e.target).attr("data-hook");t&&(o.tdw({action:t}),setTimeout((function(){u[t]()}),500))})),a.checkLogin(),e.exports=function(){}},"9ccY":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.BANNER_DISPLAY_KEY=t.PLATFORM_CLS=void 0;var i,o=r(n("aDhn")),a=n("pukQ"),u=(i={},(0,o.default)(i,a.PLATFORM_TYPE.PC,"pc"),(0,o.default)(i,a.PLATFORM_TYPE.H5,"h5"),i);t.PLATFORM_CLS=u;t.BANNER_DISPLAY_KEY="FL_BANNER_DISPLAY_FLAG"},"9dM/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQQNumber=function(e){return/^[1-9]\d{4,10}$/.test("".concat(e))},t.isEmail=function(e){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)},t.isMobileNumber=function(e){return/^1(3|4|5|6|7|8|9)\d{9}$/.test(e)},t.isChineseString=function(e){return/^[\u4e00-\u9fa5]{0,}$/.test(e)},t.isIntegerAndChar=function(e){return/^[A-Za-z0-9]+$/.test(e)},t.isInteger=function(e){return/^\d+$/.test("".concat(e))},t.isChar=function(e){return/^[A-Za-z]+$/.test(e)},t.isIDCardNumber=function(e){return/^((\d{18})|([0-9x]{18})|([0-9X]{18}))$/.test("".concat(e))},t.isUrl=function(e){return/^((ht|f)tps?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/.test(e)}},"9gZJ":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=function(e){var t,n;if("undefined"==typeof document)return null===(n=null===(t=window.request)||void 0===t?void 0:t.cookies)||void 0===n?void 0:n[e];var r=new RegExp("(^| )".concat(e,"=([^;]*)(;|$)")),i=document.cookie.match(r);return i?decodeURIComponent(i[2]):""},t.setCookie=function(e,t,n,r,o){var u=Date.now()+36e5*(o||0),c=o?"; expires=".concat(new Date(u).toUTCString()):"",s=" path=".concat(r||"/"),l=n?" domain=".concat(n,";"):"";document.cookie="".concat(e,"=").concat(t).concat(c,";").concat(s,";").concat(l),a.test(t)&&i.default.info("【Cookie中文检测】SET_COOKIE [".concat(e," = ").concat(t,"]"))},t.delCookie=c,t.clearCookie=function(){var e=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));if(!e)return;e.forEach((function(e){document.cookie="".concat(e,"=;expires=").concat(o,"; path=/; ")}))},t.getPlayerAuthCookies=function(){var e=document.cookie,t=new RegExp("(^| )(".concat(s.join("|"),")=([^;]*)(;|$)"),"g");return(e.match(t)||[]).join("").trim()},t.clearZhCookie=function(){var e=u();Object.keys(e).filter((function(t){return a.test(e[t])})).forEach((function(e){c(e)}))},t.pageReportZhCookie=function(){var e=u(),t=Object.keys(e).filter((function(t){return a.test(e[t])}));if(t.length){var n=t.map((function(t){return"".concat(t," = ").concat(e[t])})).join(", ");i.default&&i.default.error&&i.default.error("【Cookie中文检测】PAGE_REPORT [".concat(n,"]"))}},t.pageReportZhCookieForKV=function(e,t){a.test(t)&&i.default&&i.default.error&&i.default.error("【Cookie中文检测】PAGE_REPORT [".concat(e,"=").concat(t,"]"))};var i=r(n("HO9c")),o="Mon, 26 Jul 1997 05:00:00 GMT",a=/[\u4e00-\u9fa5]/;function u(){var e;if("undefined"==typeof document)return(null===(e=window.request)||void 0===e?void 0:e.cookies)||{};var t={};return document.cookie.split(/\s*;\s*/).forEach((function(e){var n=e.split(/\s*=\s*/);t[n[0]]=n.splice(1).join("=")})),t}function c(e,t,n){document.cookie="".concat(e,"=; expires=").concat(o,"; path=").concat(n||"/","; ").concat(t?"domain=".concat(t,";"):"")}var s=["uid_uin","uid_a2","uid_type","_guest_type","uuid","uin","luin","skey","lskey","pSkey","p_skey","p_uin","uid_appid","p_lskey","p_luin"]},A7hS:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.H5Midas=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("F5LU"),u=n("vUo+"),c=function(){function e(t){(0,i.default)(this,e),this.payOpts=t,this.callbackUrl=new u.CallbackUrl(t)}return(0,o.default)(e,[{key:"pay",value:function(e){var t=e&&e.token||{},n=(0,a.getUin)(),r=this.isSandBox(t),i=this.getBuyInfo(e,n),o=this.getPayParam(i,r),u=this.getPayUrl(),c=encodeURIComponent(JSON.stringify(o));return(0,a.isApp)()&&(c=encodeURIComponent(c)),a.Jumper.jump(location.protocol+u+c),{buyInfo:i,payParams:o,payUrl:u}}},{key:"isSandBox",value:function(e){return!!e.is_sandbox}},{key:"getBuyInfo",value:function(e,t){var n=e&&e.token||{},r=this.getBuyDefaultInfo(n,t);return this.addGrayParam(e,r)}},{key:"getPayParam",value:function(e,t){var n=this.getPayDefaultParam(e,t);return this.addDisableChannel(n)}},{key:"getPayUrl",value:function(){return"//pay.qq.com/h5sdk/proxy.shtml?payParams="}},{key:"addDisableChannel",value:function(e){return this.payOpts.disableChannel?Object.assign(Object.assign({},e),{params:{disablechannel:this.payOpts.disableChannel}}):e}},{key:"getPayDefaultParam",value:function(e,t){return{buyInfo:e,callback_url:encodeURIComponent(this.callbackUrl.getCallbackUrl()),opt:{sandbox:t}}}},{key:"addGrayParam",value:function(e,t){var n=e.enable_merchant_switch;return n&&1===n?Object.assign(Object.assign({},t),{wx_h5pay:1,usewxappid:"1"}):t}},{key:"getBuyDefaultInfo",value:function(e,t){return{appid:"1450008443",goodstokenurl:e.url_params,openid:e.openid||String(t),pf:"midas_group_pay-1000-html5-1000"}}}]),e}();t.H5Midas=c},AAfo:function(e,t,n){var r=n("J4zp"),i=n("xeH2"),o=n("EY/S"),a=n("J1Sy"),u=n("XKbg"),c=i(document.body),s=null,l=null;e.exports={init:function(){c.on("click",".js-newcomer-welfare-close",(function(){l&&l.is_login&&u.setUserCloseWelfareTwo({param:{close_type:0},succ:function(){},err:function(){return!0}}),s.remove()}));var e=[new Promise((function(e,t){u.getOperationNewUserEntry2({param:{},succ:function(n){var r=n.retcode,i=n.result;0===r&&i&&i.pc?e(i.pc||{}):(window.BJ_REPORT&&BJ_REPORT.error("ke_operation_newUserEntry2 数据有误 【".concat(JSON.stringify(n),"】")),t())},err:function(e){return t(),window.BJ_REPORT&&BJ_REPORT.error("ke_operation_newUserEntry2 拉取失败 【".concat(JSON.stringify(e),"】")),!0}})}))];return new Promise((function(t){o.getInfo().then((function(n){(l=n).is_login&&e.push(new Promise((function(e,t){u.getIsUserGetWelfareTwo({param:{},succ:function(n){var r=n.retcode,i=n.result;0===r&&i?e(i):(window.BJ_REPORT&&BJ_REPORT.error("is_user_can_get_welfare_two 数据有误 【".concat(JSON.stringify(n),"】")),t())},err:function(e){return t(),window.BJ_REPORT&&BJ_REPORT.error("is_user_can_get_welfare_two 拉取失败 【".concat(JSON.stringify(e),"】")),!0}})}))),Promise.all(e).then((function(e){var n=r(e,2),o=n[0],u=n[1];(!l.is_login||u&&u.is_new_user&&u.show_popup)&&(!function(e){e.background_pic&&e.close_pic&&(s=i(a(e)),c.append(s))}(o),t(!0)),t(!1)})).catch((function(e){t(!1),window.BJ_REPORT&&BJ_REPORT.error("新人礼包接口 【".concat(JSON.stringify(e),"】"))}))}))}))}}},AJXv:function(e,t,n){"use strict";var r=n("A3sk");Object.defineProperty(t,"__esModule",{value:!0});var i={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=r(n("J9ZD"));Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},AQBO:function(e,t,n){var r=n("kprn"),i=n("aVfi"),o={whiteDomain:[],iframeUrl:"",crossDomain:!1};function a(e,t){return{get:function(n,r){t?e.get(n,(function(e){r&&r(e&&e.value)})):r&&r(e.get(n))},set:function(n,r,i){try{t?e.set(n,r,i):(e.set(n,r),i&&i())}catch(e){"QuotaExceededError"===e.name&&window.BJ_REPORT&&BJ_REPORT.debug({msg:"local-write-overflow",ext:{msid:2514080}})}},remove:function(n,r){t?e.remove(n,r):(e.remove(n),r&&r())},filter:function(n,r){t?e.filter(n,(function(e){r&&r(e&&e.value)})):r&&r(e.filter(n))},clear:function(n){t?e.clear(n):(e.clear(),n&&n())},wasInit:function(){return!t||e.wasInit()},isCross:function(){return t}}}e.exports={getLocal:function(e,t){!function(e,t){var n,r=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}(e,o),!function(){var e=document.domain,t=o.whiteDomain,n=!1;if(!o.crossDomain)return!1;if(0===t.length)return!1;for(var r=0;r<t.length&&e!==t[r];r++);return r===t.length&&(n=!0),n}()?t&&t(a(r)):(r=i).init({iframeUrl:o.iframeUrl,initCallback:function(){t&&t(a(r,!0))}})}}},Ad8L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedWebP=function(){var e;return!![].map&&0===(null===(e=document.createElement("canvas").toDataURL("image/webp"))||void 0===e?void 0:e.indexOf("data:image/webp"))},t.isSupportedFile=function(){var e="slice"in File.prototype||"mozSlice"in File.prototype||"webkitSlice"in File.prototype;if(!("FileReader"in window&&"File"in window&&File.prototype&&e))return!1;return!0},t.isSupportedWebRTC=function(){var e=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)&&window.hasOwnProperty("RTCPeerConnection");if(window.navigator.userAgent.indexOf("Edge")>-1)return!1;if(e){try{new RTCPeerConnection({})}catch(e){return!1}return!0}return!1},t.isSupportedCanvas=function(){if("undefined"==typeof document||"function"!=typeof document.createElement)return!1;var e=document.createElement("canvas");if("function"!=typeof e.getContext)return!1;var t=e.getContext("2d");return!!t&&"function"==typeof t.measureText},t.isSupportedCss3=function(e){var t=new Array,n=document.documentElement.style;function r(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))}["webkit","Moz","ms","o"].forEach((function(n){t.push(r(n+"-"+e))})),t.push(r(e));var i=!1;return t.forEach((function(e){e in n&&(i=!0)})),i}},AgUn:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="free-learning-banner"> <div class="free-learning-content"> <div class="free-learning-img"> <img src="',bannerUrl,'" alt="送你一张畅学卡"> <button class="free-learning-btn--confirm js-free-learning-confirm"></button> <button class="free-learning-btn--close js-free-learning-close"></button> </div> </div></div>'),_$out_.join("")}}},AvUf:function(module,exports,__webpack_require__){var $=__webpack_require__("xeH2"),Observer=__webpack_require__("bFh4"),isDebug=!0,modalIndex=0;$.template=function(tmpl,data){var evalExp=function(exp,scope){return function(){var __res;try{with(scope)__res=eval(exp)}catch(e){}return void 0===__res?"":__res}.call(scope)},position=0,stacks=[!0],regexp=/\{if ([^\}]+)\}|\{\/if\}|\{else\}|\{else if ([^\}]+)\}/gi,res="";return tmpl.replace(regexp,(function(e,t,n,r){var i=stacks.pop();return i&&(res+=tmpl.substr(position,r-position)),position=r+e.length,t?(stacks.push(i),stacks.push(!!i&&!!evalExp(t,data)),stacks.push(stacks[stacks.length-1])):n?stacks.push(!stacks[stacks.length-1]&&!!evalExp(n,data)):/\{else\}/i.test(e)?stacks.push(!stacks[stacks.length-1]):stacks.pop(),""})),stacks.pop()&&(res+=tmpl.substr(position)),tmpl=res,tmpl=tmpl.replace(/\{\$([^\{\}]+)\}/g,(function(e,t){return evalExp(t,data)})),tmpl};var templateBg='<div tabindex="-1" class="overlay js-modal-bg"></div>',templateModal='<div class="js-modal modal  {$className} {if icon}modal--msg{/if} {if scroll}modal--scroll{/if}" style="{if width}width:{$width}px;{/if}{if style}{$style}{/if}" >';templateModal+="{if !nohead}",templateModal+='  <div class="modal-hd"><h3 class="hd-tt js-modal-title">{$title}</h3><a href="javascript:void(0);" class="js-modal-close btn-close" {if !isClose}style="display:none;"{/if} title="关闭">×</a></div>',templateModal+="{/if}",templateModal+="{if !body}",templateModal+='  <div class="modal-bd {if padding}modal-bd--padding{/if}" style="{if height}height:{$height}px;{/if}">',templateModal+="  {if icon}",templateModal+='      <div class="bd-msg"><i class="icon-font icon-msg-large i-{$icon}"></i>',templateModal+='      <p class="msg-text">{$content}</p></div>',templateModal+="  {else}",templateModal+="      {$content}",templateModal+="  {/if}",templateModal+="  </div>",templateModal+='  <div class="modal-ft">',templateModal+='  <a href="javascript:void(0);" title="{$txtYes}" class="js-modal-yes btn-default {if !enableYes} btn-disabled{/if}" {if !isYes}style="display:none;"{/if}>{$txtYes}</a>',templateModal+="  ",templateModal+='  <a href="javascript:void(0);" title="{$txtNo}" class="js-modal-no btn-weak {if !enableNo} btn-disabled{/if}" {if !isNo}style="display:none;"{/if}>{$txtNo}</a>',templateModal+="  </div>",templateModal+="{else}",templateModal+="  {$body}",templateModal+="{/if}",templateModal+="",templateModal+="</div>";var addDrag=function(e,t,n){var r=!1,i=0,o=0,a=$(e),u=$(t),c=$.extend({opacity:.6,duration:.3},n),s=function(e){r&&u.css({left:e.pageX-i+"px",top:e.pageY-o+"px"})},l=function(e){r=!1,u.css({transition:"none",opacity:"1"}),$(document.body).off("mousemove",s)};a.mousedown((function(e){r=!0,i=e.pageX-parseInt(u.css("left")),o=e.pageY-parseInt(u.css("top")),u.css({transition:"opacity "+c.duration+"s ease-in",opacity:c.opacity}),$(document.body).mousemove(s).one("mouseup",l)}))};$.fn.drag=function(e,t){e||(e=this),addDrag(this,e,t)};var Modal=function(e){this._index=modalIndex++;var t={title:"提示",className:"",style:"",content:"",txtYes:"确定",txtNo:"取消",icon:"",nohead:!1,body:"",hotkey:!0,isYes:!0,isNo:!0,isClose:!0,enableYes:!0,enableNo:!0,enableClose:!0,buttonsAlign:"right",enableDrag:!0,enableBgClose:!1,width:500,height:"",padding:!0,scroll:!1,yes:function(){},no:function(){},onClose:function(){Observer.trigger("dialog.close")},onOpen:function(){Observer.trigger("dialog.show")}};this.opts=$.extend(t,e),this._buttonState={};$.each({submit:"txtYes",isDisabled:"enableYes",globalClass:"className",onAccept:"yes",onCancel:"no"},(function(e,n){void 0!==t[e]&&(t[n]=t[e])})),this.onAccept=this.yes,this.onCancel=this.no,this.async(this.opts.onOpen,this.$,(function(){this._update().update()}))};Modal.prototype={$:null,$bg:null,$btnYes:null,$btnNo:null,_index:0,_buttons:["enableYes","enableNo","enableClose"],_buttonState:null,opts:null,hotkeyCallback:function(e){return this.opts.enableBgClose&&e.target===this.$bg[0]?this.closeAsync(this.opts.no,e):this.opts.hotkey?27===e.which&&this.opts.enableNo?this.closeAsync(this.opts.no,e):13===e.which&&this.opts.enableYes?this.closeAsync(this.opts.yes,e):void 0:void 0},async:function(e,t,n){var r=this;if(e.length<2){var i=e.call(r,t);n.call(r,!(void 0!==i&&!i))}else e.call(r,t,(function(e){n.call(r,!(void 0!==e&&!e))}))},closeAsync:function(e,t){var n=this;this.saveButtonsState(),this.disableButtons(),this.async(e,t,(function(e){if(!e)return n.recoverButtons();n.opts.enableClose&&n.async(n.opts.onClose,t,(function(e){if(!e)return n.recoverButtons();n.remove()}))}))},title:function(e){return this.$.find(".js-modal-title").html(e),this},content:function(e){var t=this.$.find(".msg-text");return 0===t.length&&(t=this.$.find(".modal-bd")),t.html(e),this},remove:function(){this.$.remove(),removeHotkeyCallback(this._hotkeyCallback);var e=$(".js-modal");if(0===e.length)return this.$bg.remove();this.$bg.after(e.eq(e.length-1))},update:function(){return this.$.css({marginTop:"-"+parseInt(this.$.height()/2)+"px",marginLeft:"-"+parseInt(this.$.width()/2)+"px"}),this.$.show(),this},recoverButtons:function(){var e=this;return $.each(e._buttons,(function(t,n){e[n](e._buttonState[n])})),this},saveButtonsState:function(){var e=this;return $.each(e._buttons,(function(t,n){e._buttonState[n]=e.opts[n]})),this},disableButtons:function(){var e=this;return $.each(["enableYes","enableNo"],(function(t,n){e[n](!1)})),this},_update:function(){var e=this;return this.$?this.$.show():(this.$bg=$(".js-modal-bg"),0===this.$bg.length&&(this.$bg=$(templateBg).appendTo($(document.body))),this.$=$($.template(templateModal,this.opts)),this.$.appendTo($(document.body)).before(this.$bg),this._hotkeyCallback=function(){e.hotkeyCallback.apply(e,arguments)},addHotkeyCallback(this._hotkeyCallback),this.opts.enableDrag&&this.$.find(".modal-hd").drag(this.$),this.bindEvents(),this)},bindBtnYesEvent:function(){var e=this;return this.$btnYes=this.$.find(".js-modal-yes").click((function(t){$(this).hasClass("btn-disabled")||e.closeAsync(e.opts.yes,t)})),this},bindBtnNoEvent:function(){var e=this;return this.$btnNo=this.$.find(".js-modal-no").click((function(t){$(this).hasClass("btn-disabled")||((t=t||{}).btnName="cancel",e.closeAsync(e.opts.no,t))})),this},bindBtnCloseEvent:function(){var e=this;return this.$.find(".js-modal-close").click((function(t){e.$btnNo.hasClass("btn-disabled")||((t=t||{}).btnName="close",e.closeAsync(e.opts.no,t))})),this},bindEvents:function(){return this.bindBtnYesEvent().bindBtnCloseEvent().bindBtnNoEvent()}},$.each(["enableYes","enableNo","enableClose"],(function(e,t){Modal.prototype[t]=function(e){this.opts[t]=e;var n=e?"removeClass":"addClass";return"enableYes"===t&&this.$btnYes[n]("btn-disabled"),"enableNo"===t&&this.$btnNo[n]("btn-disabled"),this}})),$.each(["yes","no","onClose","onOpen"],(function(e,t){Modal.prototype[t]=function(e){return this.opts[t]=e,this}})),$.each(["width","height"],(function(e,t){Modal.prototype[t]=function(e){return void 0===e?this.opts[t]:(this.opts[t]=e,this.$[t](e),this.update())}})),$(document.body).keydown((function(e){triggerHotkey(e)})).delegate(".js-modal-bg","click",(function(e){triggerHotkey(e)}));var hotKeyCallbacks=[],addHotkeyCallback=function(e){hotKeyCallbacks.push(e)},removeHotkeyCallback=function(e){$.each(hotKeyCallbacks,(function(t,n){if(n===e)return hotKeyCallbacks.splice(t,1),!1}))},triggerHotkey=function(e){hotKeyCallbacks.length<1||hotKeyCallbacks[hotKeyCallbacks.length-1](e)},modalConfigs={alert:{title:"警告",content:"警告信息！",icon:"alert",isNo:!1,buttonsAlign:"right",enableBgClose:!1},retry:{txtYes:"重试",content:"是否重试？",icon:"alert",enableBgClose:!1},confirm:{title:"确认操作",icon:"alert",txtYes:"确认",content:"请确认是否操作？",enableBgClose:!1},success:{title:"成功提示",icon:"success",content:"操作成功！",isNo:!1},error:{title:"错误提示",icon:"alert",isNo:!1},help:{title:"帮助信息",icon:"info",content:"这是一条帮助信息。",isNo:!1}},modal=function(e){return new Modal(e)};$.fn.modal=function(e,t,n){var r=arguments.length;return this.click((function(){return 1===r?"object"==typeof e?(n=e,t="",e=e.type||""):(t=e,e="alert"):2===r&&(n=t||{},t=e,e=n.type||"alert"),e?modal[e](t,n):modal(n)}))},$.each(modalConfigs,(function(e,t){modal[e]=function(e,n){return modal($.extend({},t,{content:e||t.content},n))}})),$.modal=modal,$.Modal=Modal,$._alert=function(e,t,n){return $(".js-modal-bg, .js-modal").remove(),$.Dialog.remove(),n=$.extend({},n||{}),"function"==typeof t?(n.title="提示",n.onAccept=n.onCancel=t):n.title=t||"提示",window.top.$modal?window.top.$modal.alert(e,n):$.modal.alert(e,n)},$._loading=function(e,t,n){var r=$._alert(e,t,n),i=$('<div class="modal-loading"><div class="spin"></div><p>'+e+"</p></div>");return r.$.find(".bd-msg").empty().append(i),r.$.find(".modal-loading .spin").spin(!0),r},module.exports=modal},B6Oc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJumpUrl=i,t.getJumpCourseDetailUrl=function(e,t){return i("/course/".concat(e),t)},t.getJumpCoursePkgUrl=function(e,t){return i("/course/package/".concat(e),t)},t.getJumpCourseList=function(e){return i("/course/list",e)},t.default=void 0;var r=n("F5LU");function i(e,t){var n=(0,r.getLocation)(),i=n.origin,o=n.protocol,a=t||{},u=a.query,c=a.hash,s=e;return/^\/\//.test(s)&&(s="".concat(o).concat(s)),/^\//.test(s)&&(s="".concat(i).concat(s)),u&&(s=(0,r.setSearch)(u,s)),c&&(s=(0,r.setHash)(c,s)),s}t.default={}},CGIb:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscountType=void 0,t.DiscountType=r,function(e){e.Coupon="coupon",e.Seckill="limit_coupon",e.Partner="partner_plan",e.Bargain="bargain_info",e.Group="group_buy"}(r||(t.DiscountType=r={}))},CGe6:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.CourseConflitChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("2dtd"),l=n("P87J"),d=n("XwTY"),f=n("rRu0"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"check",value:function(e,t){return h(this,void 0,void 0,i.default.mark((function n(){var r,o;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.productId,(0,c.isPC)()){n.next=3;break}return n.abrupt("return",(0,d.getPassResult)(!0));case 3:if("object"===(0,u.default)(r)){n.next=5;break}return n.abrupt("return",(0,d.getPassResult)(!0));case 5:if(r.type===f.ProductType.CoursePackage){n.next=7;break}return n.abrupt("return",(0,d.getPassResult)(!0));case 7:return n.next=9,this.checkCourseConflict(r);case 9:if(!n.sent){n.next=18;break}if(!(o=t.onTimeConflict)){n.next=18;break}return n.next=15,o("您已购买过该系列课内的课程，是否确认报名？");case 15:if(n.sent){n.next=18;break}return n.abrupt("return",(0,d.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.CourseConflit)));case 18:return n.abrupt("return",(0,d.getPassResult)(!0));case 19:case"end":return n.stop()}}),n,this)})))}},{key:"checkCourseConflict",value:function(e){var t,n;return h(this,void 0,void 0,i.default.mark((function r(){var o;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,c.fetch)("/cgi-bin/user/check_signed_course_in_pkg",{data:{pkg_id:e.fid}});case 3:return o=r.sent,r.abrupt("return",!!(null===(n=null===(t=null==o?void 0:o.result)||void 0===t?void 0:t.signed_course)||void 0===n?void 0:n.length));case 7:return r.prev=7,r.t0=r.catch(0),l.imlog.info("课程包课程冲突接口拉取失败",r.t0),r.abrupt("return",!1);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))}}]),e}();t.CourseConflitChecker=v,p([(0,l.log)("课程包内课程冲突校验")],v.prototype,"check",null)},CarS:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=r(n("a3Zo")),l=n("fFtK"),d=n("mAAe"),f=n("sPX+"),p=n("HuLa");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var v=function(e){(0,a.default)(n,e);var t=h(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this)).discount=e,o.utils=r,o.current=l.GroupStatus.DEFAULT,o.timer=0,o.discount,o.current=o.utils.getGroupStatus(),o.initEvents(),(0,p.fetchGroupInfo)().then((function(e){e&&(o.utils.updateGuest(e),o.initEvents())})),o}return(0,o.default)(n,[{key:"getStatus",value:function(){return this.current}},{key:"listenStatus",value:function(e){this.on("status",e)}},{key:"removeListenStatus",value:function(e){this.off("status",e)}},{key:"emitStatus",value:function(e){this.emit("status",e)}},{key:"initEvents",value:function(){var e=this;clearTimeout(this.timer);var t=this.utils.getGroupStatus();this.current=t;var n=l.GroupStatus.ENDED,r=0,i=(0,d.getSvrTime)(),o=this.utils.getGroupEndTs(),a=this.utils.getJoinGroupEndTs();switch(t){case l.GroupStatus.EXPIRED:case l.GroupStatus.ENDED:case l.GroupStatus.SUCCESS:break;case l.GroupStatus.GROUPING:r=a-i;break;case l.GroupStatus.DEFAULT:case l.GroupStatus.INVITED:r=o-i}var u={current:t,next:n,restTime:r,type:f.InstitutionDiscountType.Group};this.emitStatus(u);r>0&&(this.timer=setTimeout((function(){e.initEvents()}),1e3*Math.min(r,86400)))}}]),n}(s.default);t.Status=v},CmSh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("yPre");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},CvHy:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="course-group-modal"> <div class="course-group-img course-group-img-',contactType.toLowerCase(),'"> '),"WX"===contactType&&_$out_.push(' <img src="',url,'" alt="引导图片"> '),_$out_.push(' </div> <div class="course-group-content"> <p>',title,"</p> <p>",content,"</p> </div></div>"),_$out_.join("")}}},Cwdn:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getReportId=c,t.bindBannerClickReport=function(){$("#js-sliderbox").on("click",".banner-slide-link",(function(){var e=$(this),t=e.data("link"),n=e.parent().data("slick-index");i.default.tdw({action:"click",module:"banner",position:n,ver3:c(n,t),testid:u.BANNER_TEST_ID})}))},t.reportBannerExpo=void 0;var i=r(n("lSPl")),o=r(n("0HC3")),a={},u=window.META_DATA;function c(e,t){var n=a[e];if(n)return n;var r=o.default.parseHref(t),i=o.default.getParam(r.search+r.hash,"reportId")||"";return a[e]=i,i}var s,l=(s={},function(e,t){var n=t.eq(e),r=n.data("link");s[e]||n.length&&n.isOnScreen&&n.isOnScreen()&&(s[e]=!0,i.default.tdw({action:"exposure",module:"banner",position:e,ver3:c(e,r),testid:u.BANNER_TEST_ID}))});t.reportBannerExpo=l},D215:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PayHook=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=n("P87J");function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,a.default)(n,e);var t=l(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"exec",value:function(e){var t;try{s.imlog.info("【支付模块】","".concat(e," Hook执行】"));for(var n=this[e],r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return null===(t=n)||void 0===t?void 0:t.apply(this,i)}catch(t){s.imlog.error("【支付模块】","".concat(e,"Error: "),t)}}}],[{key:"getInstance",value:function(){return n.payHook||(n.payHook=new n),n.payHook}}]),n}(n("1oEo").ActHook);t.PayHook=d,d.payHook=null},D5uc:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=function(){function e(t){(0,i.default)(this,e),this.coupon=t}return(0,o.default)(e,[{key:"getAllCoupon",value:function(){return this.coupon.discountList}},{key:"getCouponById",value:function(e){for(var t=this.coupon.discountList,n=0;n<t.length;n++){var r=t[n];if(r.getId()===e)return r}return null}},{key:"getBestCoupon",value:function(){return this.coupon.discountList[0]}},{key:"getBestCouponPrice",value:function(){var e;return(null===(e=this.coupon.discountList[0])||void 0===e?void 0:e.getBestPrice())||0}},{key:"getType",value:function(){return this.coupon.type}}]),e}();t.Utils=a},DEu8:function(e,t,n){var r=n("J4zp"),i=n("xeH2"),o=n("EY/S"),a=n("lSPl"),u=n("FHsA"),c=u.setBannerFirstDisplay,s=u.getShouldBannerDisplay,l=u.getBannerFirstDisplay,d=n("F5LU").current,f=n("AgUn"),p=n("XKbg"),h="firstDay",v="middleDay",g="lastDay",m=i(document.body),y=null;function _(){y&&y.remove()}e.exports={init:function(){return new Promise((function(e){o.getInfo().then((function(t){t.is_login&&Promise.all([new Promise((function(e,t){p.getUserFreeLearningInfo({param:{enter_user_center:0,enter_page_index:1},succ:function(n){var r=n.retcode,i=n.result;0===r&&i?e(i):t(n)},err:function(e){return t(e),!0}})})),new Promise((function(e,t){p.getSasFreeLearningInfo({succ:function(n){var r=n.retcode,i=n.result;0===r&&i&&i.home_bottom_banner?e(i.home_bottom_banner||{}):t(n)},err:function(e){return t(e),!0}})}))]).then((function(t){var n=r(t,2),o=n[0],u=n[1],p=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e&&(n=h),4===t&&(n=v),1===t&&(n=g),{type:n,bannerUrl:r[n]}}(o.is_new_grant,o.remain_days,u),b=p.type;!p.bannerUrl||l(b)&&!s(b)||(c(d(),b),y=i(f(p)),m.append(y),m.on("click",".js-free-learning-confirm",(function(){a.tdw({action:"click",module:"bottom_getcard"}),window.open("https://ke.qq.com/user/index/index.html#/free_learning"),_()})).on("click",".js-free-learning-close",(function(){_()})),e(!0),a.tdw({action:"exposure",module:"bottom_getcard"})),e(!1)})).catch((function(t){e(!1),window.BJ_REPORT&&BJ_REPORT.error("PC首页畅学卡banner 【".concat(JSON.stringify(t),"】"))}))}))}))}}},DFOF:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.monitorPoints=t.MonitorType=void 0;var i,o,a=r(n("aDhn"));t.MonitorType=o,function(e){e.PREFETCH_SUCC="PREFETCH_SUCC",e.PREFETCH_ERR="PREFETCH_ERR",e.APPLY_SUCC="APPLY_SUCC",e.APPLY_ERR="APPLY_ERR",e.PRESENT_SUCC="PRESENT_SUCC",e.PRESENT_ERR="PRESENT_ERR",e.APPLY_BTN_CLICK="APPLY_BTN_CLICK",e.JD_JUMP="JD_JUMP",e.JD_ERR="JD_ERR",e.PAYTOKEN_SUCC="PAYTOKEN_SUCC",e.PAYTOKEN_ERR="PAYTOKEN_ERR",e.YQH_PAY_SUCC="YQH_PAY_SUCC",e.YQH_PAY_ERR="YQH_PAY_ERR",e.BALANCE_PAY_SUCC="BALANCE_PAY_SUCC",e.BALANCE_PAY_ERR="BALANCE_PAY_ERR",e.MIDAS_PAY_SUCC="MIDAS_PAY_SUCC",e.MIDAS_PAY_ERR="MIDAS_PAY_ERR",e.INSTALMENT_PAY_SUCC="INSTALMENT_PAY_SUCC",e.INSTALMENT_PAY_ERR="INSTALMENT_PAY_ERR",e.AGENCY_PAY_SUCC="AGENCY_PAY_SUCC",e.AGENCY_PAY_ERR="AGENCY_PAY_ERR",e.CDKEY_PAY_SUCC="CDKEY_PAY_SUCC",e.CDKEY_PAY_ERR="CDKEY_PAY_ERR",e.MINI_PROGRAM_PAY_SUCC="MINI_PROGRAM_PAY_SUCC",e.MINI_PROGRAM_PAY_ERR="MINI_PROGRAM_PAY_ERR",e.PURCHASE_PV="PURCHASE_PV"}(o||(t.MonitorType=o={}));var u=(i={},(0,a.default)(i,o.PREFETCH_SUCC,{H5:34843545,PC:34843512}),(0,a.default)(i,o.PREFETCH_ERR,{H5:34843546,PC:34843513}),(0,a.default)(i,o.APPLY_SUCC,{H5:34843547,PC:34843514}),(0,a.default)(i,o.APPLY_ERR,{H5:34843548,PC:34843515}),(0,a.default)(i,o.PRESENT_SUCC,{H5:34843549,PC:34843516}),(0,a.default)(i,o.PRESENT_ERR,{H5:34843550,PC:34843517}),(0,a.default)(i,o.APPLY_BTN_CLICK,{H5:34843551,PC:34843518}),(0,a.default)(i,o.JD_JUMP,{H5:34843552,PC:34843519}),(0,a.default)(i,o.JD_ERR,{H5:34843553,PC:34843520}),(0,a.default)(i,o.PAYTOKEN_SUCC,{H5:34843554,PC:34843521}),(0,a.default)(i,o.PAYTOKEN_ERR,{H5:34843555,PC:34843522}),(0,a.default)(i,o.YQH_PAY_SUCC,{H5:34843556,PC:34843523}),(0,a.default)(i,o.YQH_PAY_ERR,{H5:34843557,PC:34843524}),(0,a.default)(i,o.BALANCE_PAY_SUCC,{H5:34843558,PC:34843525}),(0,a.default)(i,o.BALANCE_PAY_ERR,{H5:34843559,PC:34843526}),(0,a.default)(i,o.MIDAS_PAY_SUCC,{H5:34843560,PC:34843527}),(0,a.default)(i,o.MIDAS_PAY_ERR,{H5:34843561,PC:34843528}),(0,a.default)(i,o.INSTALMENT_PAY_SUCC,{H5:34843529,PC:34843529}),(0,a.default)(i,o.INSTALMENT_PAY_ERR,{H5:34843530,PC:34843530}),(0,a.default)(i,o.AGENCY_PAY_SUCC,{H5:34843531,PC:34843531}),(0,a.default)(i,o.AGENCY_PAY_ERR,{H5:34843532,PC:34843532}),(0,a.default)(i,o.CDKEY_PAY_SUCC,{H5:34843533,PC:34843533}),(0,a.default)(i,o.CDKEY_PAY_ERR,{H5:34843534,PC:34843534}),(0,a.default)(i,o.MINI_PROGRAM_PAY_SUCC,{H5:34844795,PC:34844795}),(0,a.default)(i,o.MINI_PROGRAM_PAY_ERR,{H5:34844796,PC:34844796}),(0,a.default)(i,o.PURCHASE_PV,{H5:35080533,PC:35080531}),i);t.monitorPoints=u},DJl7:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Coupon=t.CouponMode=t.CouponType=void 0;var i,o,a=r(n("EAVL")),u=r(n("oywu")),c=n("CGIb"),s=n("WyIQ");t.CouponType=i,function(e){e[e.Agency=1]="Agency",e[e.Edu=10]="Edu"}(i||(t.CouponType=i={})),t.CouponMode=o,function(e){e[e.Private=1]="Private",e[e.Act=2]="Act",e[e.Public=3]="Public"}(o||(t.CouponMode=o={}));var l=function(){function e(t){(0,a.default)(this,e),this.discount=t,this.type=c.DiscountType.Coupon}return(0,u.default)(e,[{key:"getId",value:function(){return(0,s.getCouponId)(this.discount)||0}},{key:"getPrice",value:function(){return(0,s.getCouponPrice)(this.discount)||0}},{key:"getPayParam",value:function(){return{discountinfo:{cou_id:this.getId()}}}},{key:"getData",value:function(){return Object.assign({},this.discount)}}]),e}();t.Coupon=l},DVBd:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("2dtd"),l=n("D215"),d=n("P87J"),f=n("cfQT"),p=n("GYbC"),h=n("XwTY"),v=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},m=function(){function e(t,n,r){(0,o.default)(this,e),this.payData=t,this.opts=n,this.sasGreyAuthMobile=r,this.payHook=l.PayHook.getInstance()}return(0,a.default)(e,[{key:"check",value:function(){var e,t,n,r,o,a,u,l,d,f,v,m,y,_,b,w,k,P;return g(this,void 0,void 0,i.default.mark((function g(){var x,C,O,A,T;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(0,p.getIsAgencyAuthMobileState)(this.payData,this.sasGreyAuthMobile)||!(null===(e=this.opts)||void 0===e?void 0:e.needCheckAuthMobile)){i.next=12;break}if(!(null===(n=null===(t=this.payData)||void 0===t?void 0:t.ext)||void 0===n?void 0:n.price)){i.next=4;break}return i.abrupt("return",(0,h.getPassResult)(!0));case 4:if(!(null===(o=null===(r=this.payData)||void 0===r?void 0:r.user)||void 0===o?void 0:o.phone)){i.next=11;break}return i.next=7,null===(u=(a=this.opts).onMobileConfirm)||void 0===u?void 0:u.call(a,{mobile:null===(d=null===(l=this.payData)||void 0===l?void 0:l.user)||void 0===d?void 0:d.phone,nationalCode:null===(v=null===(f=this.payData)||void 0===f?void 0:f.user)||void 0===v?void 0:v.national_code});case 7:if(i.sent){i.next=10;break}return i.abrupt("return",(0,h.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.AgencyForcePhoneAuthCancel)));case 10:return i.abrupt("return",(0,h.getPassResult)(!0));case 11:return i.abrupt("return",(0,h.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.AgencyForcePhoneAuth)));case 12:if((0,c.isMobile)()){i.next=14;break}return i.abrupt("return",(0,h.getPassResult)(!0));case 14:if(x=null===(y=null===(m=this.payData)||void 0===m?void 0:m.ext)||void 0===y?void 0:y.agency_id,C=(0,p.getCid)(this.opts),O="//m.ke.qq.com/m-core/myContactInfo.html?_bid=167&_wv=2147483651&aid=".concat(x,"&cid=").concat(C,"&mode=account"),A=this.getReturnUrl(this.opts),!(null===(_=this.payData)||void 0===_?void 0:_.ext.authPhone)||!(null===(b=this.opts)||void 0===b?void 0:b.needCheckAuthMobile)){i.next=21;break}return(0,c.setStorage)("ACTIVEACCOUNTURL",A),i.abrupt("return",(0,h.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.AgencyForcePhoneAuthNotGrey)));case 21:if(!(null===(w=this.opts)||void 0===w?void 0:w.noCheckPhone)){i.next=23;break}return i.abrupt("return",(0,h.getPassResult)(!0));case 23:if(!(0,c.getStorage)("ACTIVEACCOUNT")){i.next=27;break}return(0,c.removeStorage)("ACTIVEACCOUNT"),i.abrupt("return",(0,h.getPassResult)(!0));case 27:if(!((null===(P=null===(k=this.payData)||void 0===k?void 0:k.user)||void 0===P?void 0:P.phone)||(0,p.isCoursePkg)(this.opts)||(0,c.isApp)())){i.next=29;break}return i.abrupt("return",(0,h.getPassResult)(!0));case 29:if((0,c.setStorage)("ACTIVEACCOUNTURL",A),void 0===(T=this.payHook.exec("beforePhoneActiveJump",this.opts,this.payData))){i.next=33;break}return i.abrupt("return",(0,h.getPassResult)(!1,(0,s.getApplyFrontError)(T)));case 33:return c.Jumper.jump(O),i.abrupt("return",(0,h.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.NoPhone)));case 35:case"end":return i.stop()}}),g,this)})))}},{key:"getReturnUrl",value:function(e){var t,n=e.skipPhoneUrl,r=(0,p.isCourseFree)(null===(t=this.payData)||void 0===t?void 0:t.ext);if(!n){var i=this.payHook.exec("jumpPurchaseParam",this.opts,this.payData);n=r?window.location.href:f.Purchase.Jumper.getJumpUrl(e,i)}return n}}]),e}();t.PhoneChecker=m,v([(0,d.log)("手机号校验checker")],m.prototype,"check",null)},"DYd/":function(e,t,n){var r=n("xeH2"),i=n("lSPl"),o=n("sBL/"),a=n("W9z5"),u=n("H4sh"),c=new Date,s=null,l=r(document.body),d="";e.exports={init:function(e){u.fetchSasData().then((function(t){var n=u.getRenderBarData(t,e);n&&(c=n.servertime?new Date(n.servertime):new Date,d=n.reportId,function(e){if(!e.id||!e.coverUrl)return;var t=e.id,n=u.hasClickOrCloseToday(t,c);(s=r(a(e))).find(".js-bottom-bar-img").on("load",(function(){s.find(".js-bottom-bar-link").removeClass("bottom-bar-link--loading")})),n?(s.addClass("folded").css({"box-shadow":"none"}),i.tdw({action:"exposure",module:"pc_icon",ver1:t,ver3:d})):i.tdw({action:"exposure",module:"pc_popout",ver1:t,ver3:d});l.append(s),function(){var e=r(".js-bottom-bar"),t=e.data("id"),n=e.data("shadow"),a=e.data("foldedlink"),s=function(){e&&!e.hasClass("folded")&&(e.addClass("folded").css({"box-shadow":"none"}),u.recordClickOrCloseToday(t,c),i.tdw({action:"exposure",module:"pc_icon",ver3:d}))};l.on("click",".js-bottom-bar-link",(function(){u.recordClickOrCloseToday(t,c),i.tdw({action:"click",module:"pc_popout",ver3:d})})).on("click",".js-bottom-bar-close",(function(){s(),i.tdw({action:"click",module:"pc_popout_close",ver3:d})})),r(window).on("scroll",o(s,100)),e.on("click",".js-bottom-bar--folded",(function(){a?window.open(a):e.hasClass("folded")&&(e.removeClass("folded").css({"box-shadow":n}),i.tdw({action:"exposure",module:"pc_popout",ver3:d})),i.tdw({action:"click",module:"pc_icon",ver3:d})}))}()}(n))}))},SHOW_PAGE:u.SHOW_PAGE}},DjHw:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Order=void 0;var i=r(n("FO6Z")),o=r(n("+jPT")),a=r(n("gBQG")),u=r(n("EAVL")),c=r(n("oywu")),s=r(n("INZq")),l=n("F5LU"),d=n("uIhe"),f=n("1c9X"),p=n("vqVK"),h=n("0GaA"),v=n("ixpB"),g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},m=function(){function e(t){(0,u.default)(this,e),this.payInfo=t,this.callbackUrl=new h.CallbackUrl(t)}return(0,c.default)(e,[{key:"getPayInfo",value:function(){return Object.assign({},this.payInfo)}},{key:"getStringifyPayInfo",value:function(){return this.commonStringify(this.getPayInfo())}},{key:"getParsePayInfo",value:function(){return this.commonParse(this.getPayInfo())}},{key:"order",value:function(e,t){return g(this,void 0,void 0,a.default.mark((function n(){var r,i;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t&&(this.payInfo=t),n.next=4,this.getOrderParam(e);case 4:return r=n.sent,n.next=7,(0,l.fetch)("/cgi-bin/pay_access/paytoken",{body:r,method:"POST"});case 7:return i=n.sent,d.imlog.info("【支付模块】","【paytoken下单成功】",i),d.imlog.monitor(34647624),n.abrupt("return",i);case 13:throw n.prev=13,n.t0=n.catch(0),n.t0&&n.t0.retcode&&(n.t0.errMsg=n.t0.errMsg||v.errText.errWordings[n.t0.retcode]),d.imlog.extra({retcode:n.t0&&n.t0.retcode,platform:(0,p.getPlatform)()}).error("【支付模块】","【paytoken下单失败】",n.t0),n.t0&&1678143!==n.t0.retcode&&d.imlog.monitor(34647625),n.t0;case 19:case"end":return n.stop()}}),n,this,[[0,13]])})))}},{key:"getOrderParam",value:function(e){return g(this,void 0,void 0,a.default.mark((function t(){var n,r,i,o,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.payInfo,t.next=3,(0,l.isIAP)();case 3:return r=t.sent,t.next=6,(0,p.getSource)();case 6:return i=t.sent,o=s.default.getReportData(),u=this.getDefaultOrder(i,r,o),d.imlog.info("【支付模块】","【订单参数初始化】",u),this.addProductId(n,u),this.addAddressParam(n,u),this.addDiscountParam(n,u),this.addRedEnvelopeParam(n,u),this.addReportExtParam(n,u),this.addOrderExtParam(n,u),this.addJd(n,u),this.addYqh(n,u),this.addExtParam(e,u),this.mergeOrderParam(n,u),this.stringify(u),t.abrupt("return",u);case 22:case"end":return t.stop()}}),t,this)})))}},{key:"getReturnUrl",value:function(){return this.callbackUrl.getCallbackUrl()}},{key:"commonStringify",value:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var a=r[n],u=(0,o.default)(a,2),c=u[0],s=u[1];"object"===(0,i.default)(s)?t[c]=JSON.stringify(s):t[c]=s}return t}},{key:"commonParse",value:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],a=(0,o.default)(i,2),u=a[0],c=a[1];try{c=JSON.parse(c)}catch(e){}t[u]=c}return t}},{key:"addExtParam",value:function(e,t){e&&e.ext_msg&&(t.ext_msg=Object.assign(Object.assign({},t.ext_msg),e.ext_msg))}},{key:"getDefaultOrder",value:function(e,t,n){return{source:e,ios_h5:t?1:0,report:{platform:(0,p.getPlatform)(),monitor:{platform:n.platform,phonetype:n.phonetype,environment:n.environment,opername:n.opername}},order_report:{extend:{unifiedplatform:parseInt(n.platform,10)||1}},ext_msg:{},call_back_url:encodeURIComponent(this.getReturnUrl())}}},{key:"stringify",value:function(e){e.report=JSON.stringify(e.report),e.order_report.extend=JSON.stringify(e.order_report.extend),e.order_report=JSON.stringify(e.order_report),e.ext_msg=JSON.stringify(e.ext_msg),e.discountinfo||(e.discountinfo={}),e.discountinfo=JSON.stringify(e.discountinfo),e.productid=JSON.stringify(e.productid)}},{key:"mergeOrderParam",value:function(e,t){Object.keys(e).forEach((function(n){var r=e[n],o=t[n];r&&(o||delete t[n],t[n]&&"object"===(0,i.default)(t[n])||(t[n]=r))})),delete t.displayExt,delete t.orderReportExt}},{key:"addProductId",value:function(e,t){t.productid=e.productid}},{key:"addReportExtParam",value:function(e,t){e.pay_channel&&(t.report=Object.assign(Object.assign({},t.report),{pay_channel:e.pay_channel})),d.imlog.info("【支付模块】","【订单参数上报】",t)}},{key:"addOrderExtParam",value:function(e,t){e.orderReportExt&&(t.order_report.extend=Object.assign(Object.assign({},t.order_report.extend),e.orderReportExt)),d.imlog.info("【支付模块】","【订单参数订单上报】",t)}},{key:"addJd",value:function(e,t){e.channel===f.ChannelType.Jd&&(t.pay_method="jd")}},{key:"addYqh",value:function(e,t){e.channel===f.ChannelType.Yqh&&(t.pay_method=f.ChannelType.Yqh)}},{key:"addRedEnvelopeParam",value:function(e,t){e.deduction&&(t.discountinfo=Object.assign(Object.assign({},t.discountinfo),{redenvelope_price:e.deduction})),d.imlog.info("【支付模块】","【订单参数红包信息】",t)}},{key:"addDiscountParam",value:function(e,t){e.discountinfo&&(t.discountinfo=Object.assign(Object.assign({},t.discountinfo),e.discountinfo)),d.imlog.info("【支付模块】","【订单参数优惠信息】",t)}},{key:"addAddressParam",value:function(e,t){e.addressId&&(t.ext_msg=Object.assign(Object.assign({},t.ext_msg),{addressid:Number(e.addressId)})),d.imlog.info("【支付模块】","【订单参数地址信息】",t)}}]),e}();t.Order=m},DtjJ:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push("",function(it,opt){with(it=it||{},it){var _$out_=[],specialCateMap={3116:"https://ke.qq.com/cates/3116"},cateTextLink="undefined"!=typeof cate_text_link?cate_text_link:[],txtLinksMap=cateTextLink.reduce((function(e,t){return e[t.cateId]=t.txtLinks,e}),{});_$out_.push('<nav class="mod-nav"> <ul class="mod-nav__list" jump-end="true"> ');for(var firstIndex=0,firstClassIds=Object.keys(catInfo).sort((function(e,t){return catInfo[e].o-catInfo[t].o})),k=0;k<firstClassIds.length;k++){var firstClassId=firstClassIds[k],firstClass=catInfo[firstClassId],hotClass=recommend_type[firstClassId]||{};firstIndex++,_$out_.push(' <li class="mod-nav__li'),1===firstIndex&&_$out_.push(" no-border"),_$out_.push(' js-mod-category " data-index="',firstIndex,'" jump-through="',firstIndex,'" data-id="',firstClassId,'" report-hover="obj1=first_level&obj2=',firstClassId,'"> <div class="mod-nav__wrap-nav-first"> <i class="icon-font i-v-right"></i> <h3 class="mod-nav__link-nav-first"> <a href="https://ke.qq.com/course/list?mt=',firstClassId,'" class="mod-nav__link-nav-first-link" title="',firstClass.n,'" target="_blank" jump-start="title_first_click" report-tdw="module=hotword&action=category&platform=1&ver1=',firstClassId,'"> ',firstClass.n,' </a> </h3> </div> <div class="mod-nav__wrap-nav-hot"> ');for(var i=0;i<hotClass.length;i++){var classId,hotClassLink,hotClassItem=hotClass[i],hotClassLinkPart="https://ke.qq.com/course/list?mt="+firstClassId+"&st="+hotClassItem.s_id;hotClassItem.t_id?(hotClassLink=hotClassLinkPart+"&tt="+hotClassItem.t_id,classId=hotClassItem.t_id):(hotClassLink=hotClassLinkPart,classId=hotClassItem.s_id),specialCateMap[hotClassItem.t_id]&&(hotClassLink=specialCateMap[hotClassItem.t_id]),_$out_.push(' <a href="',hotClassLink,'" class="mod-nav__link-nav-hot" title="',hotClassItem.s_name,'" jump-start="title_hotclassification" jump-through="',i+1,'" target="_blank" report-tdw="action=click&obj1=hot_cates&obj2=',classId,'">',hotClassItem.s_name,"</a> ")}_$out_.push(" </div> </li> ")}_$out_.push(' </ul> <div class="mod-nav__side"> ');for(var firstIndex=0,k=0;k<firstClassIds.length;k++){var firstClassId=firstClassIds[k],firstClass=catInfo[firstClassId],hotClass=recommend_type[firstClassId]||{},txtLinks=txtLinksMap[firstClassId]||[];firstIndex++,_$out_.push(' <div class="mod-nav__wrap-nav-side mod-nav__wrap-nav-side__adarea js-mod-category-side"> '),txtLinks.length&&(_$out_.push(' <div class="mod-nav__side-txt-list"> '),txtLinks.forEach((function(e){_$out_.push(' <a class="mod-nav__side-txt" href="',e.link,'" target="_blank" report-tdw="action=click&module=category&position=act_link&ver1=',e.name,'">',e.name,"</a> ")})),_$out_.push(" </div> ")),_$out_.push(' <ul class="mod-nav__side-list"> ');for(var secondHotCount=0,secondClassIds=Object.keys(firstClass.s).sort((function(e,t){return firstClass.s[e].o>firstClass.s[t].o?1:firstClass.s[e].o<firstClass.s[t].o?-1:0})),j=0;j<secondClassIds.length;j++){secondHotCount++;var secondClassId=secondClassIds[j],secondClass=firstClass.s[secondClassId],secondClassLink="https://ke.qq.com/course/list?mt="+firstClassId+"&st="+secondClassId,secondReportLink="module=hotword&action=category&platform=1&ver1="+firstClassId+"&ver2="+secondClassId;if(_$out_.push(' <li class="mod-nav__side-li" jump-through="',secondHotCount,'"> <h4 class="mod-nav__link-nav-second"><a href="',secondClassLink,'" title="',secondClass.n,'" class="mod-nav__link-nav-second-link" target="_blank" report-tdw="action=click&obj1=second_level&obj2=',secondClassId,'" jump-start="title_second">',secondClass.n,"</a></h4> "),secondClass.t){_$out_.push(' <div class="mod-nav__wrap-nav-third"> ');for(var thirdHotCount=0,thirdClassIds=Object.keys(secondClass.t).sort((function(e,t){return secondClass.t[e].o>secondClass.t[t].o?1:secondClass.t[e].o<secondClass.t[t].o?-1:0})),i=0;i<thirdClassIds.length;i++){thirdHotCount++;var thirdClassId=thirdClassIds[i],thirdClass=secondClass.t[thirdClassId],thirdClassLink="https://ke.qq.com/course/list?mt="+firstClassId+"&st="+secondClassId+"&tt="+thirdClassId;specialCateMap[thirdClassId]&&(thirdClassLink=specialCateMap[thirdClassId]),_$out_.push(' <a href="',thirdClassLink,'" class="mod-nav__link-nav-third mod-nav__wrap-nav-third_line" title="',thirdClass.n,'" target="_blank" report-tdw="action=click&obj1=third_level&obj2=',thirdClassId,'" jump-start="title_third" jump-through="',thirdHotCount,'"> ',thirdClass.n," </a> ")}_$out_.push(" </div> ")}_$out_.push(" </li> ")}_$out_.push(" </ul> </div> ")}return _$out_.push(" </div></nav>"),_$out_.join("")}}(it,opt),""),_$out_.join("")}}},"E/0V":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.RechargeChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=r(n("INZq")),s=n("2dtd"),l=n("P87J"),d=n("XwTY"),f=n("q87w"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(t){(0,o.default)(this,e),this.payOpts=t,this.rechargeHandler=new f.Recharge(t)}return(0,a.default)(e,[{key:"check",value:function(){return h(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rechargeHandler.checkIAPBalance(this.payOpts);case 2:if(e.sent){e.next=7;break}return c.default.tdw({action:"click",position:"recharge"}),this.rechargeHandler.jumpRecharge(),e.abrupt("return",(0,d.getPassResult)(!1,Object.assign({noError:!0},(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.RechargeError))));case 7:return e.abrupt("return",(0,d.getPassResult)(!0));case 8:case"end":return e.stop()}}),e,this)})))}}]),e}();t.RechargeChecker=v,p([(0,l.log)("iap充值校验")],v.prototype,"check",null)},EEHW:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={};t.default=void 0;var o=r(n("ZeZv")),a=r(n("aDhn")),u=r(n("+jPT")),c=r(n("gBQG")),s=r(n("EAVL")),l=r(n("oywu")),d=r(n("FO6Z")),f=n("sPX+"),p=n("5+fs"),h=n("ZSv8"),v=n("VvcH"),g=n("LN3O");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,d.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},_=function(){function e(t,n){(0,s.default)(this,e),this.params=t,this.options=n,this.item=null,this.currentDiscountPayButtonData=null,this.couponDiscountPayButtonData=null,this.currentDiscount=null,this.allDiscountList=[],this.log=[]}return(0,l.default)(e,[{key:"getCurrentDiscount",value:function(){return y(this,void 0,void 0,c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.currentDiscount);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getALLDiscountList",value:function(){return y(this,void 0,void 0,c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.allDiscountList);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getInstitutionDiscountByType",value:function(e){return y(this,void 0,void 0,c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.process();case 2:return t.abrupt("return",this.allDiscountList.find((function(t){return t.type===e})));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"createDiscountByData",value:function(e){return y(this,void 0,void 0,c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.item=e,t.next=3,this.process();case 3:return t.abrupt("return",this.currentDiscount);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"process",value:function(){return y(this,void 0,void 0,c.default.mark((function e(){var t,n,r,i,s,l,d,v,g,m=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentDiscount){e.next=2;break}return e.abrupt("return");case 2:if(t=function(){var e;(e=m.log).push.apply(e,arguments)},n=function(){return y(m,void 0,void 0,c.default.mark((function e(){var n,r,i,o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(["fetchCGI"]),n=(0,p.fetchAllDiscountCGICache)(this.params),r=(0,p.fetchPricingCGICache)(this.params),e.next=5,n;case 5:return i=e.sent,e.next=8,r;case 8:return o=e.sent,e.abrupt("return",[i,o]);case 10:case"end":return e.stop()}}),e,this)})))},r=function(e){return y(m,void 0,void 0,c.default.mark((function n(){var r,i,o,a,s,l,d,f,h,v,g;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["extractCGIData",e]),r=(0,u.default)(e,2),i=r[0],o=r[1],a=(null==i?void 0:i.result)||{},s=(null==o?void 0:o.result)||{},l=a.available,d=void 0===l?[]:l,f=a.discounts,h=void 0===f?[]:f,v=s.discounters_p1,g=void 0===v?[]:v,this.currentDiscountPayButtonData=this.couponDiscountPayButtonData={hasCoupon:!1,price:s.original_price},s.plan&&(this.currentDiscountPayButtonData=(0,p.getDiscountPayButtonData)(s.plan)||this.currentDiscountPayButtonData),s.p2_plan&&(this.couponDiscountPayButtonData=(0,p.getDiscountPayButtonData)(s.p2_plan)||this.couponDiscountPayButtonData),n.abrupt("return",[d,h,g]);case 10:case"end":return n.stop()}}),n,this)})))},i=function(e){return y(m,void 0,void 0,c.default.mark((function n(){var r,i,o,a,s,l,d,p,h,v,g,m,y;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["selectCGIData",e]),r=(0,u.default)(e,3),i=r[0],o=r[1],a=r[2],[],[],[],p=this.options||{},h=p.include,v=void 0===h?[]:h,g=p.exclude,m=void 0===g?[]:g,y=function(e){var t=!0,n=e.type;if(n===f.InstitutionDiscountType.Coupon)return!1;if(!n){t=!1;var r=e,i=r.discount_sign,o=r.discount_results;i===f.InstitutionDiscountTypeInPricing.Coupon&&(n=f.InstitutionDiscountType.Coupon,t=!0),t&&(t=!(!o||!o.length))}return t&&v.length&&(t=!1,v.indexOf(n)>-1&&(t=!0)),t&&m.indexOf(n)>-1&&(t=!1),t},s=i.filter(y),l=o.filter(y),d=a.filter(y),n.abrupt("return",[s,l,d]);case 11:case"end":return n.stop()}}),n,this)})))},s=function(e){return y(m,void 0,void 0,c.default.mark((function n(){var r,i,o,s,l;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["formatCGIData",e]),r=(0,u.default)(e,3),i=r[0],o=r[1],s=r[2],l=o.map((function(e){if(e.type===f.InstitutionDiscountType.Bargain){var t=e[f.InstitutionDiscountType.Bargain];if(!t.bargain_detail){var n=Object.assign(Object.assign({},t),{bargain_detail:Object.assign({},t)});return Object.assign(Object.assign({},e),(0,a.default)({},f.InstitutionDiscountType.Bargain,Object.assign(Object.assign({},n),{bargain_detail:Object.assign({},n)})))}}return e})),n.abrupt("return",[i,l,s]);case 4:case"end":return n.stop()}}),n)})))},l=function(e){return y(m,void 0,void 0,c.default.mark((function n(){var r,i,o,a,s,l,d,p,v=this;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["transformDiscountModel",e]),r=(0,u.default)(e,3),i=r[0],o=r[1],a=r[2],s=function(e){var t=(0,h.dispatch)(e);e.type===f.InstitutionDiscountType.Seckill&&t.utils.setDiscountParams(v.params);return t},l=i.map(s),d=o.map(s),p=a.map(s),n.abrupt("return",[l,d,p]);case 7:case"end":return n.stop()}}),n)})))},d=function(e){return y(m,void 0,void 0,c.default.mark((function n(){var r,i,o,a,s,l,d;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["selectDiscountModel",e]),r=(0,u.default)(e,3),i=r[0],o=r[1],a=r[2],[],[],d=function(e){var t=!0;return t&&e.type===f.InstitutionDiscountType.Seckill&&(t=e.filter()),t},s=i.filter(d),l=o.filter(d),n.abrupt("return",[s,l,a]);case 8:case"end":return n.stop()}}),n)})))},v=function(e){return y(m,void 0,void 0,c.default.mark((function n(){var r,i,a,s,l,d,h,v,g,m,y,_,b;return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(["saveDiscountModel",e]),l=(0,u.default)(e,3),d=l[0],h=l[1],v=l[2],this.allDiscountList=[].concat((0,o.default)(d),(0,o.default)(h),(0,o.default)(v)),this.currentDiscount=this.allDiscountList[0]||null,(null===(r=this.currentDiscount)||void 0===r?void 0:r.type)!==f.InstitutionDiscountType.Partner){n.next=6;break}return n.abrupt("return");case 6:if(!(null===(i=this.currentDiscountPayButtonData)||void 0===i?void 0:i.p1)){n.next=19;break}g=null===(s=null===(a=this.currentDiscountPayButtonData)||void 0===a?void 0:a.p1)||void 0===s?void 0:s.discount_sign,m=p.institutionDiscountTypeInPricingMap[g],y=this.allDiscountList.length,_=0;case 11:if(!(_<y)){n.next=19;break}if((b=this.allDiscountList[_]).type!==m){n.next=16;break}return this.currentDiscount=b,n.abrupt("break",19);case 16:_++,n.next=11;break;case 19:case"end":return n.stop()}}),n,this)})))},g=function(e){return y(m,void 0,void 0,c.default.mark((function n(){return c.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(["errorHandler",e]);case 1:case"end":return n.stop()}}),n)})))},!this.item){e.next=13;break}return e.abrupt("return",Promise.resolve([[],[],[this.item]]).then(l).then(d).then(v).catch(g));case 13:return e.abrupt("return",Promise.resolve().then(n).then(r).then(i).then(s).then(l).then(d).then(v).catch(g));case 14:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=_,m([v.log.apply(void 0,(0,o.default)(v.MonitorArgs[v.MonitorKey.INSTITUTION_CREATE_DATA]))],_.prototype,"createDiscountByData",null),m([v.log.apply(void 0,(0,o.default)(v.MonitorArgs[v.MonitorKey.INSTITUTION_PROCESS]))],_.prototype,"process",null)},"EY/S":function(e,t,n){e.exports=n("XXQO")},EaPD:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.H5Midas=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("F5LU"),u=n("0GaA"),c=function(){function e(t){(0,i.default)(this,e),this.payInfo=t,this.callbackUrl=new u.CallbackUrl(t)}return(0,o.default)(e,[{key:"pay",value:function(e){var t=e&&e.token||{},n=(0,a.getUin)(),r=this.isSandBox(t),i=this.getBuyInfo(e,n),o=this.getPayParam(i,r),u=this.getPayUrl(r);(0,a.isApp)()&&(o=encodeURIComponent(o)),a.Jumper.jump(location.protocol+u+o)}},{key:"isSandBox",value:function(e){return!!e.is_sandbox}},{key:"getBuyInfo",value:function(e,t){var n=e&&e.token||{},r=this.getBuyDefaultInfo(n,t);return this.addGrayParam(e,r)}},{key:"getPayParam",value:function(e,t){var n=this.getPayDefaultParam(e,t),r=this.addDisableChannel(n);return encodeURIComponent(JSON.stringify(r))}},{key:"getPayUrl",value:function(e){var t="//pay.qq.com/h5sdk/proxy.shtml?payParams=";return e&&(t="//pay.qq.com/h5sdk/proxy.shtml?payParams="),t}},{key:"addDisableChannel",value:function(e){return this.payInfo.disableChannel?Object.assign(Object.assign({},e),{params:{disablechannel:this.payInfo.disableChannel}}):e}},{key:"getPayDefaultParam",value:function(e,t){return{buyInfo:e,callback_url:encodeURIComponent(this.callbackUrl.getCallbackUrl()),opt:{sandbox:t}}}},{key:"addGrayParam",value:function(e,t){var n=e.enable_merchant_switch;return n&&1===n?Object.assign(Object.assign({},t),{wx_h5pay:1,usewxappid:"1"}):t}},{key:"getBuyDefaultInfo",value:function(e,t){return{appid:"1450008443",goodstokenurl:e.url_params,openid:e.openid||String(t),pf:"midas_group_pay-1000-html5-1000"}}}]),e}();t.H5Midas=c},EftH:function(e,t,n){"use strict";var r,i,o,a,u,c,s=n("TqRt")(n("GKxR")),l=n("Cwdn"),d=n("xeH2"),f=n("lSPl"),p=n("vuT/"),h=n("DYd/"),v=n("kprn"),g=n("oDCV"),m=n("Uy8A"),y=n("9gZJ"),_=y.pageReportZhCookie,b=y.clearZhCookie,w=n("XKbg"),k=n("G4KV"),P=n("Tf+S"),x=n("O/cW"),C=n("bIoE"),O=n("xM6I"),A=n("AAfo"),T=n("DEu8"),S=d("#js-header-sale-tips");n("NaRh"),n("TOwC"),window.TRecord.push("page_main_start"),r=d(".banner-slide").find("section"),i=r.find(".banner-slide-link"),o=d(".banner-slide-prev"),a=d(".banner-slide-next"),d("#js-sliderbox").slick({autoplay:!0,autoplaySpeed:5e3,dots:!0,fade:!0,arrows:!0,speed:600,pauseOnHover:!1,prevArrow:o,nextArrow:a,zIndex:1}).lazyload({errCallBack:function(e){(e=d(e)).prop("onerror",null).attr("src","javascript:void(0)")}}).on("afterChange",(function(e,t,n){(0,l.reportBannerExpo)(n,i)})),r.on("mouseenter",(function(){o.show(),a.show()})).on("mouseleave",(function(){o.hide(),a.hide()})),(0,l.reportBannerExpo)(0,i),d(".mod-nav__list").menuAim({activate:function(e){var t=d(e),n=t.index(".js-mod-category");d(".js-mod-category-side").eq(n).show(),t.addClass("mod-nav__li_current"),d(".header-index-logo").focus()},deactivate:function(e){d(".js-mod-category-side").hide(),d(e).removeClass("mod-nav__li_current")},exitMenuSelector:".mod-nav",rowSelector:".mod-nav__li",exitMenu:function(){return!0}}),v.get("indexNewHideSaleTips")||S.show(),O.init(),k.init(),w.getCooperationLink({param:{},succ:function(e){var t=d.map(e.result.link_out,(function(e){var t=e.link_url;return t.match(/^http(s)?/)||t.match(/^\/\//)||(t="http://".concat(t)),e.url=t,e}));d("#js-cooperation-list").html(P({links:t}))},err:function(){return!0}}),x.init(),C.init(),T.init().then((function(e){e||A.init().then((function(e){e||h.init({page:h.SHOW_PAGE.INDEX})}))})),p.init(),(0,s.default)(),BJ_REPORT.info({msg:"index-pv-new",ext:{msid:2690397}}),f.config({page:"index",industry2:+window.META_DATA.CATE_ID}),f.reportPageView(),d(document).on("click",".js-close-sale-tips",(function(){S.hide(),v.set("indexNewHideSaleTips",1)})),(0,l.bindBannerClickReport)(),window.TRecord.push("page_main_end"),g.init({$container:d("#relevant-training")}),u=f.getReportData().visitor_id,c=d.cookie.uin()||u,m.init({el:[d("#js-sliderbox")[0],d(".mod-sub[data-mod=live-courses]")[0]],grayPage:"indexPC",isGrayUser:function(e){var t=e.idTail;return-1!==(void 0===t?"":t).indexOf(c.toString().slice(-1))},onAfterInit:function(){window.reportMonitor(34480477)}}),_(),b()},"Et+f":function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return weappCode?_$out_.push('<div class="login-weapp-code"> <img class="weappcode-img" src="data:image/png;base64,',weappCode,'"> <div class="wechat-qrcode-mask"></div> <div class="wechat-qrcode-invalid-mask"> <div class="qrcode-invalid-mask"></div> <div class="qrcode-invalid-tips">二维码失效<br>请点击刷新</div> </div></div>'):url&&_$out_.push(' <iframe name="login_frame_wx" src="',url,'" frameborder="0" scrolling="no" width="100%" height="100%"></iframe>'),_$out_.join("")}}},EtRZ:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PendantChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("e4x/")),c=r(n("Udhi")),s=r(n("okMe")),l=n("F5LU"),d=n("nzmE"),f=n("QBS+");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;return(0,o.default)(this,n),(e=t.apply(this,arguments)).type=d.ActType.PendantAct,e}return(0,a.default)(n,[{key:"checkPlatform",value:function(e){var t=e.show_platform;if(t.includes(f.PENDANT_SHOW_PLATFORM.ALL))return!0;var n=(0,l.isApp)();return!!(n&&(0,l.isAndroid)()&&t.includes(f.PENDANT_SHOW_PLATFORM.ANDROID))||(!!(n&&(0,l.isIOS)()&&t.includes(f.PENDANT_SHOW_PLATFORM.IOS))||!(!(0,l.isMobile)()||!t.includes(f.PENDANT_SHOW_PLATFORM.H5)))}},{key:"checkCourseInfo",value:function(e,t){if(!t)return!0;var n=t.aid,r=t.cid,i=(e.agency_id||"").split(",").filter((function(e){return e})),o=(e.course_id||"").split(",").filter((function(e){return e}));return(0===i.length||i.indexOf("".concat(n))>=0)&&(0===o.length||o.indexOf("".concat(r))>=0)}},{key:"filter",value:function(e,t){var n=t||{},r=n.cateInfo,i=n.courseInfo,o=n.page,a=e.cate_id,u=e.show,c=r||{},s=c.mt,l=void 0===s?0:s,f=c.st,p=0===a||a===l||a===(void 0===f?0:f),h=this.checkPlatform(e),v=!o||e.page.indexOf(d.PAGE_TYPE_TO_NAME[o])>=0,g=this.checkCourseInfo(e,i),m=e.act_url&&e.img_url;return u&&p&&h&&v&&g&&!!m}},{key:"check",value:function(e){return h(this,void 0,void 0,i.default.mark((function t(){var n,r,o,a=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.getPendantData)();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:return n=t.t0,r=n.filter((function(t){return a.filter(t,e)})).sort((function(e,t){return t.cate_id-e.cate_id})),o=r.length>0,this.pendantData=r[0],t.abrupt("return",{data:this.pendantData,pass:o});case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getUrlInfo",value:function(){var e=this.pendantData||{};return{iconUrl:e.img_url,jumpUrl:e.act_url}}},{key:"getData",value:function(){return this.pendantData}}]),n}(d.OperateChecker);t.PendantChecker=v},EwS5:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.fomatUrlWithToken=f,t.getPlayListWithToken=function(e,t){var n=t.termId,r=t.cid,i=t.vodType,o=(0,s.getUin)(),a=(0,s.getCookie)("p_skey"),u=(0,s.getCookie)("uid_a2"),c=!("2"!==(0,s.getCookie)("uid_type")||!u.length),l=[{key:"vod_type",value:i},{key:"cid",value:r},{key:"term_id",value:n}],d="uin=".concat(o,";");l.forEach((function(e){e.value&&(d+="".concat(e.key,"=").concat(e.value,";"))})),d+=c?"pskey=;ext=".concat(u):"pskey=".concat(a,";ext=");var p=(0,s.base64Encode)(d),h=e.transcodeList,v=void 0===h?[]:h,g=f(v[0]&&v[0].url,p),m=f(v[1]&&v[1].url,p),y=f(v[2]&&v[2].url,p);return{m3u8:f(v[3]&&v[3].url,p)||y||m||g,m3u8_hd:m,m3u8_sd:g}},t.getPlayInfo=function(e,t){return p.apply(this,arguments)},t.getUrlToken=function(e){var t=e.termId,n=e.cid,r=e.fileId,i=e.vodType;return new Promise((function(e,o){d.default.tdw({action:"initToken",obj3:r}),(0,a.default)("/cgi-bin/qcloud/get_token",{data:{vod_type:i||0,cid:n||0,term_id:t||0,fileId:r}}).then((function(t){var n=t.result,i=t.retcode;return n&&n.sign?(u.default.monitor(34385152),d.default.tdw({action:"tokenSucc",obj1:i,obj3:r}),e(n)):(d.default.tdw({action:"tokenFailed",obj1:n.err_code,obj2:n.err_msg,obj3:r}),u.default.monitor(34385153),o("getUrlToken error: ".concat(n.err_code," ").concat(n.err_msg)))})).catch((function(e){o(),d.default.tdw({action:"tokenFailed",obj1:e.retcode,obj2:e.msg||e.err_msg,obj3:r}),u.default.monitor(34385153)}))}))},t.loadDependices=function(){if("undefined"!=typeof document)return new Promise((function(e,t){(0,s.getSafariVer)()?h(e,t):new Promise((function(e,t){(0,c.default)("//imgcache.qq.com/open/qcloud/video/tcplayer/libs/hls.min.0.12.4.js",(function(n){n&&(u.default.monitor(34385154),t(n)),u.default.monitor(34385155),e()}))})).then((function(){h(e,t)}))}));return Promise.reject()};var i=r(n("o0o1")),o=r(n("HaE+")),a=r(n("mCUO")),u=r(n("5jMZ")),c=r(n("MuZe")),s=n("kW22"),l=n("1cwk"),d=r(n("m9bP"));function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=/(\/drm\/)/g,r=e.replace(/http:/,"https:");return r=r.replace(n,"$1voddrm.token.".concat(t,"."))}function p(){return(p=(0,o.default)(i.default.mark((function e(t,n){var r,o,a,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.t,o=n.us,a=n.sign,c=n.exper,e.abrupt("return",new Promise((function(e,n){d.default.tdw({action:"initPlayInfo",obj3:t}),window.fetch("//playvideo.qcloud.com/getplayinfo/v2/".concat(l.APPID,"/").concat(t,"?t=").concat(r,"&us=").concat(o,"&sign=").concat(a,"&exper=").concat(c)).then((function(e){return e&&200===e.status?e.json():(u.default.monitor(34385150),{code:e.status,message:e.statusText})})).then((function(r){var i=r.code,o=r.videoInfo,a=r.message;return 0!==i?(d.default.tdw({action:"playInfoFailed",obj1:i,obj2:a,obj3:t}),n("getplayinfo error: ".concat(i," ").concat(a))):(d.default.tdw({action:"playInfoSucc",obj3:t}),u.default.monitor(34385151),e(o))})).catch((function(e){}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){(0,c.default)("//imgcache.qq.com/open/qcloud/video/vcplayer/TcPlayer-2.3.1.js",(function(n){n&&(u.default.monitor(34385157),d.default.tdw({action:"getTcplayerSucc"}),t(n)),u.default.monitor(34385156),d.default.tdw({action:"getTcplayerFailed"}),e()}))}},EzEM:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.setCookieData=function(e){o.default.isPlainObject(e)&&(t=e,n={},Object.keys(t).forEach((function(e){n[e]=encodeURIComponent(t[e]||"")})),e=n,e=JSON.stringify(e));var t,n;i.default.setSession(a,e,u,c)},t.getCookieData=function(){var e;try{e=i.default.get(a),e=JSON.parse(e)}catch(t){e={}}return e};var i=r(n("w7y4")),o=r(n("4qiJ")),a="tdw_data_new_2",u="ke.qq.com",c="/"},F1LC:function(e,t,n){var r=n("OlRL"),i=n("Tuqh"),o=(n("lSPl"),n("Nfwl")),a=n("SejO");n("HwQ1"),n("Lwcf");var u={},c=null,s={simplify:!1},l={cat:GLOBAL_DATA.cateId,name:"",page:1,count:10,platform:4,label_filter:"[]"},d=function(e,t){e=$.extend({},l,e),r.getSelectCourse({param:e,err:function(){return!0}}).then((function(e){if(0===e.retcode){var n=(e.result||{}).courseOnline||[];t(n)}}))},f=function(e,t){var n,r=e.data("mod");n=(t=t||[]).length?i({course_list:t||[],opt:$.extend({cardPos:r},s)}):a(),e.find(".js-course-list").html(n)};var p=function(e,t,n){var r=e.index();e.toggleClass("current"),0!==r?e.siblings().eq(0).removeClass("current"):e.siblings().removeClass("current"),e.siblings().removeClass("current"),0===n.find(".current").length&&n.children().eq(0).addClass("current")},h=function(e){var t=[];return e.find(".js-filter-item-list").each((function(){var e=[];$(this).find(".current").each((function(){var t=$(this);0!==t.index()&&e.push(t.text())})),e.length&&t.push(e)})),t};e.exports={init:function(){(c=$(".js-select-course")).length&&(l.cat=GLOBAL_DATA.cateId,(GLOBAL_DATA.courseCenter||[]).forEach((function(e){e.$center=c.filter('[data-name="'+e.name+'"]'),u[e.name]=e,u[o.encode(e.name)]=e})),c.spin(),d({},(function(e){e.forEach((function(e){var t=e.courses,n=(u[e.name]||{}).$center;n&&n.length&&f(n,t)})),c.spin(!1),function(e){e.forEach((function(e){var t=(u[e.name]||{}).$center;t&&t.length&&t.bidiPaging({maxPage:e.total||1,fetchData:function(e,n){e.count=e.size,e.name=t.data("name"),e.name&&(e.label_filter=JSON.stringify(h(t))),t.spin(),d(e,n)},onSwitchedPage:function(e,n){var r=e[0]||{};r.total&&n.extendConfig({maxPage:r.total}),f(n.$el,r.courses),t.spin(!1)}})})),c.on("click",".js-filter-item",(function(){var e=$(this),t=e.parent(".js-filter-item-list"),n=t.data("row"),r=t.data("centerName"),i=u[r],o=i.courseLabel[n],a=i.$center;if(a.length){p(e,o,t);var c=a.data("bidiPaging");c.clearCache(),c._switchPage(1,!0)}}))}(e)})))}}},F5LU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("M9qB");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("bhbm");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("9gZJ");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n("HP8Q");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var u=n("URpy");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var c=n("XOiT");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var s=n("0mjW");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var l=n("afxL");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var d=n("Yieb");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}));var f=n("dgVY");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}));var p=n("ytsa");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})}));var h=n("VovU");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})}));var v=n("lueo");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})}));var g=n("3pAx");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})}));var m=n("qGYQ");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})}));var y=n("/m0i");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})}));var _=n("RWC5");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}})}));var b=n("Ad8L");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})}));var w=n("mAAe");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}})}));var k=n("9dM/");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}})}));var P=n("8p0i");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}})}));var x=n("qmwx");Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}})}))},FE3Q:function(e,t,n){var r=n("f5oH"),i={aid:0,is_login:0,is_logout:0,nick_name:"",face_url:"",role_type:64,role_info:0,uid:"",skey:"",uid_type:0,isWeixinUser:!1,isOpenPlatformUser:!1,isQQUser:!0,isMaster:!1,isPersonal:!1,isAdmin:!1,isCustomAdmin:!1,isCourseTeacher:!1,isTeacher:!1,isStudent:!0,isPlatRole:!1};e.exports={updateInfo:function(e){if(e&&(i.is_login||e.is_login)){for(var t in e)void 0!==i[t]&&(i[t]=e[t]);r.set(i)}},getInfoSync:function(){return i},getRoleInfoSync:function(){var e={},t=i.role_info||0,n={isRoleAssistant:1,isRoleTeacher:2,isRoleTeachingManager:7,isRoleSuperManager:8,isRoleSalesManager:16,isTeachingAffairs:17,isSaler:18,isRoleFinancialAffairs:19,isCustomize1:20,isCustomize2:21};for(var r in n){var o=n[r];e[r]=(t&1<<o)>0}return e},extendBaseInfo:function(e){for(var t in e=e||{}){if(void 0!==i[t])throw new Error("定义了重复的基础字段");i[t]=e[t]}}}},FHsA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("9ccY");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("pukQ");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("vVBX");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n("rBe4");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var u=n("/m0i");n("MR6g").env.set("fetch",u.fetch)},"Fg0+":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PaylayerChannel=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("uIhe"),u=function(){function e(t){(0,i.default)(this,e),this.prefetchData=t}return(0,o.default)(e,[{key:"getChannelInfo",value:function(){var e=this.getChannels().reduce((function(e,t){return e[t.channel]=t,e}),{});return a.imlog.info("【支付模块】","【组装paylayer支付渠道信息】",e),e}},{key:"getChannels",value:function(){return this.prefetchData&&this.prefetchData.paylayerData&&this.prefetchData.paylayerData.channels||[]}}]),e}();t.PaylayerChannel=u},FprC:function(e,t,n){"use strict";n("quXu"),n("aGpO"),n("6qnT"),n("EftH")},FwQ8:function(e,t,n){var r,i=n("cDf5"),o={url:"",isd:{unloadEventStart:1,unloadEventEnd:2,redirectStart:3,redirectEnd:4,fetchStart:5,domainLookupStart:6,domainLookupEnd:7,connectStart:8,connectEnd:9,requestStart:10,responseStart:11,responseEnd:12,domLoading:13,domInteractive:14,domContentLoadedEventStart:15,domContentLoadedEventEnd:16,domComplete:17,loadEventStart:18,loadEventEnd:19,page_start:20,page_css_ready:21,page_js_ready:22,page_main_start:23,page_main_end:24,page_render_end:25,page_render_fp:26},appid:10028,device:"",platform:"",apn:"",userid:""},a={},u={},c={};function s(e,t){a[e]=t||new Date-0}function l(e,t){var n=[],i=100*Math.random()+1;for(var o in n.push(e),t)n.push(o+"="+t[o].cost);if(u[e]={},e&&n){n="//huatuo.weiyun.com/report.cgi?"+r+"&speedparams="+encodeURIComponent(n.join("&"))+"&r="+i;var a=new Image;a.src=n,a=null}}function d(e,t,n){if("number"==typeof n&&n>=0){var r=e[t];r?(r.cost=Math.round((r.num*r.cost+n)/(r.num+1)),r.num+=1):e[t]={cost:n,num:1}}}s("page_start",window.T&&window.T[0]),window.huatuo={cfg:o,push:s,report:function(e,t){var n=(t=t||{})&&t.url||o.url;r=function(e){var t=[];for(var n in o)"url"!==n&&"isd"!==n&&(e[n]&&(o[n]=e[n]),o[n]&&t.push(n+"="+o[n]));return t.join("&")}(t),c[n]&&clearTimeout(c[n]),u[n]||(u[n]={});var s=u[n],f=function(e,t){if(e&&t)for(var n in t)e[n]=t[n];return e}(o.isd,t.isd),p=null;if(e&&"object"==i(e))if(e instanceof Array){p=a.page_start;for(var h=0;h<e.length;h++){var v=e[h];if("page_start"!==v){var g=a[v]-p;(g<=0||isNaN(g))&&(g=1),s[f[v]]={cost:g,num:1}}}!function(e,t){if(!window.performance||e)return t;var n,r,i,a=window.performance.timing;for(var u in t||(t=[]),n=a.navigationStart,o.isd)(r=o.isd[u])<20&&(((i=a[u]-n)<=0||isNaN(i))&&(i=1),t[r]={cost:i,num:1})}(t.isPrevent,s)}else for(var m in e)d(s,m,e[m]);var y=0===t.delay?0:t.delay||500;y?c[n]=setTimeout((function(){l(n,s)}),y):l(n,s)}},e.exports=window.huatuo},G4KV:function(e,t,n){var r,i,o,a,u,c,s,l=n("xeH2"),d=(n("I5uA"),n("m9bP")),f=n("kprn"),p=n("EY/S"),h=n("XKbg"),v=n("3BCT"),g=n("0HC3"),m=window.META_DATA.INTEREST_LIST,y=window.META_DATA.INTEREST_SOURCE,_=window.META_DATA.LAST_SIGNIN_TIME,b=!1,w=[],k=function(){},P=!1,x=!1,C={$container:"#js-intrest-select",afterInit:k,beforeChange:k,afterChange:k,onItemClick:k},O=function(){M(!1,6)<0?a.addClass("disabled"):a.removeClass("disabled")},A=function(e){e.find(".small-category-item.active").length?e.addClass("active"):e.removeClass("active")},T=function(){var e=R();c.text(e)},S=function(e){e.addClass("active")},E=function(e){e.toggleClass("active")},I=function(e){e?a.addClass("loading"):a.removeClass("loading")},D=function(){p.getInfo().then((function(e){if(e.is_login){var t=(new Date).getTime()/1e3;y||(!_||t-_>604800)&&s.show()}}))},j=function(){s.hide(),h.setVisitTime({})};function R(){return o.filter((function(e,t){return l(t).hasClass("active")})).length}function M(e,t){var n=R();return n>t?(e&&l.modal.alert("最多可以选择6个兴趣哦"),1):n<1?-1:0}function L(){a.hasClass("disabled")||a.hasClass("loading")||M(!0,6)||v.saveData((function(){I(!0)}),(function(){N(),location.reload()}),(function(e){N()}))}function N(){I(!1),x&&d.tdw({action:"exposure",obj1:"change_interest_login_success"})}function q(){i.on("click",".small-category-item",(function(){var e,t;e=l(this),!1!==C.beforeChange(v.getData(),e)&&(!e.hasClass("active")&&M(!0,5)>0||(E(e),v.toggleDataItem(parseInt(e.data("id"),10)),t=v.getData(),O(),A(e.closest(".main-category-item")),T(),C.afterChange(t,e)))})),a.on("click",(function(){L()})),r.on("keyup",(function(e){27===e.keyCode&&U()})).on("click",".js-open-interest",(function(){F()})).on("click",".js-close-tab-tips",(function(){j()})).on("loginCancel",(function(){x&&(N(),F()),x=!1})).on("loginShow",(function(){P&&(x=!0,U(),d.tdw({action:"exposure",obj1:"change_interest_login"}))})),u.on("click",(function(){f.set("newIndexNoAlert",1),U()}))}function F(){i.show(),P=!0,b||(d.tdw({action:"exposure",obj1:"change_interest_page"}),b=!0)}function U(){i.hide(),P=!1}e.exports={init:function(e){var t;return l.extend(C,e),r=l(document),i=l(C.$container),o=i.find(".small-category-item"),a=i.find(".js-intrest-save"),u=i.find(".js-intrest-cancel"),s=l(".js-cate-tab-tips"),c=l(".js-select-item-num"),o.filter(".active").length||"qzone"!==g.query("source")&&p.getInfo().then((function(e){e.is_login&&!f.get("newIndexNoAlert")&&F()})),t=o.filter(".active").map((function(e,t){return parseInt(l(t).data("id"),10)})),w=[].slice.call(t,0),v.setData(w),y&&v.setCookieData(m),O(),D(),q(),C.afterInit(),this},getCurIntrestList:function(){return v.getData()},setCurIntrestList:function(e){return o.removeClass("active").each((function(t){var n=o.eq(t);l.inArray(parseInt(n.data("id"),10),e)>=0&&S(n)})),v.setData(e)},show:F,hide:U}},G8ho:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.AccountChecker=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=n("F5LU"),c=n("2dtd"),s=n("P87J"),l=n("GYbC"),d=n("XwTY"),f=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},p=function(){function e(t){(0,i.default)(this,e),this.payData=t}return(0,o.default)(e,[{key:"check",value:function(){var e;return!(0,l.isCourseFree)(null===(e=this.payData)||void 0===e?void 0:e.ext)&&(0,u.isOpenPlatformAccount)()?(0,d.getPassResult)(!1,(0,c.getApplyFrontError)(c.ApplyFrontErrorRetcode.NotSupportOpenPlatformAccount)):(0,d.getPassResult)(!0)}}]),e}();t.AccountChecker=p,f([(0,s.log)("第三方账号校验checker")],p.prototype,"check",null)},GJ5O:function(e,t,n){var r=n("1RNr"),i=n("d8va"),o=n("0HC3"),a=window.Badjs;r.extend({getClientStatus:r.httpMethod({url:"/cgi-bin/tool/get_status",type:"GET"})});var u={},c={},s={};function l(e,t,n){var i=e.getAttribute("data-tid")||e.getAttribute("data-cid")||o.query("course_id");void 0===u[i]&&(u[i]=1),r.getClientStatus({param:{cid:i},succ:function(r){if(0==r.result.info.s){var o="time: ".concat(u[i],"s, online: ").concat(r.result.onlstat?"yes":"no",", ip: ").concat(r.result.cltip||"unknown",", client ver:").concat(r.result.cltvers||"unknown");a(o,"monitorTencentOpen",0,410354+2*u[i],2),5==u[i]&&a("".concat(o,", only 5s"),"monitorTencentOpen",0,r.result.onlstat?413175:413176,2),u[i]<10?(u[i]++,c[i]=setTimeout((function(){l(e,t,n)}),1e3)):(n&&n(),a("进入课堂失败","monitorTencentOpen",0,2528841,2),$.render.showEnterRoomFailureTips(e))}else t&&t(),a("enter course success after open tencent in ".concat(u[i],"s"),"monitorTencentOpen",0,410355+2*u[i],2)},err:function(){return n&&n(),!0}})}e.exports={init:function(){$(document).on("openQQClientLive",(function(e,t){var n=$(t),r=n.html();if(t&&t.getAttribute){var i=t.getAttribute("data-tid")||t.getAttribute("data-cid")||$.bom.query("course_id");u[i]=1,c[i]&&clearTimeout(c[i]),c[i]=setTimeout((function(){l(t,(function(){clearInterval(s[i]),n.html(r)}),(function(){clearInterval(s[i]),n.html(r)}))}),1e3),s[i]&&(clearInterval(s[i]),s[i]=null),n.html('进入中<span class="js-loading-dot loading-dot"></span>');var o=n.find(".js-loading-dot");s[i]=setInterval((function(){var e=o.text();"..."==e?o.text("."):o.text("".concat(e,"."))}),600)}})).on("openQQClientLiveNew",(function(e,t){setTimeout((function(){l(t)}),1e3)})),$(document).on("click",".js-open-tencent[data-target]",(function(e){i.jumpLive(this,{newcard:!0,event:e})}))}}},GKxR:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt")(n("Kwep")),o=r(n("oZAU"));i.default.config({project:"core"}),e.exports=function(e){new o.default({proxy:o.getResourceProxyUrl,includes:["url.cn","p.qpic.cn"]}).observe(e||document.body)}},GMyB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("6BWB");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},GQcU:function(e,t){function n(e){e&&e.bgtime&&e.endtime&&(this.opts=e,this.seconds=Math.floor((e.endtime-e.bgtime)/1e3),this.afterASecond=e.afterASecond,this.afterClear=e.afterClear,this.seconds>0&&(this.calTime(),this.start()))}function r(e){return e<10?"0"+e:e}n.prototype={constructor:n,start:function(){var e=this;e.timer=setInterval((function(){e.seconds--,e.calTime(),e.seconds<=0&&e.clear(!0)}),1e3)},clear:function(e){this.timer&&(clearInterval(this.timer),e&&this.afterClear&&this.afterClear())},calTime:function(){var e=this.seconds,t=Math.floor(e/86400),n=r(Math.floor((e-86400*t)/3600)),i=r(Math.floor((e-86400*t-3600*n)/60)),o=r(Math.floor(e-86400*t-3600*n-60*i));this.afterASecond&&this.afterASecond({days:t,hours:n,minutes:i,seconds:o})}},e.exports=n},GYbC:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.isCourseFree=function(e){return 0===(null==e?void 0:e.price)},t.isCoursePunish=function(e){return!!(null==e?void 0:e.isPunished)},t.isTermPunish=function(e){return!!(null==e?void 0:e.punish_flag)},t.getCurTermInfo=f,t.isCoursePkgPresent=function(e){var t;return(null===(t=null==e?void 0:e.present)||void 0===t?void 0:t.type)===l.PresentType.PkgCoursePresent},t.isCoursePresent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=h(e,t);return p(n)},t.isPresent=p,t.getDetails=function(e){return(null==e?void 0:e.detail)||[]},t.isTermApplyOver=function(e){return(null==e?void 0:e.sign_endtime)&&(0,u.getSvrTime)()>=(null==e?void 0:e.sign_endtime)},t.isTermStudyOver=function(e){return Date.now()>=1e3*Number(null==e?void 0:e.endtime)},t.isTermSignFull=function(e){var t,n,r=null===(t=null==e?void 0:e.term)||void 0===t?void 0:t.sign_max,i=(null===(n=null==e?void 0:e.term)||void 0===n?void 0:n.apply_num)||0;return r&&r<=i},t.getOrderInfo=h,t.isCourseRestudy=function(e,t){return v(h(e,t))},t.isRestudy=v,t.isOrderPaying=function(e){return[l.OrderState.Paying].includes(null==e?void 0:e.order_state)},t.isOrderConfirming=function(e){return[l.OrderState.DeliverFail,l.OrderState.Confirming,l.OrderState.Checking].includes(null==e?void 0:e.order_state)},t.isRefunding=function(e){return[l.OrderState.RefundCheck,l.OrderState.Refunding].includes(null==e?void 0:e.order_state)},t.isApplied=function(e){return[l.OrderState.DeliverSuccess,l.OrderState.PaySuccess].includes(null==e?void 0:e.order_state)},t.getPlatform=function(){if((0,u.isMiniProgram)())return l.Platform.MP;if((0,u.isPC)())return l.Platform.PC;return(0,u.isApp)()?(0,u.isAndroid)()?l.Platform.AndroidApp:l.Platform.IOSApp:(0,u.isAndroid)()?l.Platform.Android:l.Platform.IOS},t.getSource=function(){return d(this,void 0,void 0,a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isMiniProgram)()){e.next=2;break}return e.abrupt("return",l.Source.MP);case 2:if(!(0,u.isPC)()){e.next=4;break}return e.abrupt("return",l.Source.PC);case 4:return e.next=6,(0,u.isIAP)();case 6:return t=e.sent,e.abrupt("return",t?l.Source.IAP:(0,u.isAndroid)()?l.Source.Android:l.Source.H5);case 8:case"end":return e.stop()}}),e)})))},t.getProductId=function(e,t){if(!e.length)throw new c.CustomApplyFrontError(c.ApplyFrontErrorRetcode.NoDetails);var n=null==e?void 0:e[0].product_id;if(!t)return n;var r=e.find((function(e){var n;return(null===(n=e.term)||void 0===n?void 0:n.tid)===t}));return(null==r?void 0:r.product_id)||n},t.isCourse=g,t.isCoursePkg=m,t.getCid=y,t.getPid=_,t.getTid=function(e){if(g(e))return e.curTermId;return 0},t.getPurchaseUrl=function(e,t){return(0,u.isPC)()?"".concat(s.PURCHASE_URL_PC,"?").concat(b(e,t)):"".concat(s.PURCHASE_URL_H5,"?").concat(b(e,t))},t.getPurchaseParam=b,t.getPayDetailParam=function(e){return g(e)?{cid:e.cid}:{pid:e.pid}},t.getPayPriceParam=function(e){var t=(0,u.getQuery)("sourceBuy");return{buzz_id:100001,product_id:w(e),scene_id:t?201:200,source:0}},t.getProductIdParam=w,t.commonStringify=function(e){for(var t=Object.assign({},e),n=0,r=Object.entries(t);n<r.length;n++){var a=r[n],u=(0,o.default)(a,2),c=u[0],s=u[1];"object"===(0,i.default)(s)&&(t[c]=JSON.stringify(s))}return t},t.commonParse=function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],a=(0,o.default)(i,2),u=a[0],c=a[1];try{c=JSON.parse(c)}catch(e){}t[u]=c}return t},t.getWx=function(){var e=window.top&&window.top.window?window.top.wx:window.wx;if(!e)return(0,u.loadScript)("//res.wx.qq.com/open/js/jweixin-1.3.2.js").then((function(){return window.wx}));return Promise.resolve(e)},t.isDistributeForcePhoneAuth=function(){var e=(0,u.getQuery)("is_distribute_phone"),t=(0,u.getQuery)("pay_channel");return!(!e||!t)},t.getIsAgencyAuthMobileState=function(e,t){var n,r;if(!t)return!1;var i=null===(n=null==e?void 0:e.ext)||void 0===n?void 0:n.authPhone,o=(0,u.getUin)(),a=null==o?void 0:o.substr(o.length-1,1),c=a&&(null===(r=null==t?void 0:t.uin)||void 0===r?void 0:r.indexOf(a))>-1;return!(!i||!c)};var i=r(n("FO6Z")),o=r(n("+jPT")),a=r(n("gBQG")),u=n("F5LU"),c=n("2dtd"),s=n("22lB"),l=n("rRu0"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function f(e,t){if(!e&&"instalment"!==(null==t?void 0:t.payType))throw new c.CustomApplyFrontError(c.ApplyFrontErrorRetcode.NoCourse);var n=(null==e?void 0:e[0])||{};if(m(t))return n;var r=(t||{}).curTermId;return(null==e?void 0:e.find((function(e){var t;return(null===(t=e.term)||void 0===t?void 0:t.tid)===r})))||n}function p(e){var t=(null==e?void 0:e.source)||0;return t>=30&&t<=39}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=f(e,t);return null==n?void 0:n.order}function v(e){return 31===(null==e?void 0:e.source)}function g(e){return!!e.cid}function m(e){return!!e.pid}function y(e){return g(e)?e.cid:0}function _(e){return m(e)?e.pid:0}function b(e,t){var n=(0,u.getQueryObj)(),r=Object.assign({},n);return r=g(e)?Object.assign(Object.assign(Object.assign({},r),{cid:e.cid,tid:e.curTermId}),t):Object.assign(Object.assign(Object.assign({},r),{pid:e.pid}),t),(0,u.queryToString)(r)}function w(e){var t=y(e),n=_(e);return g(e)?{fid:String(t),sid:String(e.curTermId),type:"course"}:m(e)?{fid:String(n),type:"course_package"}:{}}},H4sh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ucRW");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},HP8Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dYBP");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("Qvqf");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},HYRq:function(e,t,n){var r=n("xeH2"),i=n("cb6p"),o=n("kprn"),a=n("AQBO"),u={},c={},s=o&&o.obj&&null!==o.obj(),l={whiteDomain:[],crossProxy:"",crossDomain:!1,localPrefix:"tdw_seq",seqName:"seq_number"},d=/^tdw_seq/;function f(e,t){r.isPlainObject(e)?t&&t(e):r.isArray(e)&&r.each(e,(function(e,n){t&&t(n)}))}function p(){a.getLocal({whiteDomain:l.whiteDomain,iframeUrl:l.crossProxy,crossDomain:l.crossDomain},(function(e){(u=e).filter(d,(function(e){var t;e=e.slice(0,2);for(var n=0;n<e.length;n++)(t=JSON.parse(e[n].value||"{}")).seq_number?(t.datas&&t.datas[0].push("local"),t.fields&&t.fields.push("source_from"),c.request(t)):u.remove(e[n].key)}))}))}function h(e){f(e,(function(e){e[l.seqName]=(new Date).getTime()+Math.random().toFixed(17).toString().replace(".","")}))}function v(e){var t=[];h(e),function(e,t){f(e,(function(e){t.push(r.extend({seq_number:e[l.seqName]},c.composer(e)))}))}(e,t),function(e){u.wasInit&&u.wasInit()&&r.each(e,(function(e,t){var n=l.localPrefix+t[l.seqName];u.set(n,JSON.stringify(t))}))}(t)}c.composer=i.composer,c.getCommonData=i.getCommonData,c.config=i.config,c.request=i.request,c.config({},{success:function(e,t){if(!u.wasInit||!u.wasInit())return;var n=t.fields,i=t.datas,o=r.inArray(l.seqName,n);r.each(i,(function(e,t){var n=l.localPrefix+t[o];u.remove(n)}))}}),c.report=function(e){v(e),i.report(e)},c.reportSync=function(e,t){v(e),i.reportSync(e,t)},c.initLocal=function(e){r.extend(l,e),d=new RegExp("^"+l.localPrefix),s&&p()},e.exports=c},HuLa:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGroupInfo=function(){var e=(0,c.getUrlParameter)("group_id");if(!e||p)return Promise.resolve(p);return(0,l.fetch)("/cgi-proxy/group_buy/group_detail?".concat((0,s.queryToString)({group_id:e}))).then((function(t){if(t.result){var n,r=(p=t.result).group_info||{},i=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}(p.record||[]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.is_owner){r.owner_head=o.user_url,r.nick_name=o.nick_name;break}}}catch(e){i.e(e)}finally{i.f()}return p}return a.default.error("group_detail data err.",e),null}))},t.Utils=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("HO9c")),u=n("fFtK"),c=n("bhbm"),s=n("VovU"),l=n("/m0i"),d=n("mAAe");function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=null;var h=function(){function e(t){(0,i.default)(this,e),this.group=t}return(0,o.default)(e,[{key:"updateGuest",value:function(e){this.guest=e}},{key:"getGroupId",value:function(){var e,t,n=this.formatExt();return"".concat((null===(t=null===(e=null==n?void 0:n.group_info)||void 0===e?void 0:e.group_info)||void 0===t?void 0:t.id)||"")}},{key:"getGroupPrice",value:function(){var e,t;return(null===(t=null===(e=this.group)||void 0===e?void 0:e.group_course)||void 0===t?void 0:t.price)||0}},{key:"isGroupSucc",value:function(){return!!this.group.group_state}},{key:"isGroupJoinOverTime",value:function(){var e,t,n,r=(0,d.getSvrTime)();return(null===(n=null===(t=null===(e=this.group)||void 0===e?void 0:e.group_info)||void 0===t?void 0:t.group_info)||void 0===n?void 0:n.endtime)<r}},{key:"isInviteGroupOverTime",value:function(){var e,t=null===(e=this.guest)||void 0===e?void 0:e.group_info.endtime;return"number"==typeof t&&t<(0,d.getSvrTime)()}},{key:"isInviteGroupFull",value:function(){var e,t=(null===(e=this.guest)||void 0===e?void 0:e.group_info.join_num)||0,n=this.getGroupTotalNum();return t>0&&n>0&&t>=n}},{key:"isGroupCourseOverTime",value:function(){var e,t=(0,d.getSvrTime)();return(null===(e=this.group.group_course)||void 0===e?void 0:e.endtime)<t}},{key:"isGroupFull",value:function(){var e,t=(null===(e=this.group.group_info)||void 0===e?void 0:e.group_info.join_num)||0,n=this.getGroupTotalNum();return t>0&&n>0&&t>=n}},{key:"isGroupJoined",value:function(){return this.group.group_flag}},{key:"isDifferentTermGroup",value:function(){var e,t,n;return!!(null===(e=this.guest)||void 0===e?void 0:e.group_course.tid)&&(null===(t=this.group.group_course)||void 0===t?void 0:t.tid)!==(null===(n=this.guest)||void 0===n?void 0:n.group_course.tid)}},{key:"hasIncomeGroup",value:function(){return!(this.isInviteGroupOverTime()||this.isInviteGroupFull()||this.isGroupJoined()||this.isGroupCourseOverTime())}},{key:"getGroupJoinNum",value:function(){var e,t;return(null===(e=this.group.group_info)||void 0===e?void 0:e.group_info.join_num)||(null===(t=this.guest)||void 0===t?void 0:t.group_info.join_num)||0}},{key:"getGroupTotalNum",value:function(){var e,t;return(null===(e=this.group.group_info)||void 0===e?void 0:e.group_info.quota)||(null===(t=this.group.group_course)||void 0===t?void 0:t.quota)||0}},{key:"getGroupNeedNum",value:function(){return this.getGroupTotalNum()-this.getGroupJoinNum()}},{key:"getGroupEndTs",value:function(){var e,t;return(null===(t=null===(e=this.group)||void 0===e?void 0:e.group_course)||void 0===t?void 0:t.endtime)||0}},{key:"getJoinGroupEndTs",value:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.group)||void 0===e?void 0:e.group_info)||void 0===t?void 0:t.group_info)||void 0===n?void 0:n.endtime)||0}},{key:"getNearSuccGroupList",value:function(){var e;return(null===(e=this.group)||void 0===e?void 0:e.group_info_list)||[]}},{key:"getGroupingInfo",value:function(){var e;return null===(e=this.group)||void 0===e?void 0:e.group_info}},{key:"getInvitedGroupInfo",value:function(){var e;return null===(e=this.guest)||void 0===e?void 0:e.group_info}},{key:"getDecrPrice",value:function(){var e;return(null===(e=this.group)||void 0===e?void 0:e.decr_price)||0}},{key:"formatExt",value:function(){try{return JSON.parse(this.group.discount_results[0].ext)}catch(e){return this.group}}},{key:"getGroupStatus",value:function(){return this.isGroupSucc()?u.GroupStatus.SUCCESS:this.isGroupJoined()?u.GroupStatus.GROUPING:this.isGroupJoinOverTime()?u.GroupStatus.EXPIRED:this.isGroupCourseOverTime()?u.GroupStatus.ENDED:this.isEnableJoinGroup()?u.GroupStatus.INVITED:u.GroupStatus.DEFAULT}},{key:"isEnableJoinGroup",value:function(){return(0,c.getUrlParameter)("group_id")}}]),e}();t.Utils=h},"I+bn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("iQ3l");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("9CSF");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},I4eM:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="login-tab mod-tab"> <a href="javascript:void(0)" id="login_close" class="btn-close" title="关闭"> <i class="icon-font i-close"></i> </a> <div class="enter-title">选择账号登录类型</div> <div class="enter-content"> <div class="content-avatar"> <div class="avatar-img"></div> </div> <div class="content-btns"> <a href="javascript:void(0);" data-type="1" class="js-btns-enter btns-enter btns-enter-qq"> <i class="icon-font i-qq"></i>QQ登录</a> <a href="javascript:void(0);" data-type="2" class="js-btns-enter btns-enter btns-enter-wx"> <i class="icon-font i-weixin"></i>微信登录</a> <div class="other-login-wrap"> <div class="other-login-text">其他登录方式</div> <a href="javascript:void(0);" data-type="3" class="js-btns-enter btns-enter btns-enter-sso"> <i class="sso-img"></i></a> <div class="other-login-text-sso">sso</div> </div> </div> </div></div>'),_$out_.join("")}}},I5uA:function(module,exports,__webpack_require__){var $=__webpack_require__("xeH2"),Check=__webpack_require__("oRpG"),Tab=__webpack_require__("vKou"),cookie=__webpack_require__("q+3g"),localStore=__webpack_require__("kprn"),report=__webpack_require__("lSPl"),longpoll=__webpack_require__("11nn"),frameTpl=__webpack_require__("r2H6"),enterTpl=__webpack_require__("I4eM"),weappcodeTpl=__webpack_require__("Et+f"),ssologinTpl=__webpack_require__("wayh"),DEFAULT_CONFIG={needMask:!0,mode:"xui",closeIcon:!1,target:"self",appid:715030901,daid:233},weixinCookie=["uid_a2","uid_type","uid_uin"],chooseLoginTypeCookie="ke_login_type",aboutBlank="about:blank",protocal=location.protocol,wxCssUri=[protocal,__webpack_require__("vpsa")].join(""),global=window,$win=$(global),$body=$("body"),tab,$mask,$loginFrame,config={},hostDomain=(location.hostname.match(/(\.\w+){2}$/)||["."+location.hostname])[0],eduDomain=(location.hostname.match(/(\.\w+){3}$/)||["."+location.hostname])[0],succQuene=[],closeQuene=[],weappLoginRequestTool={get_miniapp_qrcode:"/cgi-proxy/get_miniapp_qrcode",get_login_state:"/cgi-proxy/get_login_state"},getLoginStateFailNum=0,weappLoginStateTimer=null,isWeappCodeLogin=!0,fromSource="",weappId="wxa2c453d902cdd452",knowHost=!0,SUFFIX_HOST=".sso.ke.qq.com",PC_TIPS={DEFAULT:"可与企业/学校管理员咨询您的域名",HOST_ERROR:"域名格式错误",EMAIL_ERROR:"域名格式错误",NO_HOST:"未找到匹配域名"};function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}var reportMonitor=function(e){var t=[];e&&(isArray(e)?t=e:t.push(e),t.length&&((new Image).src="//tmapp.qq.com/cgi-bin/activity_platform/report/report_vm?monitors=["+t.join(",")+"]&_t="+(new Date).getTime()))},Tool={generateUrlForQq:function(e){var t={target:e.target,appid:e.appid,hide_close_icon:1-!!e.closeIcon,s_url:e.succUrl},n=[],r="/login_proxy.html"+(e.domain?"#domain="+e.domain:"");if(e.daid&&(t.daid=e.daid),e.noAuth&&(t.pt_no_auth=1),this.checkMode(config.mode)){n.push("//xui.ptlogin2"+hostDomain+"/cgi-bin/xlogin?");var i=location.href.split(/#|\?/)[0],o=i.indexOf("/",i.indexOf("//")+2),a=encodeURIComponent((-1!==o?i.substring(0,o):i)+r);t.proxy_url=e.proxyUrl||a,t.s_url=e.succUrl||a}else t.s_url=e.succUrl||encodeURIComponent("//ui.ptlogin2."+hostDomain+r),n.push("//ui.ptlogin2"+hostDomain+"/cgi-bin/login?");for(var u in e.style&&(t.style=e.style),t.low_login_enable=1,t)n.push(u+"="+t[u]);return n.join("&")},generateUrlForWx:function(){var e=location.href,t=[protocal,"//ke.qq.com/cgi-bin/uidaccount/login?ttype=4&account_type=2","&appid=wxa1fd810b3796f1a4&buz_id=122052647&redirect_uri=",encodeURIComponent(e)].join("");return["//open.weixin.qq.com/connect/qrconnect?appid=wxa1fd810b3796f1a4&redirect_uri=",encodeURIComponent(t),"&href=",encodeURIComponent(wxCssUri),"&response_type=code&scope=snsapi_login"].join("")},generateWeappCode:function(e,t){$.ajax({type:"Get",url:weappLoginRequestTool.get_miniapp_qrcode+"?rd="+Math.random(),data:{appId:weappId,page:"pages/login/login",width:200,autoColor:!1,red:0,blue:0,green:0,isHyaLine:!1},success:function(t){e&&e(t)},error:function(e){reportMonitor(34366172),t&&t(e),isWeappCodeLogin=!1,renderWeappCodeContainer()}})},getWeappLoginState:function(){$.ajax({type:"Get",url:weappLoginRequestTool.get_login_state+"?rd="+Math.random(),success:function(e){if(e&&0===e.retcode)switch(e&&e.result.state){case 0:break;case 1:reportMonitor(34366173),setTimeout((function(){location.reload()}),0);break;case 2:break;case 3:reportMonitor(34366174),$(".login-weapp-code").addClass("exprie").on("click",(function(e){renderWXLoginCode()})).find(".weappcode-img").remove(),clearInterval(weappLoginStateTimer);break;case 4:reportMonitor(34366175),renderWeappCodeContainer(),clearInterval(weappLoginStateTimer);break;default:clearInterval(weappLoginStateTimer)}else getLoginStateFailNum++,checkLoginStateDowngrade()},error:function(e){getLoginStateFailNum++,checkLoginStateDowngrade()}})},execTasks:function(e){for(var t=0,n=(e||[]).length;t<n;t++)try{e[t]()}catch(e){}},checkMode:function(e){return"xui"===e},str2JSON:function str2JSON(str){return eval("("+str+")")},getMaxHour:function(){return(new Date("2038-12-31").getTime()-new Date)/36e5},cookie:{set:function(e,t){cookie.set(e,t,eduDomain,"/",Tool.getMaxHour())}}};function checkLoginStateDowngrade(){getLoginStateFailNum>4&&(renderWeappCodeContainer(),clearInterval(weappLoginStateTimer),getLoginStateFailNum=0)}function bindCloseEvent(){$("#login_close").off("click").on("click",(function(e){clearInterval(weappLoginStateTimer),global.ptlogin2_onClose()}))}function bindEvent(){var e=$(".login-tab"),t=e.find(".mod-tab__content"),n=$("#login_close");bindCloseEvent(),e.off("changeTab").on("changeTab",(function(e,r){var i=0===r,o=t.eq(r);if(1!==o.data("inited")){var a=i?Tool.generateUrlForQq(config):Tool.generateUrlForWx();o.find("iframe").attr("src",a),o.data("inited",1)}2===r?n.addClass("btn-close-active"):n.removeClass("btn-close-active")}))}function bindChooseEvent(){var e=$(".login-tab");bindCloseEvent(),e.off("click").on("click",".js-btns-enter",(function(){var e=$(this).data("type");Tool.cookie.set(chooseLoginTypeCookie,e),show()}))}function bindSSOEvent(){var e=$(".sso-login-wrap"),t=$(".sso-login-input>input"),n=$(".sso-login-wrap .sso-input-tips"),r=$(".sso-login-wrap .sso-input__icon-img"),i=$(".sso-login-wrap .sso-error__icon-img");e.on("click",".sso-login-switch",(function(){knowHost=!knowHost,renderSSOContainer()})),e.on("click",".sso-input__icon",(function(){t.val(""),n.text(knowHost?PC_TIPS.DEFAULT:""),i.css({display:"none"})})),t.on("focus",(function(){r.css({opacity:1})})),t.on("blur",(function(){r.css({opacity:0})})),t.on("keypress",(function(e){13===e.which&&ssoLogin(t.val().trim())})),e.on("click",".sso-login-btn",(function(){ssoLogin(t.val().trim())}))}function checkInput(e){var t,n=$(".sso-login-wrap .sso-error__icon-img"),r=$(".sso-login-wrap .sso-input-tips");return(t=knowHost?isCorrectHost(e+SUFFIX_HOST):isCorrectEmail(e))?(n.css({display:"none"}),r.text(knowHost?PC_TIPS.DEFAULT:"")):(n.css({display:"inline-block"}),r.text(knowHost?PC_TIPS.HOST_ERROR:PC_TIPS.EMAIL_ERROR)),t}function ssoLogin(e){if(checkInput(e)){var t=$(".sso-login-wrap .sso-input-tips"),n=$(".sso-login-wrap .sso-error__icon-img"),r={action:"web"};knowHost?r.app_domain=e:r.app_mail=e,r.redirect_url=location.href,$.ajax({type:"Get",url:"/cgi-proxy/sso/auth",data:r,success:function(e){0===e.retcode?window.location.href=e.result&&e.result.redirect_url:(n.css({display:"inline-block"}),t.text(e.msg))},error:function(e){n.css({display:"inline-block"}),t.text(e.msg)}})}}function isCorrectHost(e){return/^[a-z0-9_-]+(\.[a-z0-9_-]+)+$/i.test(e)}function isCorrectEmail(e){return/^\w+@[a-z0-9]+\.[a-z]{2,4}$/i.test(e)}function messageCb(e){var t,n=e||global.event;if(-1!==(e.origin||"").indexOf("ptlogin2"))switch((t="undefined"!=typeof JSON?JSON.parse(n.data):Tool.str2JSON(n.data)).action){case"close":global.ptlogin2_onClose();break;case"resize":global.ptlogin2_onResize(t.width,t.height)}}function bindMessageAPI(e){void 0!==global.postMessage&&Tool.checkMode(e)&&$win.on("message",messageCb)}function unbindMessageAPI(e){void 0!==global.postMessage&&Tool.checkMode(e)&&$win.off("message",messageCb)}function init(e){e&&(fromSource=e.source,$loginFrame&&(e={succ:e.succ,close:e.close}),(config=$.extend({},DEFAULT_CONFIG,e)).succ&&succQuene.push(config.succ),config.close&&closeQuene.push(config.close))}function getFrameDom(){if($loginFrame)return $loginFrame;return($loginFrame=$("<div>").addClass("ptlogin-wrap")).css({"margin-top":-230,visibility:"visible",height:460}),$loginFrame}function initChoose(){($loginFrame=getFrameDom()).html(enterTpl({})),$body.append($loginFrame)}function showMask(e){e&&!$mask&&($mask=$("<div>").addClass("ptlogin-mask"),$body.append($mask))}function showFrame(e){reportMonitor(34366170);var t=1===e?Tool.generateUrlForQq(config):aboutBlank;$loginFrame=getFrameDom(),renderWXLoginCode((function(e){isWeappCodeLogin=!!e})),$loginFrame.html(frameTpl({qqConfig:{url:t,inited:1===e},wxConfig:{inited:2===e},ssoConfig:{inited:3===e}})),longpoll.init(),$body.append($loginFrame)}function renderWXLoginCode(e){Tool.generateWeappCode((function(t){if(t&&0===t.retcode){var n=t&&t.result&&t.result.QRCode;n&&(reportMonitor(34366171),$loginFrame.find(".login-weapp-code").removeClass("exprie"),clearInterval(weappLoginStateTimer),weappLoginStateTimer=setInterval((function(){Tool.getWeappLoginState()}),700)),e&&e(n)}else isWeappCodeLogin=!1,reportMonitor(34366172);renderWeappCodeContainer(n)}),(function(t){e&&e(),reportMonitor(34366172)}))}function renderWeappCodeContainer(e){e||reportMonitor(34366176),$loginFrame&&$loginFrame.find(".wx__tab .login-code-container").html(weappcodeTpl({weappCode:e||null,url:Tool.generateUrlForWx()||null})).removeClass("loading")}function renderSSOContainer(){$loginFrame&&($loginFrame.find(".sso__tab").html(ssologinTpl({knowHost:knowHost})).removeClass("loading"),bindSSOEvent())}function show(e){init(e),localStore.set("mobileBindInfo_lastLoginTime",+new Date),closeQuene.push((function(){localStore.remove("mobileBindInfo_lastLoginTime"),localStore.remove("mobileBindInfo_jump")}));var t=e&&e.type||parseInt(cookie.get(chooseLoginTypeCookie),10),n=config.needMask,r=config.mode;if(showMask(n),!$loginFrame||!$loginFrame.data("type")){if(!t)return initChoose(e),void bindChooseEvent();bindMessageAPI(r),showFrame(t),tab=new Tab(".login-tab",{pos:t-1}),bindEvent(),knowHost=!0,renderSSOContainer(),$.event.trigger("loginShow")}}function hide(){var e=config.mode;$mask.remove(),$loginFrame.remove(),$mask=void 0,$loginFrame=void 0,succQuene=[],closeQuene=[],unbindMessageAPI(e)}function logout(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;$.getScript("//ui.ptlogin2.qq.com/js/ptloginout.js",(function(){pt_logout.logout((function(){for(var n=0,r=weixinCookie.length;n<r;n++)cookie.del(weixinCookie[n],hostDomain),cookie.del(weixinCookie[n],eduDomain);localStore.remove("__userinfo"),$.event.trigger("logout"),config.onStatusChanged&&config.onStatusChanged(),e&&location.reload(),t&&t()}))}))}function isLogin(){return!!cookie.get("p_luin")&&!!cookie.get("p_lskey")||!!cookie.get("p_uin")&&!!cookie.get("p_skey")||!!cookie.get("uin")&&!!cookie.get("skey")||!!cookie.get("uid_uin")&&!!cookie.get("uid_a2")}function setUin(e){config.uin=e}function isUinChanged(){return config.uin!=cookie.uin()}function skey(){return cookie.get("p_lskey")||cookie.get("p_skey")||cookie.get("skey")}isLogin()&&Tool.cookie.set(chooseLoginTypeCookie,Check.isWeixinUser()?2:1),global.ptlogin2_onClose=function(){Tool.execTasks(closeQuene),hide(),clearTimeout(longpoll.timeout),$.event.trigger("loginCancel")},global.ptlogin2_onResize=function(e,t){$loginFrame&&$loginFrame.css({width:e-4,height:t,"margin-top":-t/2,"margin-left":-e/2,visibility:"visible"})},global.ptlogin2_login_ok=function(e){if(!config.uin)for(var t=0,n=weixinCookie.length;t<n;t++)cookie.del(weixinCookie[t],hostDomain),cookie.del(weixinCookie[t],eduDomain);Tool.execTasks(succQuene),$.event.trigger("login"),config.onStatusChanged&&config.onStatusChanged(),hide()};var Login={init:init,show:show,hide:hide,logout:logout,isLogin:isLogin,uin:cookie.uin,skey:skey,setUin:setUin,isUinChanged:isUinChanged};global.Login=Login,module.exports=Login},"ID+g":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PreFetcher=t.UrlKey=void 0;var i,o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("FO6Z")),s=n("F5LU"),l=n("D215"),d=n("P87J"),f=n("22lB"),p=n("GYbC"),h=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,c.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};t.UrlKey=i,function(e){e.PayData="payData",e.SasGreyAuthMobile="sasGreyAuthMobile"}(i||(t.UrlKey=i={}));var g=function(){function e(t){(0,a.default)(this,e),this.opts=t,this.payHook=l.PayHook.getInstance()}return(0,u.default)(e,[{key:"preFetch",value:function(){return v(this,void 0,void 0,o.default.mark((function e(){var t,n=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getDefaultUrls(),this.payHook.exec("prefetch",this.opts),e.abrupt("return",Promise.all(t.map((function(e){return(0,s.fetch)(e.url,e.params)}))).then((function(e){var r,i;return n.data=n.formatData(e,t),null===(i=null===(r=n.opts)||void 0===r?void 0:r.onPrefetchSucc)||void 0===i||i.call(r,n.data),n.data})).catch((function(e){throw e})));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getData",value:function(){return this.data}},{key:"formatData",value:function(e,t){return e&&e.reduce((function(e,n,r){var i=t[r],o=n&&n.result;return n&&n.date&&(o.date=n.date),e[i.key]=o,e}),{})}},{key:"getDefaultUrls",value:function(){var e=this.opts;return[{key:i.PayData,params:{data:(0,p.getPayDetailParam)(e)},url:f.CGI.payDetail},{key:i.SasGreyAuthMobile,url:f.CGI.sasGreyAuthMobile}]}}]),e}();t.PreFetcher=g,h([(0,d.log)("支付前置数据拉取",d.MonitorType.PREFETCH_SUCC,d.MonitorType.PREFETCH_ERR)],g.prototype,"preFetch",null),h([(0,d.log)("支付前置数据格式化")],g.prototype,"formatData",null)},Icf1:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];_$out_.push("\x3c!-- 后续改为直出 isomorph --\x3e");var latestTheme=ke_designCate_theme[0],lastTheme=ke_designCate_result[0],lastResult=ke_designCate_result[0].results,latestDesigners=latestTheme.designers,notYetStart=1e3*latestTheme.start_time>+new Date,ended=1e3*latestTheme.end_time<=+new Date;_$out_.push('<h2>免费批改作品</h2><h4>腾讯设计师免费为你批改作品</h4><p class="short-gray-line"></p><a title="查看作业批改频道页" class="design-revise-more-btn" href="/category/design_channel.html" target="_blank">更多<i class="icon-font i-v-right"></i></a><div class="lastest-revise-show"> <h3>',lastTheme.no,"期 ",lastTheme.theme,'<em class="sub-title">批改展示</em></h3> <ul class="before-after" id="before_after"> ');for(var i=0;i<lastResult.length;i++){var res=lastResult[i],href="/category/design_detail.html?no="+lastTheme.no+"&index="+i;_$out_.push(' <li style="',0==i?"":"display: none;",'"> <a title="查看作品详情" class="vs-wrapper" href="',href,'" target="_blank" report-tdw="action=click_PigaiCover&ver1=',i+1,'"> <div class="img-wrapper"><h4>原图</h4><img width="480px" height="360px" src="',res.ori_cover,'"/></div> <span class="vs-wording">VS</span> <div class="img-wrapper __after"><h4>批改后</h4><img width="480px" height="360px" src="',res.ret_cover,'"/></div> <span class="clearfix"></span> </a> <a title="查看作品详情" class="__advice" href="',href,'" target="_blank"> <h5>批改总评:</h5> <p>',res.comment,'</p> <span class="__inscription">——',res.designer.department,"／",res.designer.title,'</span> </a> <a title="查看批改视频" class="btn-default btn-see-video" href="/category/design_detail.html?no=',lastTheme.no,"&index=",i,'" target="_blank">查看批改视频<span class="video-play"><i></i></span></a> </li> ')}if(_$out_.push(" </ul> "),lastResult.length>1&&_$out_.push(' <span id="slick-prev-btn" class="slick-arrow icon-font i-v-left"><i></i></span> <span id="slick-next-btn" class="slick-arrow icon-font i-v-right"><i></i></span> '),_$out_.push(' \x3c!-- <ul class="lastest-revise-show-indicator"><li class="current"></li><li></li><li></li></ul> --\x3e</div>'),!ended){_$out_.push('<section class="revise-activity"> <div class="activity-detail ',notYetStart?"__notyet":"",'"> <span class="__desc">最新一期批改作品征集</span> <h3>',latestTheme.theme,'</h3> <span class="__ending" data-endtime="',latestTheme.end_time,'">距结束 00 : 00 : 00</span> <button id="btn_action" class="btn-weak btn-action">立即参与</button> <span class="submit-time">',$.render.time.formatDate("YYYY年MM月DD日",1e3*latestTheme.start_time),'<br/>开始提交作品</span> </div> <div class="invited-designers"> <h4>本期特邀设计师：</h4> <ul> ');for(var i=0;i<latestDesigners.length;i++)_$out_.push(' <li class="designer-item"> <img title="设计师头像" alt="设计师头像" src="',latestDesigners[i].logo,'"/> <span class="__name">',latestDesigners[i].name,'</span> <span class="__title">',latestDesigners[i].department,"<br/>",latestDesigners[i].title,"</span> </li> ");_$out_.push(' </ul> </div> <div class="wx-qrcode-design-course"> <img title="设计学院微信二维码" id="wx_qrcode" class="__qrcode" src=""/> <span class="__desc">微信扫码关注腾讯课堂设计学院，第一时间接收批改结果。</span> </div></section>')}return _$out_.join("")}}},IvuC:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PCMidas=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("F5LU"),u=n("uIhe"),c=r(n("OZ55")),s=n("0GaA"),l=function(){function e(t){(0,i.default)(this,e),this.callbackUrl=new s.CallbackUrl(t)}return(0,o.default)(e,[{key:"pay",value:function(e){var t=this;u.imlog.info("【支付模块】","【PC米大师sdk启动】",e);try{c.default.loadEnterPrise((function(){var n=(0,a.getUin)(),r=window.TEG;if(r&&r.Service&&r.Service.EnterprisePay){var i={token:null==e?void 0:e.token_id};new r.Service.EnterprisePay({appId:"1450008443",env:(null==e?void 0:e.is_sandbox)?"sandbox":void 0,isSeparatePage:!0,epExt:{backUrl:t.callbackUrl.getCallbackUrl(i),guideUrl:"//ke.qq.com/midas.html",native_wxpay:"true"},secure:!1,sessionType:"UNL",user:n,allowChannels:["wechat","bank","qqwallet"]}).pay({token:null==e?void 0:e.token_id,tokenUrl:null==e?void 0:e.url_params})}}))}catch(e){throw u.imlog.error("【支付模块】","【PC米大师sdk失败】",e),e}}}]),e}();t.PCMidas=l},J1Sy:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[],_backgroundColor=it.background_color||"rgba(255,255,255,0)",_backgroundHeight=it.background_height||110,_closeTop=(it.close_position.top||45)+"px",_closeRight=(it.close_position.right||45)+"px";return _$out_.push('<aside class="newcomer-welfare js-newcomer-welfare"> <div class="newcomer-welfare-background" style="background-color: ',_backgroundColor,"; height: ",_backgroundHeight,'px;" > </div> <img class="newcomer-welfare-img js-newcomer-welfare-img" src="',it.background_pic,'" /> <img class="newcomer-welfare-close js-newcomer-welfare-close" src="',it.close_pic,'" style="top: ',_closeTop,"; right: ",_closeRight,';" /></aside>'),_$out_.join("")}}},J9Yu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RECEIVE_STATE=t.REPORT_INTERVAL=t.ACTIVE_DURATION=void 0;t.ACTIVE_DURATION=5e3;var r;t.REPORT_INTERVAL=10,t.RECEIVE_STATE=r,function(e){e.UNKNOW="unknow",e.FIRST="first",e.DOING="doing",e.DONE="done",e.FAIL="fail",e.GOT="got",e.NOT_STUDY_COURSE="notStudyCourse"}(r||(t.RECEIVE_STATE=r={}))},J9ZD:function(e,t,n){"use strict";var r=n("A3sk"),i=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var o={getAllCouponDiscountList:!0,createDiscountByData:!0};t.getAllCouponDiscountList=function(e){return p(this,void 0,void 0,c.default.mark((function t(){var n,r,i,o,a,u,s;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={include:[d.InstitutionDiscountType.Coupon,d.PlatformDiscountType.Coupon]},r=new v(e,n),i=r.getCurInstitutionDiscount(),o=r.getCurPlatformDiscount(),t.next=6,i;case 6:return a=t.sent,t.next=9,o;case 9:return u=t.sent,s={institution:a,platform:u,getBestCoupon:function(){return u?u.utils.getBestCoupon():a?a.utils.getBestCoupon():null}},t.abrupt("return",s);case 12:case"end":return t.stop()}}),t)})))},t.createDiscountByData=function(e){return p(this,void 0,void 0,c.default.mark((function t(){var n;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=null==e?void 0:e.discount_sign,t.t0=n,t.next=t.t0===d.PlatformDiscountType.Coupon?4:t.t0===d.InstitutionDiscountTypeInPricing.Bargain||t.t0===d.InstitutionDiscountTypeInPricing.Coupon||t.t0===d.InstitutionDiscountTypeInPricing.Group||t.t0===d.InstitutionDiscountTypeInPricing.Partner||t.t0===d.InstitutionDiscountTypeInPricing.Seckill?5:6;break;case 4:return t.abrupt("return",(new l.default).createDiscountByData(e));case 5:return t.abrupt("return",(new s.default).createDiscountByData(e));case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)})))},t.default=void 0;var a=i(n("EAVL")),u=i(n("oywu")),c=i(n("gBQG")),s=r(n("EEHW"));Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=r(n("Qy0j"));Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var d=n("sPX+");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=n("5+fs");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},h={};var v=function(){function e(t,n){(0,a.default)(this,e);var r=Object.assign(Object.assign({},d.defaultDiscountModelOptions),n||{}),i=JSON.stringify({options:r,params:t});if(r.forceUpdate);else{var o=h[i];if(o)return this.institutionDiscountModel=null,this.platformDiscountModel=null,o}this.institutionDiscountModel=new s.default(t,r),this.platformDiscountModel=new l.default(t,r),h[i]=this}return(0,u.default)(e,[{key:"getCurInstitutionDiscount",value:function(){return this.institutionDiscountModel.getCurrentDiscount()}},{key:"getAllInstitutionDiscountList",value:function(){return this.institutionDiscountModel.getALLDiscountList()}},{key:"getInstitutionDiscountByType",value:function(e){return this.institutionDiscountModel.getInstitutionDiscountByType(e)}},{key:"getCurPlatformDiscount",value:function(){return this.platformDiscountModel.getCurrentDiscount()}},{key:"getAllPlatformDiscountList",value:function(){return this.platformDiscountModel.getALLDiscountList()}},{key:"getPlatformDiscountByType",value:function(e){return this.platformDiscountModel.getPlatformDiscountByType(e)}},{key:"getCurrentDiscountPrice",value:function(){return this.platformDiscountModel.getCurrentDiscountPrice()}},{key:"getCouponDiscountPrice",value:function(){return this.platformDiscountModel.getCouponDiscountPrice()}},{key:"getCurrentDiscountPayButtonData",value:function(){return this.platformDiscountModel.getCurrentDiscountPayButtonData()}},{key:"getCouponDiscountPayButtonData",value:function(){return this.platformDiscountModel.getCouponDiscountPayButtonData()}},{key:"getBargainDiscountBottomPayButtonData",value:function(){return this.platformDiscountModel.getBargainDiscountBottomPayButtonData()}}]),e}();t.default=v},JBhT:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getSasData=p,t.checkObnCourse=g,t.getActOpts=function(e){return f(this,void 0,void 0,a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([g(e)]).then((function(e){return{isObn:(0,o.default)(e,1)[0]}})));case 1:case"end":return t.stop()}}),t)})))},t.getJumpUrl=m,t.getObnOperateUrl=function(){return f(this,void 0,void 0,a.default.mark((function e(){var t,n,r,i,o,c,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.default.info("【支付模块】","【老带新数据拉取】"),e.next=4,p();case 4:return t=e.sent,n=t.result,r=(void 0===n?[]:n)[0]||{},i=r.skinInfo,o=void 0===i?{}:i,c=r.baseInfo,s=void 0===c?{}:c,e.abrupt("return",{closeUrl:o.closeUrl,iconUrl:o.iconUrl,jumpUrl:m(s.jumpUrl),maskUrl:o.maskUrl,maskUrlForNew:o.maskUrlForNew});case 10:e.prev=10,e.t0=e.catch(0),u.default.error("【支付模块】","【老带新数据拉取失败】",e.t0);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))},t.checkObnIdIsValid=function(e){var t;return f(this,void 0,void 0,a.default.mark((function n(){var r,i,o,c,l,f,p,h,v;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new d.ObnAct,n.prev=1,n.next=4,i.getIsObn();case 4:o=n.sent,r=null===(t=null==o?void 0:o.result)||void 0===t?void 0:t.actId,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),u.default.error("【支付模块】","【obn actId检查是否有效失败】",n.t0);case 11:if(r){n.next=13;break}return n.abrupt("return",!1);case 13:return n.prev=13,u.default.info("【支付模块】","【obnid检查是否有效】"),n.next=17,(0,s.fetch)("/cgi-proxy/obn/get_obn_quota",{data:{obn_id:e,act_id:r}});case 17:return c=n.sent,l=c.result,p=(f=void 0===l?{}:l).invited_count,h=f.obn_quota,v=h-p>0,n.abrupt("return",v);case 24:n.prev=24,n.t1=n.catch(13),u.default.error("【支付模块】","【obnid检查是否有效失败】",n.t1);case 27:return n.abrupt("return",!1);case 28:case"end":return n.stop()}}),n,null,[[1,8],[13,24]])})))},t.getObnDBData=function(){return f(this,void 0,void 0,a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.default.info("【支付模块】","【老带新后台数据逻辑开始】"),e.next=4,v();case 4:return t=e.sent,n=t.result,r=void 0===n?{}:n,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),u.default.error("【支付模块】","【老带新后台数据拉取失败】",e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))},t.getObnParam=y,t.getObnId=_,t.setObnParam=function(e,t){var n=b(t);try{c.default.setItem(n,JSON.stringify(e)),u.default.info("[obnId set session]",n,e)}catch(e){u.default.error("[obnId set err]",e)}},t.addObnIdParam=function(e){var t=_();t&&(e.orderReportExt=e.orderReportExt||{},e.orderReportExt.obn_id=t);return e},t.DBResultActEndType=void 0;var i,o=r(n("+jPT")),a=r(n("gBQG")),u=r(n("HO9c")),c=r(n("jRE9")),s=n("F5LU"),l=n("GMyB"),d=n("5Qq2"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function p(){return(0,s.fetch)("//sas.qq.com/cgi-bin/ke_act_obn")}t.DBResultActEndType=i,function(e){e[e.notEnd=0]="notEnd",e[e.preEnd=1]="preEnd",e[e.normalEnd=2]="normalEnd"}(i||(t.DBResultActEndType=i={}));var h={};function v(){return f(this,void 0,void 0,a.default.mark((function e(){var t,n,r,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.href,n=Number((0,l.getCidFromUrl)(t)),r=0,n||(r=Number((0,l.getPidFromUrl)(t))),n||r||u.default.error("【老带新运营位】取不到参数",t),!h[i=n||r||"common"]){e.next=8;break}return e.abrupt("return",Promise.resolve(h[i]));case 8:return u.default.info("【支付模块】","【老带新后台数据开始拉取】"),e.next=11,(0,s.fetch)("/cgi-proxy/obn/has_obn_qualification",{data:n?{course_id:n}:{pkg_id:r}});case 11:return o=e.sent,h[i]=o,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))}function g(e){return f(this,void 0,void 0,a.default.mark((function t(){var n,r,i,o,c,s,l,d,f,h;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.default.info("【支付模块】","【老带新数据拉取】"),t.next=4,p();case 4:if(n=t.sent,r=n.result,i=void 0===r?[]:r,o=n.date,c=void 0===o?0:o,s=i[0]||{},l=s.courses,d=void 0===l?[]:l,f=s.baseInfo,!(c<(h=void 0===f?{}:f).beginTs||c>h.endTs)){t.next=10;break}return t.abrupt("return",!1);case 10:return t.abrupt("return",d.some((function(t){return t.courseId===e||t.pkgId===e})));case 13:throw t.prev=13,t.t0=t.catch(0),u.default.error("【支付模块】","【老带新数据拉取失败】",t.t0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))}function m(e,t){var n=e||"https://m.ke.qq.com/act/obn_h5/index/index.html",r=(0,l.getCidFromUrl)(),i=(0,l.getPidFromUrl)(),o="&obnId=".concat(t);return r?"".concat(n,"?course_id=").concat(r).concat(t?o:""):i?"".concat(n,"?pkg_id=").concat(i).concat(t?o:""):n}function y(e){var t=b(e),n=(0,s.getQuery)("obnId"),r=(0,s.getQuery)("obnPrice"),i={obnId:n,obnPrice:r};if(n&&r)return i;try{var o=c.default.getItem(t);return o?JSON.parse(o):i}catch(e){return u.default.error("[param get err]",e),i}}function _(e){var t=(y(e)||{}).obnId;return(void 0===t?0:t)||(0,s.getQuery)("obn_id")}function b(e){var t=(0,s.getLocation)(),n=Number((0,l.getCidFromUrl)(t.href)),r=0;return n||(r=Number((0,l.getPidFromUrl)(t.href))),"OBN_NEW_ID_".concat(e||n||r)}},JSlF:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=r(n("f3LS")),l=n("bhbm"),d=r(n("tgnt"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function h(e,t){var n=(0,s.default)(e,{},!0);return n.set("query",Object.assign(Object.assign({},n.query),null==t?void 0:t.query)),n.toString()}var v={wxa2c453d902cdd452:{course:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.cid,r=e.tid,i="/pages/course/course?cid=".concat(n);r&&(i+="&termId=".concat(r));var o=h(i,t);return o},agency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aid;return"/pages/agency/agency?aid=".concat(t)},coursePkg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pid;return"/pages/course-pkg/course-pkg?pid=".concat(t)},courseList:function(){return"/pages/list/list"},index:function(){return"/pages/index/index"}},agency:{course:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cid,n=e.tid,r="/pages/home/courseDetail/courseDetail?course_id=".concat(t,"&mp=1");return n&&(r+="&term_id=".concat(n)),r},agency:function(){return"/pages/home/agencyHome/agencyHome"},taskList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cid,n=e.tid,r=e.chid,i=e.sid;n=n?"&term_id=".concat(n):"",r=r?"&ch=".concat(r):"",i=i?"&sub=".concat(i):"";var o="/pages/home/taskList/taskList?course_id=".concat(t).concat(n).concat(r).concat(i);return o}}},g=v[(0,l.getQuery)("weappId")||"agency"]||v.agency,m=function(e){(0,a.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"navigateTo",value:function(e){e&&wx.miniProgram.navigateTo({url:e})}},{key:"switchTab",value:function(e){e&&wx.miniProgram.switchTab({url:e})}},{key:"jumpHome",value:function(){var e=g.index?g.index():"";this.switchTab(e)}},{key:"jumpAgencyHome",value:function(e){var t=g.agency?g.agency(e):"";this.navigateTo(t)}},{key:"jumpCourseDetail",value:function(e,t){var n=g.course?g.course(e,t):"";this.navigateTo(n)}},{key:"jumpCoursePkg",value:function(e,t){var n=g.coursePkg?g.coursePkg(e):"";this.navigateTo(n)}},{key:"jumpTeacherHome",value:function(e,t){}},{key:"jumpTaskList",value:function(e,t){var n=g.taskList?g.taskList(e):"";this.navigateTo(n)}},{key:"jumpCommonAct",value:function(e,t){var n="/pages/common-act/common-act?url=".concat(encodeURIComponent(e));Object.keys(t).forEach((function(e){n+=t[e]?"&".concat(e,"=").concat(t[e]):""})),this.navigateTo(n)}},{key:"jumpLogin",value:function(){this.navigateTo("/pages/login/login")}},{key:"jumpPlan",value:function(){wx.miniProgram.switchTab({url:"/pages/plan/plan"})}},{key:"jumpAuth",value:function(e,t){var n="/pages/common-act-auth/common-act-auth?url=".concat(encodeURIComponent(e));Object.keys(t).forEach((function(e){n+=t[e]?"&".concat(e,"=").concat(t[e]):""})),this.navigateTo(n)}},{key:"jumpNewcomerWelfareV2",value:function(e){var t=(0,l.setUrlQuery)(e,{url:"/pages/newcomer-welfareV2/newcomer-welfareV2"});this.navigateTo(t)}},{key:"jumpDailyTaskPrizesExchange",value:function(e){var t=e.hash,n=p(e,["hash"]),r="https://m.ke.qq.com/m-core/dailyTaskPrizesExchange.html#".concat(t);this.jumpCommonAct(r,n)}},{key:"jumpWebView",value:function(e,t){var n="/pages/web-view/web-view?url=".concat(encodeURIComponent(e));t&&Object.keys(t).forEach((function(e){n+=t[e]?"&".concat(e,"=").concat(t[e]):""}));this.navigateTo(n)}},{key:"jumpContactGuide",value:function(e){var t=(0,l.setUrlQuery)(e||{},{url:"/pages/contact-guide/contact-guide"});this.navigateTo(t)}}]),n}(d.default);t.default=m},Jny1:function(e,t,n){var r=n("cDf5"),i=n("xeH2"),o=n("U48D"),a={url:"",isd:{page_start:0,page_css_ready:20,page_js_ready:21,page_main_start:22,page_main_end:23,page_render_end:24,page_render_fp:25,inline_script_run_time:26}},u={},c={},s={},l=window.TRecord,d={unloadEventStart:1,unloadEventEnd:2,redirectStart:3,redirectEnd:4,fetchStart:5,domainLookupStart:6,domainLookupEnd:7,connectStart:8,connectEnd:9,requestStart:10,responseStart:11,responseEnd:12,domLoading:13,domInteractive:14,domContentLoadedEventStart:15,domContentLoadedEventEnd:16,domComplete:17,loadEventStart:18,loadEventEnd:19},f={core:{},agency:{},user:{}};if(l&&l.getCachedData){var p=l.getCachedData();f=l.maps,i.extend(a,p.cfg),i.extend(u,p.speedPoints)}function h(e,t){u[e]=t||new Date-0}function v(e,t){var n="",r=100*Math.random()+1;for(var i in t)t.hasOwnProperty(i)&&(n+="&"+i+"="+t[i].cost);if(c[e]={},!0===a.isWang)return o.report(e,n);if(e&&n){n="//isdspeed.qq.com/cgi-bin/r.cgi?"+e+n+"&r="+r;var u=new Image;u.src=n,u=null}}function g(e,t,n){if("number"==typeof n&&n>=0){var r=e[t];r?(r.cost=Math.round((r.num*r.cost+n)/(r.num+1)),r.num+=1):e[t]={cost:n,num:1}}}h("page_start",function(){if(window.performance&&window.performance.timing)return window.performance.timing.navigationStart;return window.T&&window.T[0]}()),e.exports={cfg:a,maps:f,push:h,report:function(e,t){var n=t&&t.url||a.url;e=e||["page_start","page_css_ready","page_js_ready","page_main_start","page_main_end","page_render_end","page_render_fp","inline_script_run_time"],/\d{4}-\d{1,2}-\d{1,2}/.test(n)&&(n=function(e){var t=e.split("-");return"flag1="+t[0]+"&flag2="+t[1]+"&flag3="+t[2]}(n)),"cgi"==e.type?n="flag1=7832&flag2=39&flag3=25":"cgiFail"==e.type&&(n="flag1=7832&flag2=39&flag3=27"),s[n]&&clearTimeout(s[n]),t=t||{},c[n]||(c[n]={});var o=c[n],l=i.extend(a.isd,t.isd),f=null;if(e&&"object"==r(e))if(e instanceof Array){for(var p=0;p<e.length;p++){var h=e[p];if(0==p)f=u[h];else{var m=u[h]-f;(m<=0||isNaN(m))&&(m=1),o[l[h]]={cost:m,num:1}}}!function(e,t){if(!window.performance||e)return t;var n,r,i,o=window.performance.timing;for(var a in t||(t=[]),n=o.navigationStart,d)(r=d[a])<20&&(i=o[a]-n,isNaN(i)||(i<=0&&(i=1),t[r]={cost:i,num:1}))}(t.noPerformance,o)}else if("cgi"==e.type||"cgiFail"==e.type){var y=function(e){return window.ISD_cgi_map&&window.ISD_cgi_map[e]||1}(e.cgi);g(o,y,e.cost)}else for(var _ in e)e.hasOwnProperty(_)&&g(o,_,e[_]);var b=0===t.delay?0:t.delay||500;b?s[n]=setTimeout((function(){v(n,o)}),b):v(n,o)},getSpeedPoints:function(){return u}}},JpvR:function(e,t,n){var r=n("xeH2"),i=n("I5uA"),o=n("EY/S"),a=n("0HC3"),u=!1,c=n("lSPl"),s=n("yQmY"),l=n("kprn"),d=n("sWVP").isDownGradeTerm,f=n("bJ0f"),p=null,h=r(window),v=["/admin/agency_join.html","/admin/personal_join.html","/admin/index.html","/admin/publish.html"],g=a.getHash("auto_open_msg")||a.query("auto_open_msg");function m(e){var t,n=function(t){t&&t.is_login?(e.succ&&e.succ(),u=!0):e.fail?e.fail():i.show({succ:function(){window.location.reload()},source:1})};if(u){try{"string"==typeof(t=JSON.parse(localStorage.getItem("__userinfo")||"{}"))&&(t=JSON.parse(t))}catch(e){}n(t)}else o.getInfo().then((function(e){n(e)}))}function y(){0!==h.scrollTop()?p.clearQueue().fadeIn():p.clearQueue().fadeOut()}function _(e,t,n){var r=-t.slice(0,-2)/2+"px",i=-n.slice(0,-2)/2+"px";e.hasClass("msg-iframe-show")?(e.css({transform:"scale(0)",right:r,bottom:i}).removeClass("msg-iframe-show"),setTimeout((function(){e.css({transform:"scale(1)",right:"81px",bottom:0,transition:"transform 0.3s, right 0.3s, bottom 0.3s"})}),0)):(e.css({transform:"scale(0)",right:r,bottom:i,opacity:0,transition:"transform 0.3s, right 0.3s, bottom 0.3s, opacity 0.3s"}),setTimeout((function(){e.addClass("msg-iframe-show"),e.css({transform:"scale(1)",right:"81px",bottom:0,opacity:1})}),300))}function b(e){for(var t=!1;e[0]&&"BODY"!==e[0].tagName;){if(e[0].className.indexOf("modal")>=0){t=!0;break}e=e.parent()}return t}function w(e){var t="",n=window.metaData||{},i=n.saler_uin,o=n.aid||n.org_id,u=parseInt(n.course_type,10)||1,c=1===u?n.cid:n.id,s=a.getHash("msg_aid")||a.query("msg_aid"),l=a.getHash("msg_re_uin")||a.query("msg_re_uin");switch(e){case 0:t=["//ke.qq.com/letter/index.html#/?",r.param({type:u,id:c})].join("");break;case 1:t=["//ke.qq.com/letter/index.html#/?",r.param({type:u,id:c,agencyId:o,receiverUin:i,isConsult:1})].join("");break;default:t="//ke.qq.com/letter/index.html",g&&l&&s&&(t+="#/?agencyId="+s+"&receiverUin="+l+"&isConsult=1")}return t}e.exports={init:function(){var e,t,n=window.metaData||{},i=(n.termObj||{})[n.cur_term_id];r("body").append(s({isWhiteAgency:d(i)})),r("#js-qrcode-container"),p=r("#js-jump-container"),y(),function(){var e,t,n=r("#js-side-operation"),i=r("#js-jump-to-top"),a=r("#js-jump-plan-container"),s=r("#js-plane"),d=r("#js-tips-close"),f=(r("#js-qrcode-icon"),r("#js-qrcode-wording"),r("#js-private-msgs")),h=r("#private-msgs-iframe"),k=(r("#msg-red-point"),r("#js-async-download")),P=r("#async-download-iframe"),x=(r("#download-red-point"),r("#js-qrcode-container"));"ke.qq.com"!==location.host&&f.hide(),-1!=r.inArray(location.pathname,v)&&n.find(".js-c-special").css({display:"block"}),o.getInfo().then((function(n){n&&n.is_login&&(h.attr("src",w()),h.on("load",(function(){e=h.css("width"),t=h.css("height")})))})),v[2]===location.pathname&&n.find(".js-feedback-link").attr("href","https://ke.qq.com/faq.html#id=11");var C=0;function O(e){var t=r(e.target),n=h.is(":visible")&&(t.hasClass("i-message")||t.hasClass("msg-iframe")||t.hasClass("btn-advice-qq")||t.hasClass("show-letter")||t.hasClass("js-modal-bg")||b(t)),i=P.is(":visible")&&(t.hasClass("i-file-download")||t.hasClass("download-iframe")||t.hasClass("btn-advice-qq")||t.hasClass("show-download")||t.hasClass("js-modal-bg")||b(t));!n&&h.is(":visible")&&(sessionStorage.crm_specific_send_msg&&sessionStorage.removeItem("crm_specific_send_msg"),h.toggleClass("msg-iframe-show"),f.toggleClass("side-service-item-active")),!i&&P.is(":visible")&&(P.toggleClass("msg-iframe-show"),k.toggleClass("side-service-item-active"))}r(window).on("scroll",(function(e){clearTimeout(C),C=setTimeout(y,300)})),p.on("mouseenter",(function(e){i.addClass("mod-side-operation__jump-to-top-hover"),a.show().css({top:0}),s.css("top","60px").animate({top:2})})).on("mouseleave",(function(e){i.removeClass("mod-side-operation__jump-to-top-hover"),s.stop().css("top","60px")})),f.on("click",(function(n,r){m({succ:function(){u||h.attr("src",w(0)),e?_(h,e,t):h.toggleClass("msg-iframe-show"),f.toggleClass("side-service-item-active"),c.tdw({action:"click",module:"message",position:r?"topbar":"sidebar",ver1:f.hasClass("side-service-item-active")?"open":"close"}),sessionStorage.crm_specific_send_msg&&sessionStorage.removeItem("crm_specific_send_msg")}})})),k.on("click",(function(){m({succ:function(){if(e?_(P,e,t):P.toggleClass("msg-iframe-show"),k.toggleClass("side-service-item-active"),k.hasClass("side-service-item-active")){if(!window.location.origin){var n=window.location.protocol,r=window.location.hostname,i=window.location.port;i=i?":"+i:"",window.location.origin=n+"//"+r+i}P[0].contentWindow.postMessage("update_download_list",window.location.origin)}}})})),window.addEventListener("storage",(function(){var e=null;try{sessionStorage.getItem("crm_specific_send_msg")&&(e=JSON.parse(sessionStorage.getItem("crm_specific_send_msg")))}catch(e){}e&&(h.attr("src","//ke.qq.com/letter/index.html#/agency"),h.toggleClass("msg-iframe-show"),f.toggleClass("side-service-item-active"))})),r(document).on("show_private_msg",(function(){m({succ:function(){h.toggleClass("msg-iframe-show"),f.toggleClass("side-service-item-active"),h.attr("src",w(1))}})})).on("show_async_download",(function(){m({succ:function(){P.toggleClass("msg-iframe-show"),k.toggleClass("side-service-item-active"),k.hasClass("side-service-item-active")&&P[0].contentWindow.postMessage("update_download_list",location.origin)}})})).on("click",O).on("ready",(function(){var e=document.getElementById("js-react-frame");e&&e.contentWindow&&e.contentWindow.addEventListener("click",O)})),a.on("click",(function(e){s.triggerHandler("click")})),s.on("click",(function(e){var t=r(this),i=n.offset().top;1!=t.prop("flying")&&(t.prop("flying",1),a.animate({top:-i-500+"px"}),setTimeout((function(){r("html, body").animate({scrollTop:0},(function(){t.prop("flying",0)}))}),50),c.tdw({action:"up"}),e.preventDefault())})),d.on("click",(function(e){x.removeClass("item-hover-tips__show"),e.preventDefault(),e.stopPropagation(),l.set("qrcode-close",1)})),g&&(h.toggleClass("msg-iframe-show"),f.toggleClass("side-service-item-active"))}(),window.updateDownloadPoint=function(t){var n=r("#download-red-point"),i=r("#download-num");0!==n.length&&0!==i.length&&i.text()!==t+""&&("!"===t?(e&&clearTimeout(e),n.removeClass("red-point-shake"),i.removeClass("red-num-up").addClass("red-num-down"),e=setTimeout((function(){i.removeClass("red-num-down").addClass("red-num-up").text(t),n.addClass("red-point-shake").css("display","block")}),200)):t<=0?(t=0,i.text(""),n.css("display","none")):(e&&clearTimeout(e),n.removeClass("red-point-shake"),i.removeClass("red-num-up").addClass("red-num-down"),e=setTimeout((function(){i.removeClass("red-num-down").addClass("red-num-up").text(t<=99?t:"99+"),n.addClass("red-point-shake").css("display","block")}),200)))},window.showAsyncDownload=function(e){var n="//ke.qq.com/async_download/index.html";e&&(n+="?aid="+e),t!==n&&(r("#async-download-iframe").attr("src",n),t=n),r("#js-async-download").css("display","block")},window.hideAsyncDownload=function(){r("#js-async-download").css("display","none")},f.init()},togglePrivateMsg:function(e){r("#js-private-msgs").triggerHandler("click",e)}}},KSWt:function(e,t,n){var r,i,o=n("0HC3"),a=[{page:"/storage_proxy.html"},{page:"/course/\\d+",query:{from:"1000502001"}},{page:"/views/courseDetail/index.html",query:{from:"1000502001"}},{page:"/morecheese/index.html"},{page:"/morecheeseDetail/index.html"}];function u(){top.location.href=document.location}function c(){try{var e=top.window.location.href;/^http[s]*\:\/\/[^\/]+?qq.com/g.test(e)||u()}catch(e){u()}}for(var s=window.location.pathname||"",l=!1,d=0;d<a.length;d++)if(r=a[d].page,i=a[d].query,s.match(new RegExp(r))){if(i){for(var f in i)if(o.query(f)===i[f]){l=!0;break}}else l=!0;if(l)break}l||function(){if(top!=self)try{var e=top.window.location.href;/^http[s]*\:\/\/[^\/]+?qq.com/g.test(e)||u()}catch(e){try{document.domain="qq.com"}catch(e){}c()}}()},Ko1n:function(e,t,n){var r,i,o=n("xeH2"),a=n("XKbg"),u=n("EY/S"),c=n("vzzd"),s=n("Mry8"),l={},d={course_nump:0,fav_num:0,coupon_num:0},f={term_id:0,task_id:0,task_name:"",task_bit_flag:0,transcode_flag:0,cid:0,task_bgtime:0,task_endtime:0,room_url:""};function p(){l.is_login&&i.html(s({userInfo:l,statistics:d,incomingClass:f},{strEllipsis:c}))}e.exports={init:function(e){i=o(".js-user-schedule"),r=e,u.getInfo().then((function(e){var t;o(".mod-board").hide(),l=e,p(),l.is_login&&(t=p,a.getStatistics({succ:function(e){d=e.result,t()},err:function(){return r.hide(),!0}}),function(e){a.getIncomingClass({succ:function(t){f=t.result,e(),f&&f.cid&&r.addClass("show")},err:function(){return r.hide(),!0}})}(p)),i.show()})),r.on("click",".js-open-url",(function(e){var t=o(this);o(e.target).hasClass("js-open-tencent")||(window.location.href=t.attr("data-target"))}))}}},L27N:function(e,t,n){var r=n("xeH2"),i=n("0HC3"),o=n("1RNr"),a=n("kprn"),u=n("lSPl"),c=n("ZgCD"),s=n("lSPl"),l=n("ytua");function d(e){this._init(e)}function f(e){var t={108001:"报名关系不存在(".concat(e,")"),_default:"加载信息失败(".concat(e,")")};return t[e]||t._default}function p(e){var t=e.isCodingFlag,n=e.cid,r=e.termId,i="//ke.qq.com/user/index/index.html#sid=plan";!t&&n&&r&&(i="//ke.qq.com/webcourse/index.html#course_id=".concat(n,"&term_id=").concat(r),u.tdw({action:"click",page:"course",module:"playlive",position:"subscribe",ver1:n,ver2:1})),window.location.href=i}function h(e){var t={},n=(e=e||{}).cid||i.query("cid")||0,a=e.pkgId||i.query("pkg_id")||0,u=0,c=!1,s=location.pathname.match(/\/course\/([0-9]+)/),l=location.pathname.match(/\/package\/([0-9]+)/);if(s&&(n=s[1],e.cid&&(n=e.cid)),l&&(a=l[1]),n){t.cid=n;var p=function(e){for(var t=(window.metaData||{}).terms||[],n=0;n<t.length;n++)if(t[n].term_id===e)return t[n];return null}(u=(u=window.metaData&&window.metaData.cur_term_id)||i.query("term_id")||i.getHash("term_id")||0);c=p&&p.term_type_coding_college,0!==parseInt(u,10)&&(t.term_id=u)}else{if(!a)return;t={pkg_id:a}}!function(e,t){if(i.query("pay_succ")){var n,a={};e?(n="getUserApplyInfo",a={cid:e}):t&&(n="getPkgApplyInfo",a={pkg_id:t}),n&&(r.extend(a,{platform:i.query("platform")||0,from:i.query("from")||0,pagelocation:i.query("pagelocation")||0}),o[n]({param:a,succ:function(){}})),BJ_REPORT.debug({msg:"企业支付成功页面",ext:{msid:2532600}})}}(n,a),o.getUserPhoneInfo({param:t,succ:function(t){var r=t&&t.result||{},i=r.auth_info||{};new d({aid:i.aid,cid:n,termId:u,pkgId:a,agencyName:i.agency_name,mobile:r.user_mobile&&"(尾号".concat(r.user_mobile.substr(7),")"),conflict:r.conflict||{},groupInfo:r.c_cgroup||r.group_detail||{},showAuth:!i.auth_flag,isCodingFlag:c,customOfficialAccount:e.customOfficialAccount,renderOfficialAccount:e.renderOfficialAccount,onRendered:e.onRendered,onAuthed:e.onAuthed,onManage:e.onManage,onHoverQrcode:e.onHoverQrcode,onStudy:e.onStudy,onClose:e.onClose})},err:function(e){return r.modal.alert(f(e.retcode)),!0}})}o.extend({getUserApplyInfo:o.httpMethod({url:"/cgi-bin/tool/get_user_apply_info"}),getPkgApplyInfo:o.httpMethod({url:"/cgi-bin/tool/get_course_package_user_apply_info"}),getUserPhoneInfo:o.httpMethod({url:"/cgi-bin/user/check_user_set_phone"}),setUserAuth:o.httpMethod({url:"/cgi-bin/user/set_user_info",type:"POST"})}),r.extend(d.prototype,{_init:function(e){this.cid=e.cid,this.pkgId=e.pkgId,this.termId=e.termId,this.aid=e.aid,this.isCodingFlag=e.isCodingFlag,this.opts=e,this._render(e),this._initEvent()},_exec:function(e,t){"function"==typeof e&&e.apply(this,t||[])},_render:function(e){var t=l(e);if(this.$bg=r('<div tabindex="-1" class="phone-collector-bg mask"></div>').appendTo(document.body),this.$el=r(t).appendTo(document.body),e.customOfficialAccount){var n=r(".js-official-account");this.opts.renderOfficialAccount&&this.opts.renderOfficialAccount(n)}this._exec(this.opts.onRendered,[e.conflict])},_initEvent:function(e){var t=this,n=r(".apply-success-footer .js-mobile");t.$el.on("click",".js-close-btn",(function(){t._exec(t.opts.onClose),t.destroy(),t.pkgId&&location.reload()})).on("click",".js-auth-contact",(function(){var e=r(this);e.toggleClass("checked"),n.length>0&&r(".apply-success-footer a").toggleClass("hidden"),t._exec(t.opts.onAuthed,[e.hasClass("checked")])})).on("click",".js-course-manage",(function(){t._exec(t.opts.onManage)})).on("mouseenter",".js-qrcode-icon",(function(){var e=this,n=setTimeout((function(){t._exec(t.opts.onHoverQrcode,[!0]),r(e).data("timer",null)}),3e3);r(this).data("timer",n)})).on("mouseleave",".js-qrcode-icon",(function(){var e=r(this).data("timer");e&&(clearTimeout(e),t._exec(t.opts.onHoverQrcode,[!1]))})).on("click",".js-study",(function(){t._exec(t.opts.onStudy),r(".js-auth-contact").hasClass("checked")?function(e,t,n){if(e.hasClass("loading")||!t.aid)return;e.addClass("loading"),o.setUserAuth({param:{auth_flag:t.aid},succ:function(){"function"==typeof n&&n(),p(t)},err:function(t){return e.removeClass("loading"),r.modal.alert(f(t.retcode)),!0}})}(r(this),t,(function(){p(t)})):p(t),t.destroy()})).on("click",".js-mobile",(function(){t.destroy(),c.checkBinded((function(e){e?p(t):(s.tdw({action:"exposure",page:"apply_telcollect"}),c.dailog({skipBtn:"跳过",onSuccess:function(){s.tdw({action:"click",page:"apply_telcollect",module:"save"},!0),p(t)},onSkip:function(){s.tdw({action:"click",page:"apply_telcollect",module:"skip"},!0),p(t)},onClose:function(){s.tdw({action:"click",page:"apply_telcollect",module:"close"},!0)}}))}))}))},destroy:function(){this.$el.remove(),this.$bg.remove()}}),e.exports={showApplySuccess:h,checkUrlAndRender:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="TradeNumber",n=i.query("outTradeNo")||i.getHash("outTradeNo")||i.query("tradeNum")||i.getHash("tradeNum");n&&a.get(t)!==n&&(a.set(t,n),h(e))}}},L8LG:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return it.cateId?_$out_.push("",function(it,opt){with(it=it||{},it){var sortModuleData=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=e[n],i=tplNameMap[n]||r.tplName;i&&(r=(r="[object Array]"===Object.prototype.toString.call(r)?r:[r]).filter((function(e){return e.tplName=i,e.isShow})),t=t.concat(r))})),t.sort((function(e,t){return e.order-t.order}))},_$out_=[];courseOnline="undefined"==typeof courseOnline?[]:courseOnline,seriesCourse="undefined"==typeof seriesCourse?[]:seriesCourse,agencyInfo="undefined"==typeof agencyInfo?[]:agencyInfo;var tplNameMap={imgEntry:"img-entry.ejs",custom:"custom-courses.ejs",liveCourse:"live-courses.ejs",courseOnline:"select-courses.ejs",seriesCourse:"series-courses.ejs"},_locals="undefined"==typeof locals?it:locals,modules=sortModuleData(_locals),ejsPath=!0===typeof isNodeEnv?"../../isomorph/":"./",cateLink=_locals.cateLink,cateName=_locals.cateName||"",totalNum=_locals.totalNum||0;return _$out_.push('\x3c!-- 页面主体内容 --\x3e<div class="container clearfix"> <div class="container-1200"> ',function(it,opt){with(it=it||{},it){var _$out_=[];return 2011==cateId&&_$out_.push('<div id="design_revise_index" class="mod-sub design-revise" style="display: none;" data-mod="pigai" data-report-module="pigai"></div>'),_$out_.join("")}}(it,opt)," ",function(it,opt){with(it=it||{},it){var _$out_=[];if(3116==cateId){var quotes_list=_ext.quotes_list||{};if(quotes_list.quotes&&quotes_list.quotes.length>0){var quotes_list=_ext.quotes_list,quote_from=parseInt(quotes_list.from)||0,quote_to=parseInt(quotes_list.to)||0,quote_len=quotes_list.quotes.length;quote_to=quote_to>quote_len?quote_len:quote_to;var quote_index=Math.floor(Math.random(0,1)*(quote_to-quote_from+1))+quote_from-1,quotes_item=(quotes_list.quotes||[])[quote_index]||{};_$out_.push('<section class="mod-sub mod-quote ',quotes_item.title?"":"hide",'" data-mod="jjkquote" data-report-module="jjkquote"> <div class="quote-main"> <p class="quote-main-tt" title="',quotes_item.title,'">',quotes_item.title,'</p> <p class="quote-main-author">——',quotes_item.author,'</p> </div> <a href="javascript:void(0);" class="quote-aside js-quote-calender"> <span class="quote-aside-tt">距离下轮考试还剩</span> <div class="quote-aside-days"> <div class="quote-aside-days-tt">Days</div> <div class="quote-aside-days-line"></div> <div class="quote-aside-days-num js-quote-aside-days-num"></div> </div> <span class="quote-calender"> <i class="icon-font i-v-right"></i> </span> </a></section>')}_ext.list&&_ext.list.length>0&&(_$out_.push('<section class="mod-sub js-jjk" data-mod="jjk" data-report-module="jjk"> <h2>机经库 <a href="https://ke.qq.com/activity/keyking.html" class="btn-more js-jjk-more" target="_blank"> 更多 <i class="icon-font i-v-right"></i> </a> </h2> <div class="jjk-content clearfix"> '),_ext.list&&_ext.list.forEach((function(e,t){var n=(e.jids||[]).slice(0,4);if(0!==n.length){var r="//ke.qq.com/activity/keyking-list.html#type="+(t+1);_$out_.push(' <section class="jjk-content-section"> <a href="',r,'" class="jjk-content-title js-jjk-content-title" data-type="',e.title,'" title="',e.title,'" target="_blank"> ',e.title,'<i class="icon-font i-v-right"></i> </a> <ul class="jjk-content-list"> '),n.forEach((function(t){t.title&&_$out_.push(' <li class="content-list-item"> <a href="https://ke.qq.com/activity/keyking-detail.html#jid=',t.id,'" title="',t.title,'" class="content-list-link js-jjk-content-list-link" target="_blank" data-type="',e.title,'" data-jid="',t.id,'"> ',t.title," </a> </li> ")})),_$out_.push(" </ul> </section> ")}})),_$out_.push(" </div></section>"))}return _$out_.join("")}}(it,opt)," </div> "),modules.forEach((function(moduleData,i){moduleData.sortIndex=i+1,/live-courses/.test(moduleData.tplName)?_$out_.push(" ",function(it,opt){with(it=it||{},it){var isClassingFunc=function(e){for(var t,n=e.terms||[],r=e.term_id,i=0;i<n.length;i++)if(n[i].term_id===r){t=n[i];break}if(!t||1!==t.transcode_flag)return!1;var o=serverTime+1;if(o>=e.bgtime&&o<=e.endtime)return!0;for(var a,u,c=cacheCourses[e.cid]||[],s=Number.MAX_SAFE_INTEGER,l=0;l<c.length;l++){if(o>=(u=c[l]).bgtime&&o<=u.endtime)return!1;o<u.bgtime&&s>u.bgtime-o?(s=u.bgtime-o,a=u):o>u.endtime&&s>o-u.endtime&&(s=o-u.endtime,a=u)}return a.taid===e.taid},_$out_=[],liveCourse=moduleData||{},serverTime=liveCourse.serverTime,tasks=liveCourse.tasks||[],now=new Date(1e3*serverTime),tomorrow=new Date(+now+864e5),afterTomorrow=new Date(+now+1728e5),isSameDay=function(e,t){return e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},dayMap=["日","一","二","三","四","五","六"],getSlashText=function(e){return isSameDay(now,e)?"今天":isSameDay(tomorrow,e)?"明天":isSameDay(afterTomorrow,e)?"后天":""};tasks.sort((function(e,t){return e.bgtime-t.bgtime})),cacheCourses={},cacheCourses={};for(var i=0;i<tasks.length;i++){task=tasks[i];var cid=task.cid;cacheCourses[cid]?cacheCourses[cid].push(task):cacheCourses[cid]=[task]}if(_$out_.push('<div class="container-1200"> '),1===liveCourse.isShow&&tasks.length>0){_$out_.push(' <div class="mod-sub" data-mod="live-courses" data-report-module="',liveCourse.name||"精选直播课",'" data-order="',liveCourse.sortIndex,'"> <h2>',liveCourse.name||"精选直播课",'</h2> <div class="js-live-courses mod-live"> <div class="live-schedule"> <div class="live-schedule-screen"> \x3c!-- 首屏渲染 start --\x3e ');var task=tasks[0]||{},isClassing=!1;task.terms=task.terms||[];for(var k=0;k<task.terms.length;k++)if(1===task.terms[k].transcode_flag){isClassing=!0;break}_$out_.push(" ",function(it,opt){with(it=it||{},it){var _$out_=[],cid=task.cid,taid=task.taid,cover_url=task.cover_url,course_name=task.course_name,task_name=task.name,apply_status=task.apply_status,apply_num=task.apply_num,term_info=task.terms&&task.terms[0]||{},teacher=term_info.teacher||{};return _$out_.push('<img class="screen-img" alt="课程封面" title="课程封面" onerror="window.__eduCourseCardRetry__ && __eduCourseCardRetry__.call(this)" src="',cover_url+510,'"><div class="screen-mask"></div><div class="screen-bd" data-taid="',taid,'"> \x3c!-- style="background-image: url(\'',cover_url,'\')"--\x3e <div class="screen-infos"> <div class="course-info"> <p class="teacher-info"> <img src="',teacher.cover_url,'" alt="老师头像"> <span class="teacher-name">',teacher.name,'</span> </p> <a href="https://ke.qq.com/course/',cid,'" target="_blank" class="course-link" title="',course_name,'" data-cid="',cid,'"> <span>来自课程：',course_name,'</span> <i class="icon-font i-v-right"></i> </a> </div> <p class="course-name"> <a title="',task_name,'"> \x3c!-- <i class="icon-font i-course-live"></i> --\x3e',task_name,'</a> </p> <div class="course-status"> <p class="text"> '),isClassing&&_$out_.push(' <i class="icon-live"></i>正在上课 '),_$out_.push(" </p> </div> "),isClassing?_$out_.push(' <a id="js-join-class" class="course-apply blue-btn" href="javascript:;" title="立即学习" data-classing="1" data-cid="',cid,'">立即学习</a> '):void 0===apply_status||1!==apply_status?_$out_.push(' <a id="js-course-apply" class="course-apply" href="javascript:;" title="立即报名" data-cid="',cid,'">立即报名</a> '):_$out_.push(' <a id="js-join-class" class="course-apply blue-btn" href="javascript:;" title="查看详情" data-classing="0" data-cid="',cid,'">查看详情</a> '),_$out_.push(" </div></div>"),_$out_.join("")}}(it,opt),' \x3c!-- 首屏渲染 end --\x3e </div> <div class="live-schedule-list nano"> \x3c!-- 时间轴 --\x3e <div class="time-axis"></div> ');for(var arr=[],i=0,l=tasks.length;i<l;i++){var item=tasks[i],preItem=tasks[i-1]||{bgtime:+now/1e3};item.taskId=item.taid,item.taskName=item.name,item.timeStr=new Date(1e3*item.bgtime).toTimeString().substr(0,5);var pre=new Date(1e3*preItem.bgtime),cur=new Date(1e3*item.bgtime);isSameDay(pre,cur)||arr.push({type:"slash",text:getSlashText(cur),time:cur}),arr.push(item)}_$out_.push(' <ul class="nano-content"> ');for(var i=0,l=arr.length;i<l;i++){var task=arr[i];if(_$out_.push(" "),"slash"===task.type&&i!==l-1&&"slash"!==arr[i+1].type)_$out_.push(' \x3c!-- 时间分界线 --\x3e <li class="list-item slash-item"> <div class="item-wrap disabled"> <span class="item-time"> ',task.text," "),task.text?_$out_.push(' <span class="item-name">（',task.time.getMonth()+1,"月",task.time.getDate(),"日 星期",dayMap[task.time.getDay()],"）</span> "):_$out_.push(' <span class="item-name">',task.time.getMonth()+1,"月",task.time.getDate(),"日 星期",dayMap[task.time.getDay()],"</span> "),_$out_.push(' </span> </div> <div class="item-time-point"></div> </li> ');else if(task.taid){_$out_.push(" ");var isClassing=isClassingFunc(task);_$out_.push(' \x3c!-- 任务项 --\x3e <li class="list-item task-item" data-taid="',task.taskId,'"> <a class="item-link" title="',task.taskName,'" data-cid="',task.cid,'" target="_blank" href="https://ke.qq.com/course/',task.cid,'"> <div class="item-wrap"> '),isClassing?_$out_.push(' <span class="item-time item-time--classing">直播中</span> '):_$out_.push(' <span class="item-time">',task.timeStr,"</span> "),_$out_.push(' <div class="item-info"> \x3c!-- <i class="icon-font i-course-live"></i> --\x3e <span class="item-name">',task.taskName,"</span> </div> </div> "),isClassing?_$out_.push(' <div class="item-time-icon-live"></div> '):_$out_.push(' <div class="item-time-point"></div> '),_$out_.push(" </a> </li> ")}_$out_.push(" ")}_$out_.push(" </ul> </div> </div> </div> </div> ")}return _$out_.push("</div>"),_$out_.join("")}}(it,opt)," "):/select-courses/.test(moduleData.tplName)?_$out_.push(" ",function(it,opt){with(it=it||{},it){var _$out_=[];_$out_.push("\x3c!-- 选课中心 --\x3e");var data=moduleData||{},name=data.name||"",more=data.more||"javascript:void(0)",wordings=data.wordings||[],courseLabel=data.courseLabel||[],sortIndex=data.sortIndex;return _$out_.push('<div class="js-select-course select-course mod-sub" data-mod="select-courses.',name,".",sortIndex,'" data-name="',name,'" data-report-module="',name,'" data-order="',sortIndex,'"> <div class="container-1200"> <div class="select-course-hd"> <h2> ',name,' <a class="js-course-more btn-more" href="',more,'" target="_blank">更多<i class="icon-font i-v-right"></i></a> </h2> <div class="select-course-desc">',wordings[0]||"",'</div> <div class="select-course-filter-wrapper"> <div class="js-filter-wrap select-course-filter"> '),courseLabel.forEach((function(e,t){var n=e.labels||[];_$out_.push(' <dl class="filter-type"> <dt class="filter-type-name">',e.name,'</dt> <dd class="filter-item-wrap"> <ul class="js-filter-item-list" data-center-name="',name,'" data-row="',t,'"> <li class="js-filter-item filter-item current">不限</li> '),n.forEach((function(e,t){_$out_.push(' <li class="js-filter-item filter-item">',e,"</li> ")})),_$out_.push(" </ul> </dd> </dl> ")})),_$out_.push(' </div> </div> </div> </div> <div class="hover-expand"> <div class="container-1200"> <div class="select-course-bd"> <div class="course-wrap js-course-list"></div> </div> </div> <a class="js-paging-btn btn btn-prev disabled disabled-hide" title="上一页" href="javascript:void(0)" data-paging="-1"> <i class="icon-font i-v-left"></i> </a> <a class="js-paging-btn btn btn-next disabled disabled-hide" title="下一页" href="javascript:void(0)" data-paging="1"> <i class="icon-font i-v-right"></i> </a> </div></div>'),_$out_.join("")}}(it,opt)," "):/series-courses/.test(moduleData.tplName)?_$out_.push(" ",function(it,opt){with(it=it||{},it){var _$out_=[];_$out_.push("\x3c!-- 系列课模块 --\x3e");var data=moduleData||{},name=data.name||"",explain=data.explain||"",description=data.description||"",courses=data.courses.filter((function(e){return e.title})),sortIndex=data.sortIndex,getLink=function(e,t){return t?"//ke.qq.com/course/package/"+e.pid:"//ke.qq.com/course/"+e.id};_$out_.push('<div class="js-series-course series-course mod-sub" data-mod="series-course.',sortIndex,'" data-name="',name,'" data-report-module="',name,'" data-order="',sortIndex,'"> <div class="container-1200"> <div class="series-course-hd"> <h2> <span class="series-course-tt"> ',name," "),explain&&_$out_.push(' <i class="icon-font i-question"> <div class="pop-confirm pop-confirm-bottom"> <div class="pop-confirm-arrow"></div> <div class="pop-confirm-wrap"> <p class="pop-confirm-content">',explain,"</p> </div> </div> </i> "),_$out_.push(" </span> </h2> "),description&&_$out_.push(' <div class="series-course-desc">',description||"","</div> "),_$out_.push(' </div> </div> <div class="hover-expand"> <div class="container-1200"> <div class="series-course-bd"> <ul class="series-course-list js-series-course-list"> ');for(var i=0;i<courses.length;i++){var item=courses[i];item.isPkg=!item.id&&item.pid,item.link=item.url||getLink(item,item.isPkg),item.wordings=item.wordings||[],item.contents=item.contents||[],_$out_.push(' <li class="series-course-item js-series-course-item" data-id="',item.isPkg?item.pid:item.id,'"> <a class="item-hd" title="',item.title,'" href="',item.link,'" target="_blank"> <img class="item-cover" src="',item.cover,'" alt="封面背景"> <div class="item-hd-mask"></div> <div class="item-hd-wrap"> <h3 class="item-tt">',item.title,"</h3> ");for(var j=0;j<item.wordings.length;j++)_$out_.push(' <p class="item-wording"> ',item.wordings[j]," </p> ");_$out_.push(' </div> </a> <div class="item-bd"> <a class="item-bd-wrap js-series-content" title="',item.title,'" href="',item.link,'" target="_blank"> <h4 class="item-ctt">',item.cTitle,"</h4> ");for(var k=0;k<item.contents.length;k++)_$out_.push(' <p class="item-content"> ',"0"+(k+1),' <span class="item-wording-txt">',item.contents[k],"</span> </p> ");_$out_.push(" "),item.contents.length||_$out_.push(' <p class="item-content">敬请期待...</p> '),_$out_.push(" </a> </div> </li> ")}return _$out_.push(' </ul> </div> </div> <a class="js-paging-btn btn btn-prev disabled disabled-hide" title="上一页" href="javascript:void(0)" data-paging="-1"> <i class="icon-font i-v-left"></i> </a> <a class="js-paging-btn btn btn-next disabled disabled-hide" title="下一页" href="javascript:void(0)" data-paging="1"> <i class="icon-font i-v-right"></i> </a> </div></div>'),_$out_.join("")}}(it,opt)," "):/custom-courses/.test(moduleData.tplName)?_$out_.push(" ",function(it,opt){with(it=it||{},it){var _$out_=[];_$out_.push("\x3c!-- 自定义模块 --\x3e");var data=moduleData||{};if(_$out_.push('<div class="js-custom-course mod-sub custom-course-wrap" data-mod="custom-course.',data.name,".",data.sortIndex,'" data-name="',data.name||"",'" data-report-module="',data.name||"",'" data-order="',data.sortIndex,'" data-hasrender="',data._hasExtCourses,'"> <div class="container-1200"> <h2> ',data.name||""," "),data.more&&_$out_.push(' <a class="js-custom-more btn-more" href="',data.more,'" target="_blank">更多<i class="icon-font i-v-right"></i></a> '),_$out_.push(' </h2> \x3c!-- <div class="short-gray-line"></div> --\x3e </div> <div class="hover-expand"> <div class="container-1200"> <div class="custom-course-bd"> <div class="custom-course-list"> '),data._hasExtCourses){var _opt={showOrigin:!0,simplify:!1,cardPos:["custom-course.",data.name,".",data.sortIndex].join("")};_$out_.push(" ",cardListV3({course_list:data.courses,opt:_opt,$:$})," ")}return _$out_.push(' </div> </div> </div> <a class="js-paging-btn btn btn-prev disabled disabled-hide" title="上一页" href="javascript:void(0)" data-paging="-1"> <i class="icon-font i-v-left"></i> </a> <a class="js-paging-btn btn btn-next disabled disabled-hide" title="下一页" href="javascript:void(0)" data-paging="1"> <i class="icon-font i-v-right"></i> </a> </div></div>'),_$out_.join("")}}(it,opt)," "):/img-entry/.test(moduleData.tplName)&&_$out_.push(" ",function(it,opt){with(it=it||{},it){var _$out_=[];_$out_.push("\x3c!-- 图片+链接模块 --\x3e");var data=moduleData||{},errImg="//9.idqqimg.com/edu/edu_modules/edu-ui/img/nohash/img-err.png";return _$out_.push('<div class="mod-sub img-entry-wrapper js-img-entry" data-mod="img-entry.',data.sortIndex,'" data-order="',data.sortIndex,'" data-report-module="',data.desc||"图片链接",'" data-desc="',data.desc,'" report-tdw="action=click&module=',data.desc,'" > <a class="img-entry" target="_blank" title="',data.link||"",'" href="',data.link||"javascript:;",'" style="background: url(\'',data.cover||errImg,"') no-repeat center; ",data.link?"cursor: pointer":"",'"> </a></div>'),_$out_.join("")}}(it,opt)," ")})),_$out_.push(' <div class="container-1200"> <div class="mod-sub mod-all-courses" data-mod="all-courses"> <a class="mod-all-courses-link" href="',cateLink,'" title="',cateName,'" target="_blank"> '),totalNum>0?_$out_.push(" <span>查看",cateName,"类目全部共 <strong>",totalNum,"</strong> 门课程</span> "):_$out_.push(" <span>查看全部课程</span> "),_$out_.push(' <i class="icon-font i-v-right"></i> </a> </div> </div></div> '),agencyInfo&&agencyInfo.isShow&&_$out_.push('<div class="mod-gray-bg mod-sub"> <div class="container-1200 clearfix"> ',function(it,opt){with(it=it||{},it){var _$out_=[],agencyName=agencyInfo.name||"入驻机构",agencies=agencyInfo.agencySimpleInfo||[],len=agencies.length,vis=agencyInfo.vis||9;_$out_.push('<div class="mod-sub agency-wall" data-report-module="',agencyInfo.name,'" data-mod="settled_institution"> <h2>',agencyName,'</h2> <div class="agency-wall-bd"> <div class="agency-wall-wrap"> <ul class="agency-list"> ');for(var i=0;i<len;i++){var item=agencies[i];_$out_.push(' <li class="agency-item js-agency-item" data-aid="',item.aid,'"> <a class="item-link" target="_blank" title="机构主页" href="',"//"+item.domain,'" data-idx="',i+1,'"> <img alt="',item.name,'" src="',item.cover_url,'" title="机构封面"> </a> </li> ')}return _$out_.push(" </ul> </div> "),len>vis&&_$out_.push(' <a class="js-paging-btn btn btn-prev" title="上一个" href="javascript:void(0)" data-paging="-1"> <i class="icon-font i-v-left"></i> </a> <a class="js-paging-btn btn btn-next" title="下一个" href="javascript:void(0)" data-paging="1"> <i class="icon-font i-v-right"></i> </a> '),_$out_.push(" </div></div>"),_$out_.join("")}}(it,opt)," </div></div> "),_$out_.push("<script>try { window.GLOBAL_DATA = { isServer: true, cateId: ",cateId,", liveCourse: ",JSON.stringify(liveCourse||{}),", courseCenter: ",JSON.stringify(courseOnline||[]),", seriesCourse: ",JSON.stringify(seriesCourse||[]),", agencyInfo: ",JSON.stringify(agencyInfo||{}),", _ext: ",JSON.stringify(_locals._ext||{})," };} catch (e) { window.GLOBAL_DATA = { isServer: true, cateId: ",cateId,", liveCourse: {}, courseCenter: [], seriesCourse: [], agencyInfo: {} };}<\/script>"),_$out_.join("")}}(it,opt),""):(_$out_.push('<section class="fail-msg"'),it.height&&_$out_.push(' style="height:',height,'px;"'),_$out_.push('> <div class="fail-msg-inner"> <i class="icon-font i-info"></i> <p>加载失败，请稍后再试</p> </div></section>')),_$out_.join("")}}},LN3O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ROju");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("onpD");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("fFtK");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n("7xq2");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var u=n("u+Si");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}))},LQr6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IGNORE_ERROR=t.NEED_SHOW_VERIFY_DIALOG=t.ASYNC_BREAK_NO_ERROR=t.errText=void 0;t.errText={errWordings:{12:"管理员不能报名",10004:"iOS系统暂不支持付费报名，<br/>报名请通过电脑登录ke.qq.com。",10005:"支付组件加载失败, 请刷新页面重试",10006:"支付取消",10007:"付费请通过电脑登录ke.qq.com",10008:"验证码取消",10009:"冲突取消",10010:"跳转米大师支付",10011:"iOS动态",101401:"未支持的商品类型",101403:"企业支付已经支付，请勿重复支付",101405:"机构不存在",166417:"上线和白名单课程才能支付",166418:"支付课程没有班级通",106632:"期不存在",106633:"机构被永久清退",106634:"该课程有配套寄送配套实物，请您填写接受配套实物的地址",113137:"优惠券不适用于本课程",113138:"确认付款失败，已经做了任务",114101:"折扣优惠不存在",114102:"折扣优惠不适合于本课程、班级",114104:"不在优惠的有效时间内",167001:"错误的会员类型",167002:"请使用全红包支付",1677013:"课程包不存在",1677014:"有待重试的订单在发货队列，拒绝支付",1677015:"已经支付过了课程，拒绝再次支付",1677016:"老师不能报名自己的授课",1677017:"红包使用时出错",1677018:"该班级被惩罚",1677021:"课点余额不足",106409:"您报名的课程已经结束！",166411:"此课程已经开始上课",166412:"请稍候重试",166415:"您已购买该课程，不需要再次付款！",166416:"免费课程无需购买！",101404:"该课程已经下架！",101402:"您已经报名了此课程",106437:"超出直播类型最大500人的限制！",106446:"机构创建者不能报名此课程！",106438:"您选择的优惠券不存在，请重新尝试！",106439:"您选择的优惠券已被锁定，请重新尝试！",106440:"您选择的优惠券已被使用，请重新尝试！",106441:"您选择的优惠券已被删除，请重新尝试！",106442:"您选择的优惠券已过期，请重新尝试！",106447:"此课程的老师或助教不能报名！",106410:"您报名的课程为付费课程！",104100:"该课程未完成审核或审核不通过!",106631:"该班级名额已报满，请选择名额未满班级报名。",114103:"优惠名额已抢完，请重新购买。",1678136:"当前抢购人数过多，请稍后再试！",1678141:"团购系统错误，请稍后再试",1678142:"该团已超时失效，请重新开团参加学习吧",1678143:"该团已满员，请重新开团参加学习吧",1678144:"拼团优惠不能与其他优惠同时使用！",1678130:"该商品已下架",501006:"请检查姓名或手机号是否正确，如仍有问题可联系客服QQ800082734"},giftedErrWording:{106409:"课程已结束，无法接受赠送了!",101402:"已接受过赠送，无法再接受了!",106447:"您为该课程的老师、助教，无需赠送。!"}};t.ASYNC_BREAK_NO_ERROR=-111111;t.NEED_SHOW_VERIFY_DIALOG=[106666,99999];t.IGNORE_ERROR=[111,-1001,1e5,100021,101402,1678143]},Lneg:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[],now=new Date(1e3*serverTime),tomorrow=new Date(+now+864e5),afterTomorrow=new Date(+now+1728e5),isSameDay=function(e,t){return e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},getSlashText=function(e){return isSameDay(now,e)?"今天":isSameDay(tomorrow,e)?"明天":isSameDay(afterTomorrow,e)?"后天":""};tasks.sort((function(e,t){return e.bgtime-t.bgtime}));for(var arr=[],i=0,l=tasks.length;i<l;i++){var item=tasks[i],preItem=tasks[i-1]||{bgtime:+now/1e3};item.taskId=item.taid,item.taskName=item.name,item.timeStr=new Date(1e3*item.bgtime).toTimeString().substr(0,5);var pre=new Date(1e3*preItem.bgtime),cur=new Date(1e3*item.bgtime);isSameDay(pre,cur)||arr.push({type:"slash",text:getSlashText(cur),time:cur}),arr.push(item)}var dayMap=["日","一","二","三","四","五","六"];_$out_.push('<ul class="nano-content">');for(var i=0,l=arr.length;i<l;i++){var task=arr[i];_$out_.push(" "),"slash"===task.type&&i!==l-1&&"slash"!==arr[i+1].type?_$out_.push(' \x3c!-- 时间分界线 --\x3e <li class="list-item slash-item"> <dl class="item-wrap disabled"> <dt class="item-time">',task.text,'</dt> <dd class="item-info"> <span class="item-name">（',task.time.getFullYear(),"年",task.time.getMonth()+1,"月",task.time.getDate(),"日 星期",dayMap[task.time.getDay()],'）</span> </dd> </dl> <div class="item-time-point point-hollow"></div> </li> '):task.taid&&_$out_.push(' \x3c!-- 任务项 --\x3e <li class="list-item task-item" data-taid="',task.taskId,'"> <a class="item-link" title="',task.taskName,'" data-cid="',task.cid,'" target="_blank" href="//ke.qq.com/course/',task.cid,'"> <dl class="item-wrap"> <dt class="item-time">',task.timeStr,'</dt> <dd class="item-info"> <i class="icon-font i-course-live"></i> <span class="item-name">【',task.label||"直播","】",task.taskName,'</span> </dd> </dl> <div class="item-time-point"></div> </a> </li> ')}return _$out_.push("</ul>"),_$out_.join("")}}},Lwcf:function(e,t,n){var r=n("xeH2"),i={cur:1,size:10,minPage:1,maxPage:1,btnSelector:".btn",pagingAttr:"paging",fetchData:function(e,t){t(e)},onSwitchingPage:function(){},onSwitchedPage:function(){}};function o(e,t){this.config=r.extend({},i,t),this.pageCache={},this.$el=e,this._init()}r.extend(o.prototype,{_init:function(){this._initEvent(),this._render()},_render:function(){this.$el.find(this.config.btnSelector).removeClass("disabled"),1===this.config.cur&&this.$el.find("[data-paging=-1]").addClass("disabled"),this.config.cur===this.config.maxPage&&this.$el.find("[data-paging=1]").addClass("disabled"),1===this.config.maxPage?this.$el.find("[data-paging]").addClass("disabled-hide"):this.$el.find("[data-paging]").removeClass("disabled-hide")},_initEvent:function(){var e=this;e.$el.on("click",e.config.btnSelector,(function(){var t=r(this);if(!t.hasClass("disabled")){var n=t.data(e.config.pagingAttr),i=e.config.cur;n=parseInt(n,10)||0,e._switchPage(i+n)}}))},_switchPage:function(e,t){if(!(e===this.config.cur&&!t||e>this.config.maxPage||e<this.config.minPage)&&!1!==this.config.onSwitchingPage(e,this.config.cur)){var n=this;this._getData(e,(function(t){n.pageCache[e]=t,n.config.cur=e,n.config.onSwitchedPage(t,n),n._render()}))}},_getData:function(e,t){var n=this.pageCache[e];if(n)return t(n);this.config.fetchData({page:e,size:this.config.size},t)},extendConfig:function(e){r.extend(this.config,e)},clearCache:function(){this.pageCache={}}}),r.fn.bidiPaging=function(e){return this.each((function(){var t=r(this),n=new o(t,e);t.data("bidiPaging",n)}))},e.exports=r},M1Pb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHomeworkCommits=function(e){var t=e.hw_id,n=e.aid,o=e.tid,a=e.page,u=void 0===a?0:a,c=e.size,s=void 0===c?10:c;return(0,r.fetch)("/cgi-proxy/homework/get_homework_answer_list",{data:{hw_id:t,aid:n,tid:o,page_index:u,page_size:s}}).then((function(e){var t,n=e.result;return{answers:(null===(t=n.answer)||void 0===t?void 0:t.map((function(e){var t,n;return Object.assign(Object.assign({},e),{publisher:e.publisher||{},ans_stuffs:(null===(t=e.ans_stuffs)||void 0===t?void 0:t.map(i.ansStuffFormater))||[],ans_review:(null===(n=e.ans_review)||void 0===n?void 0:n.map((function(e){return e.rew_stuffs=e.rew_stuffs||[],e})))||[]})})).filter((function(e){var t;return"".concat(null===(t=e.publisher)||void 0===t?void 0:t.uid)!==(0,r.getUin)()})))||[],total:n.total_count,page:u,size:s}}))},t.commitHomeworkAnswer=function(e){return(0,r.fetch)("/cgi-proxy/homework/submit_answer",{method:"POST",body:Object.assign(Object.assign({},e),{stuffs:JSON.stringify(e.stuffs)})})};var r=n("F5LU"),i=n("pjSC")},M9qB:function(e,t,n){"use strict";var r=n("A3sk"),i=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountType=d,t.isQQAccount=f,t.isPCWeixinAcccount=p,t.isAppWeixinAccount=h,t.isH5WeixinAccount=v,t.isWeixinAccount=g,t.isIosVisitorAccount=m,t.isMobileNumberAccount=y,t.isOpenPlatformAccount=_,t.getWeixinAuth=b,t.getAuth=function(){return(g()||_()||m()||y())&&b()||w()},t.getSkey=w,t.isLogin=function(){return l(this,void 0,void 0,o.default.mark((function e(){var t,n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetch("/cgi-bin/identity/info");case 2:if(t=e.sent,n=t.retcode,r=t.result,i=void 0===r?{}:r,0!==n){e.next=6;break}return e.abrupt("return",1===i.is_login);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))},t.isQQLogin=function(){return l(this,void 0,void 0,o.default.mark((function e(){var t,n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetch("/cgi-bin/identity/info");case 2:if(t=e.sent,n=t.retcode,r=t.result,i=void 0===r?{}:r,0!==n){e.next=6;break}return e.abrupt("return",1===i.is_login&&f());case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))},t.isWeixinLogin=function(){return l(this,void 0,void 0,o.default.mark((function e(){var t,n,r,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetch("/cgi-bin/identity/info");case 2:if(t=e.sent,n=t.retcode,r=t.result,i=void 0===r?{}:r,0!==n){e.next=6;break}return e.abrupt("return",1===i.is_login&&g());case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))},t.isQQLoginByCookie=k,t.isWeixinLoginByCookie=P,t.isOpenPlatformLoginByCookie=x,t.isLoginByCookie=function(){return k()||P()||m()||C()||x()},t.isLoginWithAccountByCookie=function(){return k()||P()||x()},t.isMiniAppLoginByCookie=C,t.getUin=function(){if(g()||m())return A()||O();return O()||A()},t.getQQUin=O,t.getWeixinUin=A,t.withTuin=function(e){var t=a.getHash("tuin")||u.getCookie("tuin"),n=e;t&&(n=a.setHash({tuin:t},e));return n},t.setTuin=function(e){if(window.history&&"function"==typeof window.history.replaceState){var t=parseInt(e,10).toString(16),n=location.search.substring(1);n=n.replace(/(^|&)tuin=[^&]+/g,"").replace(/^&+/,""),n="?tuin=".concat(t).concat(n?"&":"").concat(n),window.history.replaceState(null,"","".concat(location.pathname).concat(n).concat(location.hash))}};var o=i(n("gBQG")),a=r(n("bhbm")),u=r(n("9gZJ")),c=r(n("XOiT")),s=r(n("/m0i")),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function d(){var e=u.getCookie("uid_type");return""===e?null:parseInt(e,10)}function f(){var e=d(),t=0===e,n=null===e&&null!==w();return t||n}function p(){return 2===d()}function h(){return 2===d()}function v(){return 2===d()}function g(){return v()||h()||p()}function m(){return 1001===d()}function y(){return 1002===d()}function _(){return 1008===d()}function b(){return u.getCookie("uid_a2")}function w(){return u.getCookie("p_lskey")||u.getCookie("p_skey")||u.getCookie("skey")||""}function k(){return 0!==w().length}function P(){return c.isWeixin()&&!!u.getCookie("uid_a2")||h()}function x(){return _()&&!!u.getCookie("uid_a2")}function C(){var e=u.getCookie("uid_type"),t=u.getCookie("uid_uin");return c.isMiniProgram()&&"2"===e&&t&&t.length}function O(){var e=u.getCookie("p_luin")||u.getCookie("p_uin")||u.getCookie("uin");return e?parseInt(e.replace(/[^\d]/g,""),10).toString():null}function A(){var e=u.getCookie("uid_uin");return e||null}},MGUh:function(e,t,n){"use strict";function r(e){return e&&e.bargain_info&&(e.bargain_info.bargain_id||e.bargain_info.bargin_id)}function i(e){return e&&e.bargain_detail&&e.bargain_detail.period}function o(e){return e&&e.bargain_info&&e.bargain_info.init_ts}Object.defineProperty(t,"__esModule",{value:!0}),t.isBargainBottomPrice=function(e){return e&&e.bargain_info&&e.bargain_info.is_bottom_price},t.isBargainActJoin=function(e){return!!r(e)},t.getBargainId=r,t.getBargainPrice=function(e){return e&&e.bargain_info&&e.bargain_info.curr_price},t.getBargainActId=function(e){return e&&e.bargain_detail&&e.bargain_detail.act_id},t.getBargainBottomPrice=function(e){return e&&e.bargain_detail&&e.bargain_detail.bottom_price},t.getBargainOriginPrice=function(e){return e&&e.bargain_detail&&e.bargain_detail.origin_price},t.getBargainPeriod=i,t.getBargainCreateTs=o,t.getBargainCurTs=function(e){return e&&e.bargain_info&&e.bargain_info.cur_ts},t.getBargainEndTs=function(e){var t=o(e)+i(e),n=e&&e.bargain_detail&&e.bargain_detail.end_time;if(t)return Math.min(t,n);return n},t.hasBargainInfo=function(e){return!!e.bargain_info}},MQ1n:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PriceModel=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=n("P87J"),c=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},s=function(){function e(){(0,i.default)(this,e),this.iap=!1}return(0,o.default)(e,[{key:"initData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.balance=e,this.productPrice=t,this.iap=n}},{key:"getPriceInfo",value:function(){var e,t,n,r,i=null===(e=this.productPrice)||void 0===e?void 0:e.final_price,o=null===(t=this.productPrice)||void 0===t?void 0:t.original_price,a=null===(n=this.balance)||void 0===n?void 0:n.kedian_balance,u=null===(r=this.balance)||void 0===r?void 0:r.red_envelope_balance,c=this.getBalance(u,a),s=this.getDeduction(i,c),l=this.getRealPrice(i,c);return{balance:c,deduction:s,discountPrice:i,isAllBalance:this.isAllBalance(i,c),kedian:a,originPrice:o,realPrice:l,redEnvelope:u}}},{key:"getDeduction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>=e?e:t}},{key:"isAllBalance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return void 0!==e&&e-t<=0}},{key:"getRealPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>t?e-t:0}},{key:"getBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.iap?e+t:e}}]),e}();t.PriceModel=s,c([(0,u.log)("获取下单页价格数据")],s.prototype,"getPriceInfo",null)},MQkb:function(e,t,n){var r=n("xeH2"),i=n("m9bP"),o=n("cg0R"),a={register:o,nameAttr:"cors-name",maxRecords:1,encodeCookie:function(e){return e.forEach((function(e){var t=e.ext;t.pagelocation=encodeURIComponent(t.pagelocation||"")})),e},getPageLocation:function(e){if(o.isValidName(e)){var t=o.getOperator(e),n=r.cookie.get(t.getCookieKey(e))||"[]",i=JSON.parse(n);return r.isArray(i)?a.encodeCookie(i):[]}},setPageLocation:function(e,t){r.cookie.set(e,JSON.stringify(t),"ke.qq.com","/","48")},updatePageLocation:function(e,t,n){var r=e.length>=a.maxRecords?0:null;if("function"==typeof n)for(var i=0,o=e.length;i<o;++i)if(n(e[i],t)){r=i;break}null!==r&&e.splice(r,1),e.push(t)},addRecord:function(e){var t=e.attr(a.nameAttr);if(t&&o.isValidName(t)){var n=o.getOperator(t),r=n.getRecordValue(e),i=a.getPageLocation(t);a.updatePageLocation(i,r,n.isSimilarRecord),a.setPageLocation(n.getCookieKey(t),i)}}};i.getPageLocation=a.getPageLocation,e.exports=a},MR6g:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;var r={},i={get:function(e){return r[e]},set:function(e,t){r[e]=t}};t.env=i},MZFa:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultHook=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},c=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"prefetch",value:function(e){return u(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})))}},{key:"payCallbackParam",value:function(e){}},{key:"payOpts",value:function(e){return e}},{key:"jumpPurchaseParam",value:function(e,t){return{}}},{key:"beforePayCheck",value:function(){return u(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{pass:!0});case 1:case"end":return e.stop()}}),e)})))}},{key:"beforePayJump",value:function(){return u(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))}},{key:"beforePhoneActiveJump",value:function(e,t){}}]),e}();t.DefaultHook=c},Mrro:function(e,t,n){"use strict";var r,i,o=n("TqRt"),a=o(n("xeH2")),u=o(n("kprn")),c=o(n("lSPl")),s=o(n("p9Rg")),l=!1,d=(0,a.default)("#js_float_tab .inner-center"),f="CONSULT-TIP";function p(e){i&&(e&&(u.default.set(f,Date.now()),c.default.tdw({action:"click",module:"messagetips"})),i.fadeOut())}e.exports={init:function(e){r=(0,a.default)((0,s.default)(e)),i=r.find(".consult-tip"),d.append(r),r.on("click",".js-contact-btn",(function(){p()})).on("click",".btn-close",(function(){p(!0)}))},show:function(){if(i){var e=u.default.get(f);if(e)if(Date.now()-e<86400)return;u.default.remove(f),i.fadeIn(),l||(l=!0,c.default.tdw({action:"exposure",module:"messagetips"}))}},hide:p}},Mry8:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];if(_$out_.push('<p class="header-schedule-num"> <span class="header-schedule-course"> <a href="//ke.qq.com/user/index/index.html#sid=plan" target="_blank" report-tdw="action=click&obj1=mycourse"><i>',statistics.course_num,'</i> 门课程</a> </span><span class="header-schedule-fav"> <a href="//ke.qq.com/user/index/index.html#sid=fav" target="_blank" report-tdw="action=click&obj1=mycollection"> <span class="mod-courseListEntry-item"><i>',statistics.fav_num,"</i> 门收藏</span> </a> </span></p>"),incomingClass&&incomingClass.cid){var bitFlag=parseInt(incomingClass.course_bit_flag)||0;bitFlag=bitFlag.toString(2).split("");var isTencent="1"!==bitFlag[0];_$out_.push('<div class="header-schedule-live js-open-url" data-target="//ke.qq.com/user/index/index.html#cid=',incomingClass.cid,"&term_id=",incomingClass.term_id,'" report-tdw="action=click&obj1=recent_class&ver1=',incomingClass.cid,'"> <span>',opt.strEllipsis.substring_plus(incomingClass.task_name,176,2,14,incomingClass.transcode_flag?65:90),"</span> "),incomingClass.transcode_flag?_$out_.push(' <a href="javascript:void(0);" data-streamBitFlag="',incomingClass.task_bit_flag,'" data-cid="',incomingClass.cid,'" data-taid="',incomingClass.task_id,'" data-tid="',incomingClass.term_id,'" class="header-schedule-live-icon js-open-tencent js-report-link" data-target="',incomingClass.room_url,'" report-attr="module=playlive&position=0&action=click&ver1=',incomingClass.cid,"&ver2=",isTencent?0:1,'">正在直播</a> '):_$out_.push(' <span class="header-schedule-live-icon">今日有直播</span> '),_$out_.push(" <p>",$.render.time.formatDate("M月D日 hh:mm",1e3*incomingClass.task_bgtime),"-",$.render.time.formatDate("hh:mm",1e3*incomingClass.task_endtime),"</p></div>")}else _$out_.push(' <div class="header-schedule-nolive"> <div class="header-schedule-nolive-icon"></div> <p class="header-schedule-nolive-desc">今日暂无课程</p> </div>');return _$out_.join("")}}},NBo8:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.FreeLearningIndexOperateChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("e4x/")),c=r(n("Udhi")),s=r(n("okMe")),l=n("F5LU"),d=n("7qgZ"),f=n("nzmE");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(e){(0,u.default)(n,e);var t=p(n);function n(){var e;return(0,o.default)(this,n),(e=t.apply(this,arguments)).type=f.ActType.FreeLeaning,e}return(0,a.default)(n,[{key:"check",value:function(){var e,t;return h(this,void 0,void 0,i.default.mark((function n(){var r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.isLogin)();case 2:if(!n.sent){n.next=9;break}return n.next=6,(0,d.getFreeLearningIndexEntryData)().catch((function(){return null}));case 6:if(r=n.sent,!(null===(e=null==r?void 0:r.popup)||void 0===e?void 0:e.pass)&&!(null===(t=null==r?void 0:r.widget)||void 0===t?void 0:t.pass)){n.next=9;break}return n.abrupt("return",{data:r,pass:!0});case 9:return n.abrupt("return",{data:null,pass:!1});case 10:case"end":return n.stop()}}),n)})))}},{key:"getUrlInfo",value:function(){}}]),n}(f.OperateChecker);t.FreeLearningIndexOperateChecker=v},NCPf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/uBU");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},NNlU:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PayCashBackAct=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("NCPf"),u=n("1Pex"),c=function(){function e(){(0,i.default)(this,e),this.cashBackAct=new a.CashBackAct}return(0,o.default)(e,[{key:"isAct",value:function(e){return this.cashBackAct.isAct.call(this.cashBackAct,e)}},{key:"getLowerPayPrice",value:function(){return this.cashBackAct.getLowerPayPrice.call(this.cashBackAct)}},{key:"getCallbackUrlParam",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.getPayPrice(null===(t=null==e?void 0:e.priceInfo)||void 0===t?void 0:t.realPrice,null===(n=null==e?void 0:e.priceInfo)||void 0===n?void 0:n.discountPrice);return i<r?null:{actType:u.ActType.CashBack}}},{key:"getPayPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return window.__CASH_BACK_TEST__?t:e}}]),e}();t.PayCashBackAct=c},NXhg:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.CashBackAct=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("8p0i"),s=n("GMyB"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},d=function(){function e(){(0,o.default)(this,e),this.requestCache=new c.RequestCache,this.getSasData=this.getSasCacheFn(),this.getActData=this.getActCacheFn(),this.cid=Number((0,s.getCidFromUrl)()),this.pid=Number((0,s.getPidFromUrl)())}return(0,a.default)(e,[{key:"isAct",value:function(e){return l(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCashBackInfo(e);case 2:return n=t.sent,t.abrupt("return",!!n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"isJoinedAct",value:function(){var e;return l(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cid||this.pid){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.getActData();case 4:return n=t.sent,t.abrupt("return",null===(e=null==n?void 0:n.result)||void 0===e?void 0:e.has_cash_back_order);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getPrice",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCashBackInfo();case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.price);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getLowerPayPrice",value:function(){var e;return l(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSasData();case 2:return n=t.sent,t.abrupt("return",null===(e=null==n?void 0:n.result)||void 0===e?void 0:e.lower_limit_price);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getCashBackInfo",value:function(e){var t;return l(this,void 0,void 0,i.default.mark((function n(){var r,o,a,u,c,s,l,d;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e||this.cid,o=e||this.pid,e&&(this.cid=Number(e),this.pid=Number(e)),r||o){n.next=5;break}return n.abrupt("return",null);case 5:return n.next=7,this.getSasData();case 7:if(a=n.sent,u=null===(t=null==a?void 0:a.result)||void 0===t?void 0:t.courses,c=(null==a?void 0:a.result)||{},s=c.start_time,l=c.end_time,d=(null==a?void 0:a.date)||Date.now(),!(d<s||d>l)){n.next=14;break}return n.abrupt("return",null);case 14:return n.abrupt("return",null==u?void 0:u.find((function(e){return r&&e.cid===r||o&&e.pid===o})));case 15:case"end":return n.stop()}}),n,this)})))}},{key:"getActCacheFn",value:function(){return this.requestCache.makeCache(this.fetchActData,this,"has_cash_back_order")}},{key:"getSasCacheFn",value:function(){return this.requestCache.makeCache(this.fetchSasData,this,"ke_act_rebases")}},{key:"fetchActData",value:function(){return(0,u.fetch)("/cgi-proxy/has_cash_back_order",{data:this.cid?{course_id:this.cid}:{pkg_id:this.pid}})}},{key:"fetchSasData",value:function(){return(0,u.fetch)("//sas.qq.com/cgi-bin/ke_act_rebases")}}]),e}();t.CashBackAct=d},NnY6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("NXhg");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},"O/cW":function(e,t,n){var r,i,o,a,u,c=n("xeH2"),s=n("Od4D"),l=n("8T5s"),d=(n("Pphc"),n("m9bP")),f=n("c1NO"),p=n("OqD3"),h=c(document.body),v=null,g=null,m=!1,y={before:"预约",prestart:"预约",start:"开抢",end:"进入"},_=!1;function b(e){return e<10?"0"+e:e}function w(){var e=c(".mod-promotion-slide"),t=c(".mod-promotion-slide-btn-next"),n=c(".mod-promotion-slide-btn-prev"),r=a.act_halls.length;i=new f({container:e,btnForward:".mod-promotion-slide-btn-prev",btnNext:".mod-promotion-slide-btn-next",list:".mod-promotion-cells",item:".mod-promotion-cell",slideStep:1,stepLength:245,beforeSlide:function(e,t,n){if(t+4>r)return!0},afterSlide:function(e,i,o){i+4>=r?t.hide():t.show(),i<=0?n.hide():n.show()}});var o=function(){for(var e=a.act_halls||[],t=e.length,n=0;n<t;n++)if("end"!==e[n].status)return n;return t-1}();o+4>r?o=r-4:t.show(),o>0&&n.show(),i.slideTo(o)}function k(e){var t=Math.floor(e/3600),n=3600*t,r=Math.floor((e-n)/60),i=60*r,o=Math.floor(e-n-i);return l({hour:b(t),minute:b(r),second:b(o)})}function P(){var e,t,n;e=a.act_halls||[],u=300,e.forEach((function(e,t){for(var n=e.timespan_arr||[],i=0,a=n.length;i<a;i++){var s,l=n[i],d="",f=l.start_time,p=l.end_time,h=f-60*e.countdown_minute,v=Math.floor((r+Date.now()-o)/1e3);if(v<h)s="before",d=c.render.time.formatDate("M月DD日hh:mm",1e3*f),(g=h-v)<u&&(u=g);else if(v<f)s="prestart",d=k(g=f-v),g<u&&(u=g),e.countDownTime=g;else if(v<p){var g;s="start",d="抢购中",(g=p-v)<u&&(u=g)}else s="end",d="更多优惠课";if("end"!==s||i===a-1){e.status=s,e.content=d,e.btnText=y[s];break}}})),t=s({act_main:a.act_main||{},act_halls:a.act_halls||[]}),v&&v.remove(),v=c(t),h.find(".banner-slide").after(v),g=v.find(".mod-promotion-cell"),_||(_=!0,d.tdw({action:"exposure",obj1:"promotion",obj2:a.id})),m||(h.on("click",".mod-promotion-main",(function(){var e=a.act_main,t=e.pc_jump_url;d.tdw({action:"click",obj1:"promotion-title",obj2:e.wording}),t&&window.open(location.protocol+t)})),h.on("click",".mod-promotion-cell",(function(){var e=c(this).index(),t=a.act_halls[e],n=t.pc_jump_url;d.tdw({action:"click",obj1:"promotion-item",obj2:t.wording}),n&&window.open(location.protocol+n)})),m=!0),(a.act_halls||[]).forEach((function(e,t){if("prestart"===e.status&&e.countDownTime){var n=g.eq(t);e.timer=new p({time:e.countDownTime,duration:1,onTick:function(e){var t=k(e);n.find(".mod-promotion-cell-content").html(t)},onTimeout:function(){}})}})),a.act_halls.length>4&&w(),(n=u)>=86400||setTimeout((function(){n>=300?x():P()}),1e3*n)}function x(){var e;e=function(e){e&&(a=e,P())},c.ajax({dataType:"jsonp",url:"//sas.qq.com/cgi-bin/db/data?t=[%22ke_operation_indexSeckill%22]&q={ke_operation_indexSeckill(is_valid:{_eq:1}, type:{_eq:1}){id,%20type,is_valid,act_main{wording,pc_pic_url,h5_pic_url,pc_jump_url,h5_jump_url},act_halls{wording,pc_pic_url,h5_pic_url,countdown_minute,timespan_arr{start_time,end_time},pc_jump_url,h5_jump_url}}}",success:function(t,n,i){if(t&&0===t.retcode){var a=t.result||[];r=t.date||Date.now(),o=Date.now(),e(a[0])}},failure:function(){}})}e.exports={init:x}},O0du:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.imgErrorHandler=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.DEFAULT_IMG,r=arguments.length>3?arguments[3]:void 0;if((0,u.isProxyUrl)(e.src))return void d(e,r,n);if((0,u.isDefaultUrl)(e.src))return void f(e,r);l(e,r,t)};var i=r(n("HO9c")),o=n("r/kS"),a=n("cUZS"),u=n("1RQl"),c=i.default.createLogger("img-retry"),s=function(){};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.DEFAULT_IMG,r=t||{},l=r.onRetryProxy,d=void 0===l?s:l,f=r.shouldIgnore,p=e.getAttribute("src"),h=e.getAttribute("data-src")||e.getAttribute("lazy-src");if(p&&!h)if(p!==e[a.originalSrcKey]){var v=[],g=t||{},m=g.includes;"string"==typeof m?v=[m]:Array.isArray(m)&&(v=m);var y=!v.length||p&&v.some((function(e){return p.indexOf(e)>-1}));y&&(f&&f(e)||(e[a.originalSrcKey]=e.src,e.src=(0,u.addProxyFlag)(n),c.warn("[dynamic]图片重试代理加载: ",n),i.default.monitor(35183821),d&&d(n)))}else c.warn("[dynamic]图片反复重试: ",p)}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.DEFAULT_IMG,r=t||{},a=r.onRetryDefault,l=void 0===a?s:a,d=e.getAttribute("default-src")||n;e.src=(0,u.addDefaultFlag)(d),c.error("[dynamic]图片代理加载失败，重试默认图加载: ",d),i.default.monitor(35183822),l&&l(d)}function f(e,t){var n=(t||{}).onRetryFail,r=void 0===n?s:n;c.error("[dynamic]图片默认图加载失败: ",e[a.originalSrcKey]),i.default.monitor(35183823),r&&r(e[a.originalSrcKey]||"")}},O2te:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("p4kF");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("ZBUb");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("QJUa");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n("r80N");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var u=n("/3d5");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var c=n("nwoF");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var s=n("m52p");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}))},OB4N:function(e,t,n){var r=n("xeH2"),i=n("z5f2");n("HwQ1");var o={type:"",tips:"",timeout:1500,timeFade:500,static:!1},a={info:"i-info",success:"i-success",alert:"i-alert",help:"i-question",loading:"loading"},u=function(e){this._opts=r.extend({},o,e),this._$cnt=r(i(this._opts,a)),this.render()};u.prototype.render=function(){var e,t=this;this._$cnt.appendTo(r(document.body)),this._$cnt.css({marginTop:"-"+parseInt(this._$cnt.outerHeight()/2)+"px",marginLeft:"-"+parseInt(this._$cnt.outerWidth()/2)+"px"}).show(),e=this._$cnt.find(".icon-font"),"loading"===this._opts.type&&e.spin("small"),this._opts.static||(this.timer=setTimeout((function(){t.fadeOut(e)}),t._opts.timeout))},u.prototype.fadeOut=function(e){var t=this;this._$cnt.fadeOut(this._opts.timeFade,(function(){e&&e.spin(!1),t.remove()}))},u.prototype.remove=function(){this._$cnt.remove(),clearTimeout(this.timer),this._opts.onClose&&this._opts.onClose()},t.tips=function(e,t){return new u(r.extend({tips:e},t))},t.info=function(e,t){return new u(r.extend({tips:e,type:"info"},t))},t.success=function(e,t){return new u(r.extend({tips:e,type:"success"},t))},t.alert=function(e,t){return new u(r.extend({tips:e,type:"alert"},t))},t.help=function(e,t){return new u(r.extend({tips:e,type:"help"},t))},t.loading=function(e,t){return new u(r.extend({tips:e,type:"loading"},t))}},OZ55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={enterprise:{backUrl:"//7.idqqimg.com/edu/jslib/enterprise/enterpriseAPI_v1.0.2.js",url:"//midas.gtimg.cn/enterprise/js/enterpriseAPI_v1.0.2.js",isLoad:function(){return!!(window.TEG&&window.TEG.Service&&window.TEG.Service.EnterprisePay)},loadTimes:0,errMsid:2531948,timesMsid:2531947}},i={},o=null,a=function(e,t){!function(e,t,n,r){if(e in i)return t?t(e):"";i[e]=!0;var a=document.createElement("script"),u=function(){o&&(clearTimeout(o),o=null,"onload"in a&&(a.onload=null),"onerror"in a&&(a.onerror=null),"onreadystatechange"in a&&(a.onreadystatechange=null))},c=function(){u(),n&&n(e)};n&&"onerror"in a&&(a.onerror=c),t&&(a["onload"in a?"onload":"onreadystatechange"]=function(){var n="function"!=typeof r||r(e);this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(!n&&/MSIE 8\./i.test(navigator.userAgent)?c():(u(),t(e)))}),o=window.setTimeout(c,5e3),a.type="text/javascript",a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}(e,t)},u={loadEnterPrise:function(e){return(t=r.enterprise,function(e){t.isLoad()?"function"==typeof e&&e():(t.loadTimes++>=1&&(t.url=t.backUrl),a(t.url,e))})(e);var t}};t.default=u},Oci2:function(e,t,n){},OcuG:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PayObnAct=void 0;var i=r(n("gBQG")),o=r(n("+jPT")),a=r(n("EAVL")),u=r(n("oywu")),c=n("F5LU"),s=n("PxJq"),l=n("1Pex"),d=n("P87J"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p=function(){function e(){(0,a.default)(this,e),this.obnAct=new s.ObnAct}return(0,u.default)(e,[{key:"isAct",value:function(){return this.obnAct.isAct.call(this.obnAct)}},{key:"getCallbackUrlParam",value:function(e){var t=this.getPayPrice(e),n=this.getBonusPrice(t);if(n<100)return null;var r=this.obnAct.getObnActTime(),i=(0,o.default)(r,2),a=i[0],u=void 0===a?0:a,c=i[1],d=void 0===c?0:c,f=+new Date;if(f<u||f>d)return null;var p=3*n,h=(0,s.getObnParam)()||{};return Object.assign(Object.assign({},h),{actPrice:p,actType:l.ActType.Obn})}},{key:"beforePayCheck",value:function(){return f(this,void 0,void 0,i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkObnInfoValid();case 2:if(e.sent){e.next=8;break}return t=(0,s.getObnId)(),n=(0,s.getJumpUrl)("",t),c.Jumper.jump(n),e.abrupt("return",{pass:!1});case 8:return e.abrupt("return",{pass:!0});case 9:case"end":return e.stop()}}),e,this)})))}},{key:"getPayOpts",value:function(e){var t,n,r=null===(t=null==e?void 0:e.payParam)||void 0===t?void 0:t.orderReportExt,i=null===(n=null==e?void 0:e.productId)||void 0===n?void 0:n.fid,o=this.getObnId(Number(i)),a=Object.assign(Object.assign({},e),{isObn:!0});if(o){r=Object.assign(Object.assign({},r),{obn_id:o});var u=null==e?void 0:e.payParam;a=Object.assign(Object.assign({},a),{payParam:Object.assign(Object.assign({},u),{orderReportExt:r})})}return a}},{key:"checkObnInfoValid",value:function(){return f(this,void 0,void 0,i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,s.getObnId)()){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,(0,s.checkObnIdIsValid)(t);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))}},{key:"getObnId",value:function(e){try{return(0,s.getObnId)(e)}catch(e){return d.imlog.error("[obnId get err]",e),(0,c.getQuery)("obnId")}}},{key:"getPayPrice",value:function(e){var t,n,r,i=(null===(t=null==e?void 0:e.priceInfo)||void 0===t?void 0:t.realPrice)||0,o=(null===(n=null==e?void 0:e.priceInfo)||void 0===n?void 0:n.discountPrice)||0,a=(null===(r=null==e?void 0:e.priceInfo)||void 0===r?void 0:r.redEnvelope)||0;return(null==e?void 0:e.isIAP)?o-a:i}},{key:"getBonusPrice",value:function(e){var t=this.obnAct.getRatio();return 100*Math.floor(e*t*.01)}}]),e}();t.PayObnAct=p},Od4D:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];_$out_.push('<section class="mod-promotion container-1200" id="mod-promotion"> <a class="mod-promotion-main" href="javascript: void(0);" style="background-image: url(',act_main.pc_pic_url,')">查看更多 ></a> <div class="mod-promotion-slide"> <ul class="mod-promotion-cells clearfix" style="width: ',245*act_halls.length,'px;"> ');for(var i=0,len=act_halls.length;i<len;i++){var cellData=act_halls[i];_$out_.push(' <a href="javascript: void(0);" class="mod-promotion-cell"> <div class="mod-promotion-cell-bg" style="background-image: url(',cellData.pc_pic_url,')"></div> <div class="mod-promotion-cell-',cellData.status,' mod-promotion-cell-content">',cellData.content,'</div> <div class="js-jump">',cellData.btnText,"</div> </a> ")}return _$out_.push(' </ul> <div class="mod-promotion-slide-btn-prev mod-promotion-slide-btn"> <i class="icon-font i-v-left"/> </div> <div class="mod-promotion-slide-btn-next mod-promotion-slide-btn"> <i class="icon-font i-v-right"/> </div> </div></section>'),_$out_.join("")}}},OeUq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatch=function(e){switch(e.discount_sign){case r.PlatformDiscountType.Coupon:return new i.PlatformCouponImp(e);default:return e}};var r=n("sPX+"),i=n("P6dO")},OhlG:function(e,t){e.exports="//9.idqqimg.com/edu/wx_qrcode_e9805b509d78bb2ecbcf62d5383e43d5.png"},OlRL:function(e,t,n){var r=n("1RNr");r.extend({getSelectCourse:r.httpMethod({url:"/cgi-bin/h5/homepage_course_center",noNeedLogin:!0}),getCustomCourses:r.httpMethod({url:"/cgi-bin/h5/homepage_custom_module",noNeedLogin:!0}),getSASData:r.httpMethod({url:"//sas.qq.com/cgi-bin/db/data",dataType:"jsonp"})}),e.exports=r},OqD3:function(e,t){var n=function(){};function r(e){this.intervalTimer=null,this.duration=e.duration||10,this.onTick=e.onTick||n,this.onTimeout=e.onTimeout||n,this.time=e.time,this.time>0?this.start():this.onTimeout()}r.prototype={start:function(){var e=this;this.clearTimer(),this.intervalTimer=setInterval((function(){e.time=e.time-e.duration,e.time>0?e.onTick(e.time):(e.clearTimer(),e.onTimeout())}),1e3*this.duration)},reset:function(e){this.clearTimer(),this.time=e,this.start()},clearTimer:function(){clearInterval(this.intervalTimer),this.intervalTimer=null}},e.exports=r},P6dO:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformCouponImp=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=n("cCMk"),l=n("sPX+");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){var e;return(0,i.default)(this,n),(e=t.apply(this,arguments)).type=l.PlatformDiscountType.Coupon,e.desc="平台优惠券",e}return(0,o.default)(n,[{key:"getPayParam",value:function(){return{platform_cou_id:this.getId()}}}]),n}(s.BaseCouponImp);t.PlatformCouponImp=f},P87J:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={imlog:!0,log:!0,monitor:!0};t.monitor=t.log=t.imlog=void 0;var i=n("DFOF");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n("F5LU"),a=n("LQr6"),u=new o.Logger({channel:"edu-pay-v2",moduleName:"支付模块",monitorPoints:i.monitorPoints,MonitorType:i.MonitorType,ignoreErr:a.IGNORE_ERROR}),c=u.imlog;t.imlog=c;var s=u.log.bind(u);t.log=s;var l=u.monitor.bind(u);t.monitor=l},PHNG:function(e,t,n){var r,i=n("xeH2"),o=(i(window),function(e){var t=document.createElement("b");return t.innerHTML="\x3c!--[if IE "+e+"]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length});e.exports={init:function(e){setTimeout((function(){(o(8)||o(9))&&function(e){var t=(e=e||{}).url;if(t){var n='<p style="line-height:24px;position:fixed;top:0;width:100%;text-align:center;min-width: 900px;background-color:#F6F6CC;color:#333;z-index:901;">为了正确区分学员来源，分享给学员请复制链接: <a href="'+t+'" target="_blank" >'+t+'</a>&nbsp;&nbsp;<span class="js-agency-hash-close"><i style="color: #ccc;cursor: pointer;" class="icon-font i-close"></i></span></p>';r||((r=document.createElement("div")).id="edu-low-version",r.style.cssText="height:24px;width:100%;",r.innerHTML=n,i(document.body).prepend(r),i(".js-agency-hash-close").on("click",(function(){i("#edu-low-version").remove()})))}}(e)}),1e3)}}},PTmF:function(e,t,n){},Pphc:function(e,t,n){var r=n("xeH2"),i=n("1RNr");i.extend({get_taid:i.httpMethod({url:"/cgi-bin/web_ke/get_term_info",noNeedLogin:!0})}),r.render={},r.render.time=function(){var e=60*(480+(new Date).getTimezoneOffset());function t(t,n){return 0===e?parseInt(t):parseInt(parseInt(t)+e*(n?1:-1))}function n(e){return("0"+e).slice(-2,3)}function i(e,n,r){if(!n)return"";function i(e,t){return e=e||0,1==(t=t.length)?e:String(Math.pow(10,t)+e).slice(-t)}return"number"==typeof n&&(n=new Date(n)),!r&&(n=new Date(1e3*t(parseInt(n.valueOf()/1e3,10),!0))),e.replace(/([YMDhsm])\1*/g,(function(e){switch(e.charAt()){case"Y":return i(n.getFullYear(),e);case"M":return i(n.getMonth()+1,e);case"D":return i(n.getDate(),e);case"w":return n.getDay()+1;case"h":return i(n.getHours(),e);case"m":return i(n.getMinutes(),e);case"s":return i(n.getSeconds(),e)}}))}var o={1:[[0,"今天"],[86400,"昨天"],[259200,"一周内"],[604800,"更早"]],"1-en":[[0,"today"],[86400,"yesterday"],[259200,"thisweek"],[604800,"earlier"]],2:[[60,"刚刚"],[3600,"$m分钟前"],[36e3,"$h小时前"],[82800,"今天"],[86400,"昨天"],[172800,"前天"],[259200,"一周内"],[604800,"一周前"],[2592e3,"一个月前"],[7776e3,"三个月前"],[15811200,"半年前"],[31536e3,"一年前"]]};function a(e,t,n){n=n||"default",t=t||new Date,e=new Date(1e3*e),t=t?new Date(1e3*t):new Date;var r=o[n]||o[1],i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);e instanceof Date&&(e=e.getTime());for(var a,u,c=i-e,s=0,l=r.length;s<l&&c>1e3*(a=r[s])[0];s++)u=a[1];return u}var u={};return{fixTimezone:t,format:function(e,r,o,u){r=r||1;var c=o?new Date(u?o:1e3*t(o,!0)):new Date,s=new Date(u?e:1e3*t(e,!0)),l=s.getHours()+":"+n(s.getMinutes()),d="";switch(d=c.getFullYear()===s.getFullYear()&&c.getMonth()===s.getMonth()&&c.getDate()===s.getDate()?"今天":s.getMonth()+1+"月"+s.getDate()+"日",r){case 1:return d+" "+l;case 2:return d;case 3:return l+":"+n(s.getSeconds());case 4:return i("M月DD日",s,!0)+" "+["周日","周一","周二","周三","周四","周五","周六"][s.getDay()];case 5:return a(s,c,"1-en");case 6:return i("YYYY-MM-DD hh:mm",s,!0);case 7:return i("YYYY-MM-DD",s,!0)}},changeHour:function(e){return Math.floor(e/60/60)+":"+Math.floor(e/60%60)},formatDate:i,courseStatus:function(e,t){if(!e||!e.begintime||!e.endtime)return{ec:1};var n,i=1e3*e.begintime,o=1e3*e.endtime,a=(new Date).getTime(),c=0;t&&t.server_time?c=1e3*t.server_time+100-a:e.id&&u[e.id]&&(c=u[e.id]),(c>2e3||c<-2e3)&&(c=0),e.id&&c&&(u[e.id]=c);var s={ec:0,status:n=(a+=c)<i?1:a>o?-1:0};return c&&(s.t_delta=c),-1==n&&(s.expired_str=r.render.time.format(e.endtime,5,Math.floor(a/1e3))),s},fromNow:a,fromNowStr:function(e,t){e=new Date(1e3*e);var n=((t=t?new Date(1e3*t):new Date)-e)/1e3;return n<60?"刚刚":n<3600?Math.floor(n/60)+"分钟前":n<86400?Math.floor(n/3600)+"小时前":n<864e4?Math.floor(n/24/3600)+"天前":"很久之前"},fromStartTime:function(e,t){var n=((e=new Date(1e3*e))-(t=t?new Date(1e3*t):new Date))/1e3;if(n<0)return"已结束";if(n<60)return"1分钟";var r=Math.floor(n/3600),i=Math.ceil((n-3600*r)/60);return(r?r+"小时":"")+(i?i+"分钟":"")},formatTermTime:function(e){var t,n,r=new Date(1e3*e.bgtime),o=new Date(1e3*e.endtime),a=new Date(1e3*e.systime);return r.getFullYear()===a.getFullYear()?(t="MM月DD日",n=o.getFullYear()===a.getFullYear()?"MM月DD日":"YY年MM月"):(t="YY年MM月",n="YY年MM月"),{bgtime:i(t,r),endtime:i(n,o)}},formatRemainTime:function(e,t){var n,r,i,o;return e=parseInt(e,10)||0,n=Math.floor(e/86400),e%=86400,r=Math.floor(e/3600),e%=3600,i=Math.floor(e/60),o=e%60,("function"==typeof t?t(n,r,i,o)||"dd天hh小时mm分ss秒":"string"==typeof t&&t||"dd天hh小时mm分ss秒").replace(/dd/i,n).replace(/hh/i,r).replace(/mm/i,i).replace(/ss/i,o)}}}();var o=function(e,t,n){return e>=t&&e<n};r.render.formatStudyNum=function(e){return o(e,0,1e4)?e+"":o(e,1e4,1e8)?Math.floor(e/1e4)+"万":Math.floor(e/1e8)+"亿"},r.render.fomartTermDuration=r.render.formatTermTuration=function(e){var t;if(e.bgtime){var n=r.render.time.formatTermTime(e);return{begin:n.bgtime+"开课",end:n.endtime+"结课"}}var i=new Date(1e3*e.endtime),o=new Date(1e3*e.systime);return t=i.getFullYear()===o.getFullYear()?"MM月DD日":"YY年MM月",{begin:"随到随学",end:r.render.time.formatDate(t,i)+"结课"}},r.render.summary=function(e){return(e||"").replace(/<br>/g,"")},r.render.wrap=function(e){return(e||"").replace(/<br>/g,"\n")},r.render.qb=function(e){return((e/100).toFixed(2)+"").replace(/\.?0{1,2}$/,"")+"Q币"},r.render.price=function(e,t,n,r){if(0===e)return r?t?"0.00":"0.00元":"免费";if(e){var i=(e/100).toFixed(2);if(n){for(var o=i.split("."),a=o[0].split(""),u=o[1],c="",s=a.length-1,l=0;s>=0;s--,l++)l%3==0&&0!==l&&(c=","+c),c=a[s]+c;i=c+"."+u}return t?i:i+"元"}return""},r.render.formatPrice=function(e,t){var n;return t||(t={}),0===e?n=t.showFreeNumber?"¥0.00":"免费":e?(n=(e/100).toFixed(2),n=t.noYen?n:"¥"+n):n="",n},r.render.url=function(){function e(e,t){var n,i,o;switch(e){case"all":n="groupwpa",i="all",o='{"groupUin":'+t.gc+', "timeStamp":1383552440}';break;case"OpenGroup":n="groupwpa",i="OpenGroup",o='{"ExtParam":{"appId":'+(t.appId||0)+'},"groupUin":'+t.guin+',"visitor":1}';break;case"VisitPublicGroup":n="VisitPublicGroup",i="VisitPublicGroup",o='{"ExtParam":{"appId":"0"},"groupUin":'+t.gc+',"visitor":1}';break;case"CourseLive":n="VisitPublicGroup",i="VisitPublicGroupEx",o='{"ExtParam":{"appId":"21","appParam":"{\\"CourseId\\":'+t.courseId+'}"},"groupUin":'+t.gc+',"visitor":1}'}return n?function(e,t,n,r){return e?function(e,t,n,r){return e?"tencent://"+e+"/?subcmd="+t+"&param="+n+(r?"&fuin="+r:""):""}(e,t,n=function(e){e+="";for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n).toString(16).toUpperCase());return t.join("")}(n),r):""}(n,i,o,r.cookie.uin()||void 0):""}return{live:function(e,t){var o=n("I5uA"),a=n("oRpG");t||(t={});var u,c=r(e),s=c.data("cid"),l=(c.data("aid"),c.data("tid")),d=c.data("taid"),f=navigator.platform,p=!f||"Win32"===f||"Win64"===f||"Windows"===f;if(c.attr("report-close")&&c.trigger("doReport"),a.isWeixinUser())return d?void window.open("//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+l+"&taid="+d):void(p?i.get_taid({param:{course_id:s,term_id:l},succ:function(e){var t=e.result.term_info.lastest_live_task,n=t&&t.taid;window.open("//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+l+"&taid="+n)}}):(u=window.open("","_blank"),i.get_taid({param:{course_id:s,term_id:l},succ:function(e){var t=e.result.term_info.lastest_live_task,n=t&&t.taid;setTimeout((h="//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+l+"&taid="+n,void(u&&(u.location=h))),0)}})));var h=c.data("target"),v=(c.data("type"),0===h.indexOf("tencent"));if(c.attr("href","javascript:void(0);"),v){if(!o.isLogin())return void o.show({succ:function(){r(document).trigger("loginSucc"),setTimeout((function(){location.reload()}),200)}});if(h=h.replace(/(&)?fuin=(\d)*/,""),!p)return d?(h="//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+l+"&taid="+d,window.open(h,"_blank")):(u=window.open("","_blank"),i.get_taid({param:{course_id:s,term_id:l},succ:function(e){var t=e.result.term_info.lastest_live_task,n=t&&t.taid;setTimeout((h="//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+l+"&taid="+n,void(u?u.location=h:window.open(h,"_blank"))),0)}})),void(v=!1)}if(v){var g=r.cookie.uin();h.indexOf("fuin")<0&&g&&(h=h+"&fuin="+g),h+="&st="+(new Date-0),t.newcard?r(document).trigger("openQQClientLiveNew",[e]):r(document).trigger("openQQClientLive",[e])}window.open(h,v?"_self":"_blank")},enterAgencyHall:function(e){var t=r(e).attr("data-target"),i=n("I5uA");if(r(e).attr("href","javascript:void(0);"),r.bom.checkPlatform())if(i.isLogin()){t=t.replace(/(&)?fuin=(\d)*/,""),r(document).trigger("enterAgencyHall",[e]);var o=r.cookie.uin();t.indexOf("fuin")<0&&o&&(t=t+"&fuin="+o),t+="&st="+(new Date-0),window.open(t,"_self")}else i.show({succ:function(){r(document).trigger("loginSucc"),setTimeout((function(){r(e).click()}),200)}})},liveForOpenRoom:function(e,t){var n=r(e).attr("data-target"),i=0===n.indexOf("tencent");if(r(e).attr("href","javascript:void(0);"),!i||r.bom.checkPlatform()){if(i&&(n=n.replace(/(&)?fuin=(\d)*/,"")),n.indexOf("fuin")<0){var o=r.cookie.uin();o&&(n+="&fuin="+o,r(e).attr("href",n))}i&&!t&&r(document).trigger("openQQClientLive",[e]),window.open(n,i?"_self":"_blank")}},discuss_old:function(t,n,r){return!r.is_member&&!(!r.is_pub||!r.guin)?e("openGroup",{guin:r.guin}):e("all",{gc:n})},discuss:function(t,n,r){var i=!0;return r&&r.is_member&&(i=!1),e(i?"VisitPublicGroup":"all",{gc:n})},course_pay:function(e){return"//ke.qq.com/course/"+e+"?pay=1"},teacher_detail:function(e){return"//ke.qq.com/teacher/"+e},course_detail:function(e){return"//ke.qq.com/course/"+e},video_play_page:function(e){return"//ke.qq.com/course/"+e},agency_detail:function(e){return"//ke.qq.com/cgi-bin/agency?aid="+e},agency_domain:function(e){return"//"+e},package_detail:function(e){return"//ke.qq.com/course/package/"+e}}}(),r.render.courseTime=function(e){var t="";return e&&e.show_id?(1==e.show_id?t=r.render.courseTimeMode1(e):2==e.show_id?t=r.render.courseTimeMode2(e):3==e.show_id&&(t=r.render.courseTimeMode3(e)),1==e.filter_holiday&&(t+="(节假日除外)"),t):t},r.render.formatLiveTime=function(e,t){var n=r.render.time.formatDate("M月D日 hh:mm",1e3*e);return n+="-",new Date(1e3*e).getDate()!=new Date(1e3*t).getDate()&&(n+="次日"),n+=r.render.time.formatDate("hh:mm",1e3*t)},r.render.timeSpan=function(e,t){for(var n=[],i=function(e){return e<10?"0"+e:e},o=0,a=(e=e||[]).length;o<a;o++){var u=new Date(1e3*(t?e[o].bgtime:r.render.time.fixTimezone(e[o].bgtime,!0))),c=new Date(1e3*(t?e[o].endtime:r.render.time.fixTimezone(e[o].endtime,!0)));n.push([u.getHours()+":"+i(u.getMinutes()),"~",c.getHours()+":"+i(c.getMinutes()),c.getDate()!=u.getDate()?"(第二天)":""].join(""))}return n.join("、")},r.render.formatTimeSpan=function(e,t){for(var n,i=[],o=0,a=(e=e||[]).length;o<a;o++){var u=new Date(1e3*(t?e[o].bgtime:r.render.time.fixTimezone(e[o].bgtime,!0)));i.push([u.getHours()+":"+(n=u.getMinutes(),n<10?"0"+n:n)].join(""))}return i.join("、")},r.render.number=function(e,t,n){n="function"==typeof n?n:function(e,t){return'<span title="'+e+'"'+(e===t?"":' class="over-size"')+">"+t+"</span>"};var r=e=parseInt(e,10)||0;return(t=parseInt(t,10))&&(r=e>=t?t-1+"+":e),n(e,r)},r.render.number_plus=function(e){return((e=parseInt(e,10)||0).toString().length>4?(e/1e4).toFixed(0)+"W":e.toString()).replace(/\.0+/,"")},r.render.formatTitle=function(e){return(e=e||"").replace(/<br>/g,"\n")},r.render.formatAnalyzeTime=function(e,t,n,r){e=e||0,n=n||"";var i=new Date;function o(e){return 1==e.toString().length?"0"+e:e}i.setDate(i.getDate()+e);var a=o(i.getFullYear()),u=o(i.getMonth()+1),c=o(i.getDate());return r?u+n+c:a+n+u+n+c},r.render.cgiErrorWording=function(){return'    <div class="section-msg">                        <div class="msg-inner">                            <i class="icon-msg-large icon-font i-info"></i>                            <div class="msg-text">服务器异常，请稍后再试!</div>                        </div>                    </div>'},r.render.showEnterRoomFailureTips=function(e){var t=r(e),n=t.data("cid"),o=t.data("tid"),a=t.data("taid");function u(){r.modal({content:'<div class="modal-live-guide clearfix">            <div class="module-live-t clearfix">                <h3 class="live-guide-title">课堂还没打开？快试试下面的修复方法</h3>            </div>            <div class="guide-hint">                <p class="guide-hint-p">1. 浏览器是否有加载提示？若有请点击允许</p><br/>                <p class="guide-hint-p">2. 确认已安装<a href="http://im.qq.com/pcqq" target="_blank" class="nor-link">最新版QQ</a>。若重新装了QQ，请重启浏览器。(重启浏览器前，可复制该页面的地址以便重新进入）</p><br/>                <p class="guide-hint-p">3. 重新打开这个页面，再次进入课堂。</p>            </div>        </div>',icon:"info",title:"提示",txtYes:"使用网页上课",txtNo:"我知道了",className:"live-guide-tips",yes:function(){if(n&&o){var e="//ke.qq.com/webcourse/index.html#course_id="+n+"&term_id="+o+"&taid="+a;window.open(e)}}})}a?u():i.get_taid({param:{course_id:n,term_id:o},succ:function(e){var t=e.result.term_info.lastest_live_task;a=t&&t.taid,u()}})},r.render.courseFlags=function(e,t,n,i){var o=0,a=[];if(r.isArray(e)){var u=e.length;o=Math.min(t,u);for(var c=0;c<o;c++)r.trim(e[c].name).length>0&&a.push('<a class="flags-item flags-item-'+e[c].id+'" data-id="'+e[c].id+'" href="javascript:;" title="'+e[c].name+'">'+strEllipsis.substring(e[c].name,84,1)+'<i class="flags-close">&times;</i></a>')}return n&&o<t&&a.push('<a class="flags-add" href="javascript:;"'+(i?' auto-test="'+i+'"':"")+'><i class="plus">+</i>添加</a>'),a.join("")},r.render.orderCourseStateMap=function(e){var t="";switch(e){case 4:t="报名失败";break;case 1:case 5:t="报名成功";break;case 2:case 3:case 6:case 7:t="订单确认中";break;case 8:case 9:t="退款中";break;case 10:t="退款完成";break;case 11:t="退款失败"}return t},r.render.orderStateMap=function(e){return["","待付款","付款确认中","已付款","","退款中","已退款","退款确认中"][e]||""},r.render.settlemenStateMap=function(e){var t="";switch(e){case 1:t="结算中";break;case 2:t="已结算";break;case 3:t="未结算";break;case 4:t="无需结算"}return t},r.render.fixImageWidth=function(e,t){return e+(e.indexOf("/eth/")>-1?t:"")},r._toArray=function(e,t){if(r.isArray(e))return e;try{return t&&(e=html.decode(e)),e=JSON.parse(e),r.isArray(e)?e:[]}catch(e){return[]}},r.render.number_cn=function(e,t){t=t||1;var n=[],r=["","十","百","千"];for(e=Math.max(parseInt(e,10)||t,t).toString().split("");e.length;){var i=parseInt(e.shift(),10);n.push("零一二三四五六七八九十".charAt(i)+(0===i?"":r[e.length]))}return n.join("").replace(/^一(十)|零+$/g,"$1")},r.render.str={unescapeSpace:function(e){return(e||"").replace(/&nbsp;/g," ")},unescapeBR:function(e){return(e||"").replace(/<br>/g,"&#10;")},removeProtocol:function(e){return(e||"").replace(/(href="|src="|href=&quot;|src=&quot;)http:\/\/(jsonp.ke.qq.com|ke.qq.com|\d{1,2}.idqqimg.com|export.highcharts.com|p.qic.cn|mobileapp.ke.qq.com|imgcache.gtimg.cn|imgcache.qq.com|qzs.qq.com|q.qlogo.cn|p.qlogo.cn|captcha.qq.com|xui.ptlogin2.qq.com|ui.ptlogin2.qq.com|open.weixin.qq.com|qplus3.idqqimg.com|badjs.qq.com|badjs2.qq.com|cgi.pub.qq.com)/g,"$1//$2")}},r.render.score={toStar:function(e){var t,n,r="";n=(e=(e||0)/100)-(t=parseInt(e,10));for(var i=0;i<t;i++)r+='<i class="no-event"></i>';.25<n&&n<.75?(t+=1,r+='<i class="no-event half-star"></i>'):n>.75&&(t+=1,r+='<i class="no-event"></i>');var o=5-t;if(o>0)for(var a=0;a<o;a++)count++,r+='<i class="no-event"></i>';return r},toString:function(e){return(e=((e||0)+5)/100).toFixed(1)}},r.render.face=function(e){return-1!==e.indexOf("//10.url.cn/eth")?e+130:e},e.exports=r},Psbu:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.StaticImgRetry=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=n("r/kS"),l=n("yEZz"),d=n("1RQl"),f=n("1bTK");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,a.default)(n,e);var t=p(n);function n(){var e;return(0,i.default)(this,n),(e=t.apply(this,arguments)).wrappedImgElements=[],e.elementOriginalMap=new Map,e}return(0,o.default)(n,[{key:"observe",value:function(e){var t=this,n=[],r=this.opts.includes;"string"==typeof r?n=[r]:Array.isArray(r)&&(n=r),(0,l.getImgElements)(e,(function(e){e.forEach((function(e){var r=e.getAttribute("src"),i=e.getAttribute("data-src")||e.getAttribute("lazy-src"),o=!n.length||r&&n.some((function(e){return r.indexOf(e)>-1}));!i&&o&&t.wrap(e)}))}))}},{key:"wrap",value:function(e){if(-1===this.wrappedImgElements.indexOf(e)){this.wrappedImgElements.push(e);var t=this.opts,n=t.proxy,r=t.defaultImg,i=void 0===r?s.DEFAULT_IMG:r,o=e.src,a=e.onerror,u=(0,d.getProxyURL)(n,o);(0,f.wrapImgElement)(e,u,i,this.opts),this.elementOriginalMap.set(e,{onerror:a})}}},{key:"destroy",value:function(){}}]),n}(n("cUZS").ImgRetry);t.StaticImgRetry=h},PxJq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("9GnI");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},Q2Ko:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ApplyStatusChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("2dtd"),l=n("P87J"),d=n("GYbC"),f=n("XwTY"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(t,n){(0,o.default)(this,e),this.payData=t,this.opts=n,this.orderInfo=(0,d.getOrderInfo)(t.detail,n),this.curTerm=(0,d.getCurTermInfo)(t.detail,n)}return(0,a.default)(e,[{key:"check",value:function(){var e;return h(this,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isPunished()){t.next=2;break}return t.abrupt("return",(0,f.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.Punished)));case 2:if(!this.isOrderPaying()){t.next=4;break}return t.abrupt("return",(0,f.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.OrderPaying)));case 4:if(!this.isOrderConfirming()){t.next=6;break}return t.abrupt("return",(0,f.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.OrderConfirming)));case 6:if(!this.isRefunding()){t.next=8;break}return t.abrupt("return",(0,f.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.Refunding)));case 8:if(!this.isSignFull()){t.next=10;break}return t.abrupt("return",(0,f.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.SignFull)));case 10:if(!this.isStudyOver()){t.next=12;break}return t.abrupt("return",(0,f.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.StudyOver)));case 12:if(!this.isApplyOver()){t.next=14;break}return t.abrupt("return",(0,f.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.ApplyOver)));case 14:if(!this.isApplied()){t.next=18;break}if(!(0,d.isCoursePkg)(this.opts)){t.next=17;break}return t.abrupt("return",c.Jumper.jumpCoursePkg({pid:(0,d.getPid)(this.opts)}));case 17:return t.abrupt("return",c.Jumper.jumpCourseDetail({cid:(0,d.getCid)(this.opts),tid:null===(e=this.opts)||void 0===e?void 0:e.curTermId}));case 18:return t.abrupt("return",(0,f.getPassResult)(!0));case 19:case"end":return t.stop()}}),t,this)})))}},{key:"isOrderPaying",value:function(){return(0,d.isOrderPaying)(this.orderInfo)}},{key:"isOrderConfirming",value:function(){return(0,d.isOrderConfirming)(this.orderInfo)}},{key:"isSignFull",value:function(){return(0,d.isTermSignFull)(this.curTerm)}},{key:"isStudyOver",value:function(){return(0,d.isTermStudyOver)(this.curTerm)}},{key:"isRefunding",value:function(){return(0,d.isRefunding)(this.orderInfo)}},{key:"isApplied",value:function(){return(0,d.isApplied)(this.orderInfo)}},{key:"isApplyOver",value:function(){return(0,d.isTermApplyOver)(this.curTerm)}},{key:"isPunished",value:function(){var e,t;return null===(t=null===(e=this.payData)||void 0===e?void 0:e.ext)||void 0===t?void 0:t.isPunished}}]),e}();t.ApplyStatusChecker=v,p([(0,l.log)("支付状态checker")],v.prototype,"check",null)},Q7IB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("MR6g");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("I+bn");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("Ye0L");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n("rBe4");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var u=n("rrg5");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}))},"QBS+":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSasData=l,t.getPendantData=function(){return s(this,void 0,void 0,a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u.default.info("【活动挂件】"),e.next=4,l();case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),u.default.error("【活动挂件】","【活动挂件数据拉取失败】",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))},t.PENDANT_SHOW_PLATFORM=void 0;var i,o,a=r(n("gBQG")),u=r(n("HO9c")),c=n("F5LU"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function l(){return s(this,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||0!==o.retcode||!o.result){e.next=4;break}return e.abrupt("return",Promise.resolve(o.result));case 4:return e.abrupt("return",(0,c.fetch)("//sas.qq.com/cgi-bin/ke_operationpos_coursedetail").then((function(e){var t=o=e,n=t.result,r=t.date;return n.forEach((function(e){e.servertime=r})),o.result})));case 5:case"end":return e.stop()}}),e)})))}t.PENDANT_SHOW_PLATFORM=i,function(e){e.H5="H5",e.ANDROID="Android",e.IOS="IOS",e.ALL="All"}(i||(t.PENDANT_SHOW_PLATFORM=i={}))},QJUa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPhone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"86",n=t.replace(/\+/,"");return r[n]?r[n].test(e):r.default.test(e)};var r={852:/^[5,6,9]\d{7}$/,853:/^6\d{7}$/,86:/^1\d{10}$/,886:/^0{0,1}[6,7,9](?:\d{7}|\d{8}|\d{10})$/,default:/^\d{1,14}$/}},QWRb:function(e,t,n){e.exports=n("/Q/+")},QoUC:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("ODXe")),o=r(n("1OyB")),a=r(n("vuIU")),u=r(n("c1Ye")),c=n("1KJH"),s=n("F5LU"),l=r(n("EY/S")),d=r(n("ni0a"));n("XHyY");var f={"/course/list":"courselist","/teacher/":"teacher","/course/package/":"pkg","/course/":"course","/views/index/index.html":"index","/views/list/index.html":"courselist","/views/agencyIndex/index.html":"agency","/views/teacher/index.html":"teacher","/views/courseDetail/index.html":"course","/views/pkgDetail/index.html":"pkg"};var p=new(function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"init",value:function(){var e=function(){var e=location,t=e.pathname,n=e.hostname;if("/"===t){if("ke.qq.com"===n)return"index";if(/^[^\.]+\.ke\.qq\.com$/.test(n))return"agency"}var r=Object.keys(f).find((function(e){if(0===t.indexOf(e))return!0}));return f[r]}();if(e){var t=$("#js-side-operation .mod-side-widget"),n=[(0,s.fetch)("//sas.qq.com/cgi-bin/ke_operation_pcDownloadAppWidget").then((function(e){return e.result}))];l.default.getInfo().then((function(r){r.is_login&&n.push((0,c.fetchCgiData)().then((function(e){return e&&e.is_new_user}))),Promise.all(n).then((function(n){var o=(0,i.default)(n,2),a=o[0],c=o[1];r.is_login&&!c||a&&a.show&&-1!==a.pages.indexOf(e)&&(t.append((0,d.default)(a)),u.default.tdw({action:"exposure",module:"guajian_pc"}))}))})),this.initEvents()}}},{key:"initEvents",value:function(){var e=this;$(document.body).on("mousemove",".dlapp-widget",(function(){e.qrcodeExposure||(e.qrcodeExposure=!0,u.default.tdw({action:"exposure",module:"guajian_pc_erweima"}))}))}}]),e}());t.default=p},Qvqf:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"encode",value:function(t){for(var n,r,i,o,a,u,c,s="",l=0,d=e.utf8Encode(t);l<d.length;)o=(n=d.charCodeAt(l++))>>2,a=(3&n)<<4|(r=d.charCodeAt(l++))>>4,u=(15&r)<<2|(i=d.charCodeAt(l++))>>6,c=63&i,isNaN(r)?u=c=64:isNaN(i)&&(c=64),s=s+e.encodeChars.charAt(o)+e.encodeChars.charAt(a)+e.encodeChars.charAt(u)+e.encodeChars.charAt(c);return s}},{key:"decode",value:function(t){for(var n,r,i,o,a,u,c="",s=0,l=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<l.length;)n=e.encodeChars.indexOf(l.charAt(s++))<<2|(o=e.encodeChars.indexOf(l.charAt(s++)))>>4,r=(15&o)<<4|(a=e.encodeChars.indexOf(l.charAt(s++)))>>2,i=(3&a)<<6|(u=e.encodeChars.indexOf(l.charAt(s++))),c+=String.fromCharCode(n),64!==a&&(c+=String.fromCharCode(r)),64!==u&&(c+=String.fromCharCode(i));return e.utf8Decode(c)}}],[{key:"utf8Encode",value:function(e){for(var t=e.replace(/rn/g,"n"),n="",r=0,i=0;i<t.length;i++)(r=t.charCodeAt(i))<128?n+=String.fromCharCode(r):r>127&&r<2048?(n+=String.fromCharCode(r>>6|192),n+=String.fromCharCode(63&r|128)):(n+=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128),n+=String.fromCharCode(63&r|128));return n}},{key:"utf8Decode",value:function(e){for(var t="",n=0,r=0,i=0,o=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(i=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o),n+=3);return t}}]),e}();a.encodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var u=new a;t.Base64=u},Qy0j:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={};t.default=void 0;var o=r(n("ZeZv")),a=r(n("+jPT")),u=r(n("gBQG")),c=r(n("EAVL")),s=r(n("oywu")),l=r(n("FO6Z")),d=n("sPX+"),f=n("5+fs"),p=n("OeUq"),h=n("VvcH"),v=n("WgYN");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var g=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,l.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},y=function(){function e(t,n){(0,c.default)(this,e),this.params=t,this.options=n,this.item=null,this.currentDiscountPayButtonData=null,this.couponDiscountPayButtonData=null,this.bargainDiscountBottomPayButtonData=null,this.currentDiscount=null,this.allDiscountList=[],this.log=[],this.finalPrice=0,this.originalPrice=0,this.couponPrice=0}return(0,s.default)(e,[{key:"getCurrentDiscount",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.currentDiscount);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getALLDiscountList",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.allDiscountList);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getPlatformDiscountByType",value:function(e){return m(this,void 0,void 0,u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.process();case 2:return t.abrupt("return",this.allDiscountList.find((function(t){return t.type===e})));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getCurrentDiscountPrice",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.finalPrice);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getCouponDiscountPrice",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.couponPrice);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getOriginPrice",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.originalPrice);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getCurrentDiscountPayButtonData",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.currentDiscountPayButtonData);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getCouponDiscountPayButtonData",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.couponDiscountPayButtonData);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getBargainDiscountBottomPayButtonData",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.process();case 2:return e.abrupt("return",this.bargainDiscountBottomPayButtonData);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"createDiscountByData",value:function(e){return m(this,void 0,void 0,u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.item=e,t.next=3,this.process();case 3:return t.abrupt("return",this.currentDiscount);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"process",value:function(){return m(this,void 0,void 0,u.default.mark((function e(){var t,n,r,i,o,c,s,l,h,v=this;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentDiscount){e.next=2;break}return e.abrupt("return");case 2:if(t=function(){var e;(e=v.log).push.apply(e,arguments)},n=function(){return m(v,void 0,void 0,u.default.mark((function e(){var n,r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(["fetchCGI"]),n=(0,f.fetchPricingCGICache)(this.params),e.next=4,n;case 4:return r=e.sent,e.abrupt("return",[r]);case 6:case"end":return e.stop()}}),e,this)})))},r=function(e){return m(v,void 0,void 0,u.default.mark((function n(){var r,i,o,c,s,l,p,h,v;return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["extractCGIData",e]),o=(0,a.default)(e,1),c=o[0],s=(null==c?void 0:c.result)||{},l=s.discounters_p2,p=void 0===l?[]:l,this.originalPrice=s.original_price,this.finalPrice=s.plan.final_price,this.couponPrice=(null===(r=s.p2_plan)||void 0===r?void 0:r.final_price)||this.originalPrice,this.currentDiscountPayButtonData=this.couponDiscountPayButtonData=this.bargainDiscountBottomPayButtonData={hasCoupon:!1,price:this.originalPrice},s.plan&&(this.currentDiscountPayButtonData=(0,f.getDiscountPayButtonData)(s.plan)||this.currentDiscountPayButtonData),s.p2_plan&&(this.couponDiscountPayButtonData=(0,f.getDiscountPayButtonData)(s.p2_plan)||this.couponDiscountPayButtonData),(h=s.extra_plans)&&h.length&&(v=h[0],(null===(i=null==v?void 0:v.items[0])||void 0===i?void 0:i.discount_sign)===d.InstitutionDiscountTypeInPricing.Bargain&&(this.bargainDiscountBottomPayButtonData=(0,f.getDiscountPayButtonData)(v)||this.bargainDiscountBottomPayButtonData)),n.abrupt("return",[p]);case 13:case"end":return n.stop()}}),n,this)})))},i=function(e){return m(v,void 0,void 0,u.default.mark((function n(){var r,i,o,c,s,l,d,f,p;return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["selectCGIData",e]),r=(0,a.default)(e,1),i=r[0],[],c=this.options||{},s=c.include,l=void 0===s?[]:s,d=c.exclude,f=void 0===d?[]:d,p=function(e){var t=!0,n=e.discount_sign;if(t&&l.length&&(t=!1,l.indexOf(n)>-1&&(t=!0)),t&&f.indexOf(n)>-1&&(t=!1),t){var r=e.discount_results;t=!(!r||!r.length)}return t},o=i.filter(p),n.abrupt("return",[o]);case 7:case"end":return n.stop()}}),n,this)})))},o=function(e){return m(v,void 0,void 0,u.default.mark((function n(){return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["formatCGIData",e]),n.abrupt("return",e);case 2:case"end":return n.stop()}}),n)})))},c=function(e){return m(v,void 0,void 0,u.default.mark((function n(){var r,i,o,c;return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["transformDiscountModel",e]),r=(0,a.default)(e,1),i=r[0],o=function(e){return(0,p.dispatch)(e)},c=i.map(o),n.abrupt("return",[c]);case 5:case"end":return n.stop()}}),n)})))},s=function(e){return m(v,void 0,void 0,u.default.mark((function n(){return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(["selectDiscountModel",e]),n.abrupt("return",e);case 2:case"end":return n.stop()}}),n)})))},l=function(e){return m(v,void 0,void 0,u.default.mark((function n(){var r,i,o,c,s,l,d,f,p;return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(["saveDiscountModel",e]),c=(0,a.default)(e,1),s=c[0],this.allDiscountList=s,this.currentDiscount=this.allDiscountList[0]||null,!(null===(r=this.currentDiscountPayButtonData)||void 0===r?void 0:r.p2)){n.next=16;break}l=null===(o=null===(i=this.currentDiscountPayButtonData)||void 0===i?void 0:i.p2)||void 0===o?void 0:o.discount_sign,d=this.allDiscountList.length,f=0;case 8:if(!(f<d)){n.next=16;break}if((p=this.allDiscountList[f]).type!==l){n.next=13;break}return this.currentDiscount=p,n.abrupt("break",16);case 13:f++,n.next=8;break;case 16:case"end":return n.stop()}}),n,this)})))},h=function(e){return m(v,void 0,void 0,u.default.mark((function n(){return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(["errorHandler",e]);case 1:case"end":return n.stop()}}),n)})))},!this.item){e.next=13;break}return e.abrupt("return",Promise.resolve([[this.item]]).then(c).then(s).then(l).catch(h));case 13:return e.abrupt("return",Promise.resolve().then(n).then(r).then(i).then(o).then(c).then(s).then(l).catch(h));case 14:case"end":return e.stop()}}),e,this)})))}}]),e}();t.default=y,g([h.log.apply(void 0,(0,o.default)(h.MonitorArgs[h.MonitorKey.PLATFORM_CREATE_DATA]))],y.prototype,"createDiscountByData",null),g([h.log.apply(void 0,(0,o.default)(h.MonitorArgs[h.MonitorKey.PLATFORM_PROCESS]))],y.prototype,"process",null)},Qynd:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.BalancePay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("uIhe"),s=n("vqVK"),l=n("DjHw"),d=n("0GaA"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p=function(){function e(t,n){(0,o.default)(this,e),this.opts=n,this.orderHandler=new l.Order(t),this.callbackUrl=new d.CallbackUrl(t)}return(0,a.default)(e,[{key:"pay",value:function(){return f(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.orderHandler.getOrderParam();case 3:return t=e.sent,n=this.callbackUrl.getReturnUrlParam(),r=h(window.location,n||{}),window.history.pushState({},document.title,r),e.next=9,(0,u.fetch)("/cgi-bin/pay_access/pay_with_balance",{data:t});case 9:return o=e.sent,(0,u.isPC)()&&this.pcSucc(),c.imlog.monitor(34647628),c.imlog.info("【支付模块】","【余额支付成功】",o),this.opts&&this.opts.succ&&this.opts.succ(o),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(0),c.imlog.monitor(34647629),c.imlog.extra({retcode:e.t0&&e.t0.retcode,platform:(0,s.getPlatform)()}).error("【支付模块】","【余额支付失败】",e.t0),e.t0;case 22:case"end":return e.stop()}}),e,this,[[0,17]])})))}},{key:"pcSucc",value:function(){location.href=this.callbackUrl.getCallbackUrl()}}]),e}();function h(e,t){var n=e.hash,r=e.origin,i=e.pathname,o=e.search,a=Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&"),u=o?"".concat(o,"&").concat(a):"?".concat(a);return"".concat(r).concat(i).concat(u).concat(n)}t.BalancePay=p},"R/g0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCertIdParams=function(){var e=(0,r.getLocation)().pathname,t=/\/cert\/(\d+)-(\d+)\/?$/.exec(e);if(!t){var n=(0,r.getQueryObj)().id;if(!(t=/^(\d+)-(\d+)$/.exec(n)))return}return{proj_id:+t[1],phase_num:+t[2]}},t.getSignUpInfo=function(e){var t,n,r,o=e||{},a=o.status,u=o.start_type,c=void 0===u?0:u,s=o.is_bind_course,l=o.order_id,d=o.pay_course_id,f=o.next_term_id,p=i.CertificateStatus.CourseNotSignUp,h=i.CertificateStatus.CourseStudyNotComplete,v=i.CertificateStatus.CourseStudyComplete,g=i.CertificateStatus.RealNameCheck,m=i.CertificateStatus.RealNameNotPass,y=i.CertificateStatus.WritenNotPass,_=1===s,b={next_term_id:f,order_id:l,pay_course_id:d},w=i.ApplyCertType.First,k=i.ApplyCertType.SubTest,P=i.ApplyCertType.ResetTest;switch(c){case i.ApplyCertType.First:switch(a){case p:if(_)return;t=w,r=!0;break;case h:case g:return;case v:case m:t=w,r=!1;break;case y:t=k,r=!1;break;default:t=P,r=!0}break;default:switch(t=P,n=!f,a){case g:return;case v:case m:r=!1;break;default:r=!0}}return{type:t,payData:b,isNeedPay:r,isBindCourse:_,isOverLimit:n}},t.activateFormItem=function(e,t){var n=e.target.parentElement;for(;n&&!n.classList.contains("s-f-item");)n=n.parentElement;if(!n)return;t?n.classList.add("active"):n.classList.remove("active")},t.getValidTimeText=function(e){var t=e/12|0,n=t?"".concat(t,"年"):"",r=e%12?"".concat(t,"月"):"";return n+r},t.isCertAid=function(e){var t="test"===window.ENV_NAME;return e===(t?30105:131341)};var r=n("F5LU"),i=n("6ne/")},"R3/i":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Order=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=r(n("INZq")),s=n("F5LU"),l=n("LQr6"),d=n("P87J"),f=n("rRu0"),p=n("GYbC"),h=n("vUo+"),v=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},m=function(){function e(t){(0,o.default)(this,e),this.payOpts=t,this.callbackUrl=new h.CallbackUrl(t)}return(0,a.default)(e,[{key:"getpayOpts",value:function(){return Object.assign({},this.payOpts)}},{key:"getStringifyPayOpts",value:function(){return(0,p.commonStringify)(this.getpayOpts())}},{key:"getParsePayOpts",value:function(){return(0,p.commonParse)(this.getpayOpts())}},{key:"order",value:function(e,t){return g(this,void 0,void 0,i.default.mark((function n(){var r,o;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t&&(this.payOpts=t),n.next=4,this.getOrderParam(e);case 4:return r=n.sent,n.next=7,(0,s.fetch)("/cgi-bin/pay_access/paytoken",{body:r,method:"POST"});case 7:return o=n.sent,n.abrupt("return",o);case 11:throw n.prev=11,n.t0=n.catch(0),n.t0&&n.t0.retcode&&(n.t0.errMsg=n.t0.errMsg||l.errText.errWordings[n.t0.retcode]),n.t0&&1678143!==n.t0.retcode&&d.imlog.monitor(34647625),d.imlog.extra({retcode:null===n.t0||void 0===n.t0?void 0:n.t0.retcode,platform:(0,s.getLoggerPlatform)()}).error("paytoken下单失败",n.t0),n.t0;case 17:case"end":return n.stop()}}),n,this,[[0,11]])})))}},{key:"getOrderParam",value:function(e){return g(this,void 0,void 0,i.default.mark((function t(){var n,r,o,a,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.payOpts,t.next=3,(0,s.isIAP)();case 3:return r=t.sent,t.next=6,(0,p.getSource)();case 6:return o=t.sent,a=c.default.getReportData(),u=this.getDefaultOrder(o,r,a),this.addProductId(n,u),this.addAddressParam(n,u),this.addDiscountParam(n,u),this.addRedEnvelopeParam(n,u),this.addReportExtParam(n,u),this.addOrderExtParam(n,u),this.addJd(n,u),this.addYqh(n,u),this.addExtParam(e,u),this.stringify(u),t.abrupt("return",u);case 20:case"end":return t.stop()}}),t,this)})))}},{key:"addExtParam",value:function(e,t){e&&e.ext_msg&&(t.ext_msg=Object.assign(Object.assign({},t.ext_msg),e.ext_msg))}},{key:"getDefaultOrder",value:function(e,t,n){return{call_back_url:encodeURIComponent(this.callbackUrl.getCallbackUrl()),ext_msg:{},ios_h5:t?1:0,order_report:{extend:{unifiedplatform:parseInt(n.platform,10)||1}},report:{monitor:{environment:n.environment,opername:n.opername,phonetype:n.phonetype,platform:n.platform},platform:(0,p.getPlatform)()},source:e}}},{key:"stringify",value:function(e){e.report=JSON.stringify(e.report),e.order_report.extend=JSON.stringify(e.order_report.extend),e.order_report=JSON.stringify(e.order_report),e.ext_msg=JSON.stringify(e.ext_msg),e.discountinfo||(e.discountinfo={}),e.discountinfo=JSON.stringify(e.discountinfo),e.productid=JSON.stringify(e.productid)}},{key:"addProductId",value:function(e,t){t.productid=e.productId}},{key:"addReportExtParam",value:function(e,t){var n,r=null===(n=null==e?void 0:e.payParam)||void 0===n?void 0:n.pay_channel;return r&&(t.report=Object.assign(Object.assign({},t.report),{pay_channel:r})),t.report}},{key:"addOrderExtParam",value:function(e,t){var n,r=Object.assign(Object.assign({},null===(n=e.payParam)||void 0===n?void 0:n.orderReportExt),null==e?void 0:e.orderReportExt);return r&&(t.order_report.extend=Object.assign(Object.assign({},t.order_report.extend),r)),t.order_report}},{key:"addJd",value:function(e,t){e.channel===f.ChannelType.Jd&&(t.pay_method="jd")}},{key:"addYqh",value:function(e,t){e.channel===f.ChannelType.Yqh&&(t.pay_method=f.ChannelType.Yqh)}},{key:"addRedEnvelopeParam",value:function(e,t){var n,r=null===(n=e.priceInfo)||void 0===n?void 0:n.deduction;r&&(t.discountinfo=Object.assign(Object.assign({},t.discountinfo),{redenvelope_price:r}))}},{key:"addDiscountParam",value:function(e,t){return e.discountinfo&&(t.discountinfo=Object.assign(Object.assign({},t.discountinfo),e.discountinfo)),t.discountinfo}},{key:"addAddressParam",value:function(e,t){e.addressId&&(t.ext_msg=Object.assign(Object.assign({},t.ext_msg),{addressid:Number(e.addressId)}))}}]),e}();t.Order=m,v([(0,d.log)("paytoken下单",d.MonitorType.PAYTOKEN_SUCC,d.MonitorType.PAYTOKEN_ERR)],m.prototype,"order",null),v([(0,d.log)("获取paytoken参数")],m.prototype,"getOrderParam",null),v([(0,d.log)("获取paytoken默认参数")],m.prototype,"getDefaultOrder",null),v([(0,d.log)("paytoken reportExt参数组装")],m.prototype,"addReportExtParam",null),v([(0,d.log)("paytoken orderExt参数组装")],m.prototype,"addOrderExtParam",null),v([(0,d.log)("paytoken 优惠参数组装")],m.prototype,"addDiscountParam",null)},RA84:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.AddressChecker=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=n("2dtd"),c=n("P87J"),s=n("XwTY"),l=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},d=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"check",value:function(e){var t,n;return(null===(t=null==e?void 0:e.addressInfo)||void 0===t?void 0:t.addressState)&&(null===(n=null==e?void 0:e.addressInfo)||void 0===n?void 0:n.mustFillMailing)&&!(null==e?void 0:e.addressId)?(0,s.getPassResult)(!1,(0,u.getApplyFrontError)(u.ApplyFrontErrorRetcode.AddressNeeded)):(0,s.getPassResult)(!0)}}]),e}();t.AddressChecker=d,l([(0,c.log)("地址校验")],d.prototype,"check",null)},ROju:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.InstitutionBargainImp=t.BargainStatus=void 0;var i,o=r(n("EAVL")),a=r(n("oywu")),u=n("sPX+"),c=n("eAFU"),s=n("l6KN");t.BargainStatus=i,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INPROGRESS=1]="INPROGRESS",e[e.FINISHED=2]="FINISHED",e[e.ENDED=3]="ENDED"}(i||(t.BargainStatus=i={}));var l=function(){function e(t){(0,o.default)(this,e),this.discount=t,this.type=u.InstitutionDiscountType.Bargain,this.desc="砍价",this.utils=new s.Utils(t),this.status=new c.Status(t,this.utils)}return(0,a.default)(e,[{key:"getId",value:function(){return this.utils.getBargainId()}},{key:"getPrice",value:function(){return this.utils.getBargainPrice()||this.utils.getBargainOriginPrice()}},{key:"getDecrPrice",value:function(){return this.utils.getDecrPrice()}},{key:"getStatus",value:function(){return this.status.getStatus()}},{key:"listenStatus",value:function(){var e;return(e=this.status).listenStatus.apply(e,arguments)}},{key:"removeListenStatus",value:function(){var e;return(e=this.status).removeListenStatus.apply(e,arguments)}},{key:"emitStatus",value:function(){var e;return(e=this.status).emitStatus.apply(e,arguments)}},{key:"getPayParam",value:function(){return this.getId()?{bargain_id:this.getId()}:{}}},{key:"getData",value:function(){return Object.assign({},this.discount)}}]),e}();t.InstitutionBargainImp=l},RUvJ:function(e,t,n){"use strict";function r(e,t){return e.group_info.endtime<t}function i(e,t){return e.endtime<t}function o(e){return e.group_info.join_num>=e.group_info.quota}function a(e){return e.group_flag||e.group_info}function u(e){return e.group_info&&e.group_info.join_num}function c(e){return e.group_info&&e.group_info.quota}Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupId=function(e){return e&&e.group_info&&e.group_info.group_info&&e.group_info.group_info.id},t.getGroupPrice=function(e){return e&&e.group_course&&e.group_course.price},t.isGroupSucc=function(e){return!!e.group_state},t.isGroupJoinOverTime=r,t.isGroupCourseOverTime=i,t.isGroupFull=o,t.isGroupJoined=a,t.isDifferentTermGroup=function(e,t){return e.tid!==t.group_info.tid},t.hasIncomeGroup=function(e){var t=e.groupInfo,n=e.groupCourseInfo,u=e.discountData,c=e.serverTime;if(r(t,c)||o(t)||a(u)||i(n,c))return!1;return!0},t.getGroupJoinNum=u,t.getGroupTotalNum=c,t.getGroupNeedNum=function(e){return c(e)-u(e)}},RWC5:function(e,t,n){"use strict";var r=n("A3sk"),i=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.bindingSet=function(e,t,n){try{localStorage.setItem(u(e),JSON.stringify({v:t})),o.default.monitor(2742537)}catch(e){o.default.monitor(508044),s(),"function"==typeof n&&n(e)}},t.bindingGet=function(e){return c(u(e))},t.bindingRemove=function(e){return l(u(e))},t.getStorage=c,t.setStorage=function(e,t,n){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){o.default.monitor(508044),s(),"function"==typeof n&&n(e)}},t.clearStorage=s,t.removeStorage=l,t.getStorageWithWrap=function(e){try{var t=localStorage.getItem(e);return t?JSON.parse(t).v:t}catch(e){return null}},t.setStorageWithWrap=function(e,t,n){try{localStorage.setItem(e,JSON.stringify({v:t}))}catch(e){o.default.monitor(508044),s(),"function"==typeof n&&n(e)}};var o=i(n("HO9c")),a=r(n("M9qB"));function u(e){return"".concat(a.getUin()||"a_").concat(e)}function c(e){try{var t=localStorage.getItem(e);return t?JSON.parse(t):t}catch(e){return null}}function s(){try{localStorage.clear()}catch(e){return e}}function l(e){try{localStorage.removeItem(e)}catch(e){return e}}"undefined"==typeof document||"undefined"==typeof window||window.localStorage||o.default.monitor(508043)},SBRa:function(e,t,n){var r=n("q+3g"),i={};try{i=JSON.parse(r.get("index_new_key"))||{}}catch(e){i={}}e.exports={set:function(e,t){i[e]=t,r.set("index_new_key",JSON.stringify(i))},get:function(e){return i[e]||""}}},SLh1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={APPLY_IFRAME_METHOD:!0,apply:!0};t.apply=function(e){if(e.needIframe)return function(e){var t=new i.Iframe(function(e){return e.iframeUrlPC||"//ke.qq.com/user/pay-v2/pay-v2.html"}(e)),n=t.getIframe();null==n||n.setAttribute("class","z-index-paylayer"),null==n||n.setAttribute("allowtransparency","true"),n&&(n.style.backgroundColor="transparent");var r=function(){var n;try{null===(n=e.close)||void 0===n||n.call(e),null==t||t.remove()}catch(e){throw u.imlog.error("【支付模块】","【支付iframe关闭】",e),e}};return i.Iframe.waitForRegister("__APPLY__",(function(){t.invoke("__APPLY__",Object.assign(Object.assign({},e),{close:r}))})),t}(e);if((0,i.isApp)())return(0,i.getAppVersion)().then((function(t){var n=(0,i.isAndroid)()&&t>=260,r=(0,i.isIOS)()&&t>=113;return n||r?new a.Apply(e):(0,o.apply)(e)})),null;return new a.Apply(e)},t.APPLY_IFRAME_METHOD=void 0;var i=n("F5LU"),o=n("VotF"),a=n("/wUM"),u=n("P87J"),c=n("cfQT");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var s=n("rRu0");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));t.APPLY_IFRAME_METHOD="__APPLY__"},SLme:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Pay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("mSuR"),c=n("F5LU"),s=n("uIhe"),l=n("1c9X"),d=n("Qynd"),f=n("n/qM"),p=n("veID"),h=n("iGvY"),v=n("yMZJ"),g=n("/WCk"),m=n("mymt"),y=n("47Yi"),_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},b=function(){function e(t,n,r){(0,o.default)(this,e),this.payInfo=t,this.opts=n,this.rechargeHandler=new v.Recharge(t),this.timeConflictHandler=new y.TimeConflict(t),this.courseConflictHandler=new m.CourseConflict(t),this.jdPay=new f.JdPay(t),this.balancePay=new d.BalancePay(t,r),this.mpPay=new h.MpPay(t),this.midasPay=new p.MidasPay(t),this.yqhPay=new g.YqhPay(t)}return(0,a.default)(e,[{key:"checkObnInfoValid",value:function(){return _(this,void 0,void 0,i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.payInfo.isObn,n=(0,u.getObnId)(),!t||!n){e.next=7;break}return e.next=5,(0,u.checkObnIdIsValid)(n);case 5:return r=e.sent,e.abrupt("return",r);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return _(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o,a,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkObnInfoValid();case 2:if(e.sent){e.next=8;break}return t=(0,u.getObnId)(),n=(0,u.getJumpUrl)("",t),c.Jumper.jump(n),e.abrupt("return");case 8:return e.next=10,this.rechargeHandler.checkIAPBalance();case 10:if(r=e.sent){e.next=15;break}return s.imlog.info("【支付模块】","【iap支付充值跳转】",r),s.imlog.tdw({action:"click",position:"recharge"}),e.abrupt("return",this.rechargeHandler.jumpRecharge());case 15:return o=this.opts.onConflict,e.next=18,this.timeConflictHandler.checkConflict();case 18:if((a=e.sent)||!o){e.next=27;break}return s.imlog.info("【支付模块】","【课程时间冲突】",a),e.next=23,o("该课程与已报名课程的上课时间冲突，是否确认报名？");case 23:if(e.sent){e.next=27;break}return s.imlog.info("【支付模块】","【课程时间冲突中断支付】"),e.abrupt("return",!1);case 27:return e.next=29,this.courseConflictHandler.checkConflict();case 29:if((l=e.sent)||!o){e.next=38;break}return s.imlog.info("【支付模块】","【课程包课程冲突】",l),e.next=34,o("您已购买过该系列课内的课程，是否确认报名？");case 34:if(e.sent){e.next=38;break}return s.imlog.info("【支付模块】","【课程包课程冲突中断支付】"),e.abrupt("return",!1);case 38:return e.next=40,this.selectPay();case 40:case"end":return e.stop()}}),e,this)})))}},{key:"selectPay",value:function(){return _(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o,a,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.payInfo,n=t.channel,r=t.isIAP,o=this.isAllBalance(),s.imlog.info("【支付模块】","【选择支付方式】",this.payInfo),n!==l.ChannelType.Jd){e.next=9;break}return s.imlog.info("【支付模块】","【京东支付】"),e.next=7,this.jdPay.pay();case 7:e.next=36;break;case 9:if(n!==l.ChannelType.Yqh){e.next=15;break}return s.imlog.info("【支付模块】","【有钱花支付】"),e.next=13,this.yqhPay.pay();case 13:e.next=36;break;case 15:if(!o){e.next=21;break}return s.imlog.info("【支付模块】","【余额支付】"),e.next=19,this.balancePay.pay();case 19:e.next=36;break;case 21:if(!(0,c.isMiniProgram)()){e.next=27;break}return s.imlog.info("【支付模块】","【小程序支付】"),e.next=25,this.mpPay.pay();case 25:e.next=36;break;case 27:if(r){e.next=33;break}return s.imlog.info("【支付模块】","【midas支付】"),e.next=31,this.midasPay.pay();case 31:e.next=36;break;case 33:return s.imlog.info("【支付模块】","【保底余额支付】"),e.next=36,this.balancePay.pay();case 36:a={balance:"balance",midas:"midas"},u=(o?a.balance:n)||a.midas,s.imlog.tdw({action:"click",position:"pay_button",ver1:u},!0);case 40:case"end":return e.stop()}}),e,this)})))}},{key:"isAllBalance",value:function(){return 0===this.payInfo.recharge}}]),e}();t.Pay=b},SXpw:function(e,t){},"SY+P":function(e,t,n){var r=n("0HC3"),i=n("q+3g"),o=r.query("from")||r.getHash("from"),a=r.query("scenes")||r.getHash("scenes"),u=r.query("paysource")||r.getHash("paysource"),c=r.query("sessionUserType"),s=r.query("ADTAG"),l=i.get("from_client");var d=function(){var e=navigator.userAgent.toLowerCase();navigator.platform;return"Win32"==navigator.platform||"Windows"==navigator.platform||/windows ce/.test(e)?1:/android/.test(e)?2:/ipad/.test(e)||/iphone os/.test(e)?3:/mac/.test(e)?4:0},f=function(){var e=i.get("from_qzone"),t=navigator.userAgent.toLowerCase();navigator.platform;return e?6:"qqchat"===o||l?3:"Win32"==navigator.platform||"Windows"==navigator.platform||/windows ce/.test(t)||/mac/.test(t)?1:0},p={getInfo:function(){return{os:d(),entrance:f(),scenes:c.indexOf("BFT")>=0?6:"3"===o||l?4:"qqchat"===o?5:"2"===a?2:0,sub_scenes:"4"===u?4:"1"===u?1:"2"===u?2:"3"===u?3:0}},init:function(){var e=!/ke.qq.com/.test(document.referrer.replace(/\?.*/,""))||o;/qzone.qq.com/.test(document.referrer)?i.set("from_qzone","1"):e&&i.del("from_qzone"),"qqchat"!==o&&/CLIENT/.test(s)?i.set("from_client","1"):e&&i.del("from_client")}};e.exports=p},Sdd4:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PaylayerDiscount=void 0;var i=r(n("ZeZv")),o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=n("siOb"),s=n("vqVK"),l=n("uIhe"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},f=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,a.default)(this,e),this.opts=t,this.priceHandler=r,this.discountFilter=i,this.discountParam=this.getDiscountParam(t,n),this.discountHandler=new c.Discount(this.discountParam),this.initDiscountFilter()}return(0,u.default)(e,[{key:"getDiscountListWithText",value:function(e){return d(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDiscountList(e);case 2:return n=t.sent,n=this.filterDiscountList(n),n=this.addDiscountText(this.filterCoupon(n)),l.imlog.info("【支付模块】","【组装paylayer优惠数据】",n),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"filterDiscountList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.type!==c.DiscountType.Seckill||(0,c.isInSeckill)(e.detail)}))}},{key:"getCurDiscount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discountList,n=void 0===t?[]:t,r=e.curDisId,a=e.discountFilter,u=void 0===a?[]:a;return d(this,void 0,void 0,o.default.mark((function e(){var t,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r){e.next=2;break}return e.abrupt("return");case 2:if(!this.opts.discountInfo){e.next=4;break}return e.abrupt("return",this.opts.discountInfo);case 4:if(t=n[0]){e.next=10;break}return e.next=8,this.discountHandler.getCurrentDiscount({discountFilter:[].concat((0,i.default)(this.discountFilter),(0,i.default)(u))});case 8:(a=e.sent).type!==c.DiscountType.Seckill&&a.type!==c.DiscountType.Coupon&&(t=a);case 10:return r&&(s=n.find((function(e){return e.id===r})),t=s||t),l.imlog.info("【支付模块】","【组装paylayer当前优惠】",t),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this)})))}},{key:"getDiscountList",value:function(e){return d(this,void 0,void 0,o.default.mark((function t(){var n,r,i,a,u,s,l,d=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&(this.discountHandler=new c.Discount(Object.assign(Object.assign({},this.discountParam),{term_id:e}))),t.next=3,this.discountHandler.getCurrentDiscount({discountFilter:this.discountFilter});case 3:if(n=t.sent,(r=n&&n.type)!==c.DiscountType.Coupon&&r!==c.DiscountType.Seckill){t.next=16;break}return t.next=8,this.discountHandler.getAllDiscount();case 8:return i=t.sent,a=i&&i.available||[],u=a.filter((function(e){return e.type===c.DiscountType.Seckill}))||[],s=(s=(s=a.filter((function(e){return e.type===c.DiscountType.Coupon}))||[]).sort((function(e,t){return t.price-e.price}))).filter((function(e){return e.price<=d.priceHandler.getCoursePrice()})),l=u.concat(s),t.abrupt("return",l);case 16:return t.abrupt("return",[]);case 17:case"end":return t.stop()}}),t,this)})))}},{key:"initDiscountFilter",value:function(){this.discountFilter=this.discountFilter||[],this.discountFilter=[].concat((0,i.default)(this.discountFilter),[c.DiscountType.Partner])}},{key:"getDiscountParam",value:function(e,t){return(0,s.isCourse)(e)?{course_id:(0,s.getCid)(e),term_id:(0,s.getTid)(e)||(0,s.getDefaultTid)(t.paylayerData.detail)}:{package_id:(0,s.getPid)(e)}}},{key:"addDiscountText",value:function(e){var t=this;return e.map((function(e){var n="";if(e.type===c.DiscountType.Seckill){var r=e.detail;n=t.getSeckillRenderText(r)}else if(e.type===c.DiscountType.Coupon){var i=e.detail;n=t.getCouponRenderText(i)}return Object.assign(Object.assign({},e),{renderText:n})}))}},{key:"getSeckillRenderText",value:function(e){var t=(0,c.isSeckillLimit)(e),n=(0,c.getSeckillLeftCount)(e);return t?n>0?"".concat("限时优惠","：剩余").concat(n,"名"):"已售罄":"限时优惠"}},{key:"getCouponRenderText",value:function(e){var t=(0,c.getCouponMincost)(e);return t>0&&e.mode===c.CouponMode.Public?"优惠券：满¥".concat(this.priceHandler.transferCentsToDollar(t),"\n      减¥").concat(this.priceHandler.transferCentsToDollar(e.price)):"优惠券：立减¥".concat(this.priceHandler.transferCentsToDollar(e.price))}},{key:"filterCoupon",value:function(e){var t=this.priceHandler.getCoursePrice();return e.filter((function(e){if(e.type===c.DiscountType.Seckill)return!0;if(e.type===c.DiscountType.Coupon){var n=e.detail;if((0,c.isEduCoupon)(n))return!0;var r=(0,c.isCouponSuitAll)(n),i=(0,c.getCouponMincost)(n);if(!r&&n.price<=.5*t)return!0;if(r&&i<=t)return!0}return!1}))}}]),e}();t.PaylayerDiscount=f},SejO:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="empty-course"> <div class="blank-tip"></div> <div class="empty-course-text">该分类暂无相关课程，请看看其他分类吧</div></div>'),_$out_.join("")}}},TOwC:function(e,t,n){!function(e){function t(t){var n=e(this),r=null,i=[],o=null,a=null,u=e.extend({exitMenuSelector:"",rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:e.noop,exit:e.noop,activate:e.noop,deactivate:e.noop,exitMenu:e.noop},t),c=function e(t){var n=s();n?a=setTimeout((function(){e(t)}),n):function(e){e!=r&&(r&&u.deactivate(r),u.activate(e),r=e)}(t)},s=function(){if(!r||!e(r).is(u.submenuSelector))return 0;var t=n.offset(),a={x:t.left+n.outerWidth(),y:t.top-u.tolerance},c={x:t.left+n.outerWidth(),y:t.top+n.outerHeight()+u.tolerance},s=i[i.length-1],l=i[0];if(!s)return 0;if(l||(l=s),l.x<t.left||l.x>c.x||l.y<t.top||l.y>c.y)return 0;if(o&&s.x==o.x&&s.y==o.y)return 0;function d(e,t){return(t.y-e.y)/(t.x-e.x)}var f=d(s,a),p=d(s,c),h=d(l,a),v=d(l,c);return f<h&&p>v?(o=s,300):(o=null,0)};n.mouseleave((function(){a&&clearTimeout(a)})).find(u.rowSelector).mouseenter((function(){a&&clearTimeout(a),u.enter(this),c(this)})).mouseleave((function(){u.exit(this)})),e(u.exitMenuSelector).mouseleave((function(){u.exitMenu(this)&&(r&&u.deactivate(r),r=null)})),e(document).mousemove((function(e){i.push({x:e.pageX,y:e.pageY}),i.length>3&&i.shift()}))}e.fn.menuAim=function(e){return this.each((function(){t.call(this,e)})),this}}(n("xeH2"))},"Tf+S":function(module,exports){module.exports=function(it,opt){with(it=it||{},it){for(var _$out_=[],link,linkUrl,i=0;i<links.length;i++)link=links[i],_$out_.push('<li> <a class="link-cooperation" href="',link.url,'" title="',link.name,'" target="_blank" report-tdw="action=cooperation_click&ver3=',i+1,'">',link.name,"</a></li>");return _$out_.join("")}}},TgsD:function(e,t,n){var r,i,o=n("xeH2"),a=n("uXG/"),u="height:24px;width:100%;text-align:center;background-color:#F6F6CC;color:#333;",c=o(window);function s(){r&&(r.parentNode.removeChild(r),r=null)}function l(){setTimeout((function(){var e=a.zoom();e?e*=100:e=100,e>=105||e<=95?function(e){var t=e>100?"放大":"缩小",n='<p style="line-height:24px;">你的浏览器目前处于'+t+'状态，会导致页面显示不正常，你可以键盘按“ctrl+数字0”组合键恢复初始状态。<span id="stop-remind" style="cursor:pointer;color:#369;">不再显示</span></p></div>';o(".header-index").length&&(u+="z-index:1001;position:absolute"),o("#edu-low-version").length||(r?i!==t&&(r.innerHTML=n):((r=document.createElement("div")).id="zoom-warn",r.style.cssText=u,r.innerHTML=n,o(document.body).prepend(r)),i=t)}(e):r&&s()}),1e3)}function d(){var e,t;e="stop_remind_zoom",(!(t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)")))||!decodeURIComponent(t[2]))&&l()}o(document.body).on("click","#stop-remind",(function(){!function(e,t,n,r,i){var o=new Date;o.setTime(o.getTime()+(i?36e5*i:2592e6)),document.cookie=e+"="+t+"; expires="+o.toGMTString()+"; path="+(r||"/")+"; "+(n?"domain="+n+";":"")}("stop_remind_zoom","stop_remind_zoom"),s()})),c.resize((function(){d()})),o((function(){d()}))},Tlmh:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="mod-official-account-wrap"> <img class="qrcode" src=',url,' alt="公众号二维码"> <div class="desc-content"> <h4 class="title">',title,'</h4> <div class="desc">',discrible,"</div> </div></div>"),_$out_.join("")}}},Tuqh:function(e,t,n){"use strict";var r=n("oZAU"),i=n("1bTK");if("undefined"!=typeof window&&!window.__eduCourseCardRetry__){Object.defineProperty(window,"__eduCourseCardRetry__",{value:function(){if(this){var e=(0,r.getResourceProxyUrl)(this.src);(0,i.wrapImgElement)(this,e,"//9.idqqimg.com/edu/edu_modules/edu-ui/img/nohash/img-err2.png")}},writable:!1})}e.exports=n("aOo8")},"U/Od":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("7xq2"),u=n("mAAe"),c=function(){function e(t){(0,i.default)(this,e),this.partner=t}return(0,o.default)(e,[{key:"isPartnerValid",value:function(){return[a.PartnerStatus.DEFAULT,a.PartnerStatus.INPROGRESS].includes(this.getPartnerStatus())}},{key:"isPartnerShare",value:function(){return!!this.partner.share_flag}},{key:"getPartnerStatus",value:function(){var e=(0,u.getSvrTime)();return 0===this.getPartnerNeedCount()?a.PartnerStatus.FINISHED:e>=this.getPartnerEndTime()?a.PartnerStatus.ENDED:this.isPartnerShare()?a.PartnerStatus.INPROGRESS:a.PartnerStatus.DEFAULT}},{key:"getPartnerNeedCount",value:function(){return this.partner.count-this.partner.scan_count}},{key:"getPartnerActId",value:function(){var e=this.formatExt();return"".concat(e.actid||"")}},{key:"getPartnerTotalCount",value:function(){return this.partner.count}},{key:"getPartnerJoinCount",value:function(){return this.partner.scan_count}},{key:"getPartnerEndTime",value:function(){return this.partner.endtime}},{key:"getDecrPrice",value:function(){var e;return(null===(e=this.partner)||void 0===e?void 0:e.decr_price)||0}},{key:"formatExt",value:function(){try{return JSON.parse(this.partner.discount_results[0].ext)}catch(e){return this.partner}}}]),e}();t.Utils=c},U48D:function(e,t,n){var r=n("xeH2"),i={appid:10028,platform:"pc",speedparams:null};var o=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=(t.length?"&":"?")+n+"="+encodeURIComponent(e[n]));return t};e.exports={init:function(e){r.extend(i,e)},report:function(e,t){var n=e+t,a=r.extend({},i,{speedparams:n});if(a.appid&&a.speedparams){var u="//huatuo.weiyun.com/report.cgi"+o(a),c=new Image;c.src=u,c=null}}}},UFYd:function(e,t,n){var r,i,o,a=n("xeH2"),u=n("m9bP"),c=n("q+3g"),s=n("qqDj"),l=n("vQKn"),d=n("URG2"),f=(location.pathname,"tdw_data"),p="ke.qq.com",h="/";i=(o=c.get(f))?JSON.parse(o):{},(r=a.extend({},s(i||{}),l.path,d)).uin=c.uin(),r.real_uin=c.realUin(),u.config(r),function(e){var t,n;a.isPlainObject(e)&&(t=e,n={},Object.keys(t).forEach((function(e){n[e]=encodeURIComponent(t[e]||"")})),e=n,e=JSON.stringify(e)),c.setSession(f,e,p,h)}(r),delete l.path,a.extend(u,l),e.exports=u},URG2:function(e,t,n){var r=n("0HC3"),i=n("q+3g"),o=+("0x"+(o=r.query("tuin")||r.getHash("tuin"))).toString(10),a=location.pathname,u="tdw_auin_data",c="ke.qq.com",s="/";var l,d=i.get(u)||"";-1===a.indexOf("/storage_proxy.html")&&(l=d=d||o||"-",i.setSession(u,encodeURIComponent(l),c,s)),e.exports={auin:d}},URpy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVisible=function(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientWidth,window.innerWidth),r=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(t.bottom<0||t.right>n+t.width||t.bottom>r+t.height||t.right<0)},t.getTextWidth=function(){var e={family:"sans-serif",size:"medium",style:"normal",variant:"normal",weight:"normal"};return(0,r.isSupportedCanvas)()?function(){var t=document.createElement("canvas").getContext("2d");if(!t)return 0;return function(n,r){var i=Object.assign(Object.assign({},e),r),o=i.size;return"number"==typeof o&&(o="".concat(o,"px")),t.font="".concat(i.style," ").concat(i.variant," ").concat(i.weight," ").concat(o," ").concat(i.family),t.measureText(n).width}}():function(e,t){return 0}},t.getCustomAttr=function(e,t){return e.getAttribute(t)||e.getAttribute("data-".concat(t))||""},t.getOuterWidth=function(e){if(!e)return 0;var t=e.offsetWidth,n=window.getComputedStyle(e),r="string"!=typeof n.marginLeft||n.marginLeft.trim()?parseFloat(n.marginLeft):0,i="string"!=typeof n.marginRight||n.marginRight.trim()?parseFloat(n.marginRight):0;return t+r+i},t.getOuterHeight=function(e){if(!e)return 0;var t=e.offsetHeight,n=window.getComputedStyle(e),r="string"!=typeof n.marginTop||n.marginTop.trim()?parseFloat(n.marginTop):0,i="string"!=typeof n.marginBottom||n.marginBottom.trim()?parseFloat(n.marginBottom):0;return t+r+i},t.toTextString=function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||t.textContent||""};var r=n("Ad8L")},UiSp:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ActHook=void 0;var i=r(n("gBQG")),o=r(n("+jPT")),a=r(n("EAVL")),u=r(n("oywu")),c=n("vqVK"),s=n("p6on"),l=n("YMey"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},f=function(){function e(){(0,a.default)(this,e),this.isObn=!1,this.isCashBack=!1,this.cashBackMinPrice=0,this.obnAct=new l.PayObnAct,this.cashBackAct=new s.PayCashBackAct}return(0,u.default)(e,[{key:"prefetch",value:function(e){return d(this,void 0,void 0,i.default.mark((function t(){var n,r,a,u,s,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,c.isCourse)(e)?e.cid:e.pid,t.next=3,Promise.all([this.obnAct.isAct(),this.cashBackAct.isAct(n)]);case 3:return r=t.sent,a=(0,o.default)(r,2),u=a[0],s=a[1],t.next=9,this.cashBackAct.getLowerPayPrice();case 9:l=t.sent,this.cashBackMinPrice=l,this.isObn=u,this.isCashBack=s;case 13:case"end":return t.stop()}}),t,this)})))}},{key:"payCallbackParam",value:function(e){var t;return(null===(t=null==e?void 0:e.discountinfo)||void 0===t?void 0:t.group_id)?{}:this.isObn?this.obnAct.getCallbackUrlParam(e):this.isCashBack?this.cashBackAct.getCallbackUrlParam(e,this.cashBackMinPrice):{}}},{key:"pay",value:function(e,t){return this.isObn?this.obnAct.pay(e,t):e}}]),e}();t.ActHook=f},Uv28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCoursePkgPresentParam=function(e,t){var n,r=i(e,t);return Object.assign(Object.assign({},r),{pkg_id:null===(n=t.present)||void 0===n?void 0:n.belongPkg})},t.getCourseApplyParam=i,t.getCoursePkgApplyParam=function(e,t){var n=(0,r.getProductId)(null==e?void 0:e.detail),i=null==n?void 0:n.fid,a=o(t);return Object.assign(Object.assign({},a),{pkg_id:Number(i)})},t.getCommonParam=o;var r=n("GYbC");function i(e,t){var n=(0,r.getProductId)(null==e?void 0:e.detail,t.curTermId)||{},i=n.fid,a=n.sid,u=o(t);return Object.assign(Object.assign({},u),{cid:Number(i),term_id:Number(a)})}function o(e){var t={platform:(0,r.getPlatform)()};return e.vcode&&(t=Object.assign(Object.assign({},t),{vfcode:e.vcode})),t}},VhlU:function(e,t,n){n("Pphc"),e.exports={init:function(e){var t=e;if($("#btn_action").click((function(){var e='<div class="msg"><h3>本期主题：'+t.theme+'</h3><p class="__desc">'+t.desc+'</p><p class="__target">请将作品发送邮件至 ketangzuopin@qq.com。</p><p class="__format">请发送可编辑的源文件，如PSD、AI等格式。如有特殊字体，请打包一并发送。</p></div>';$.Dialog.alert({confirmText:"知道了",content:e,type:"warn",globalClass:"take-action"})})),function(){var e=n("GQcU"),t=$("[data-endtime]");if(0==t.size())return;new e({bgtime:+new Date,endtime:1e3*t.attr("data-endtime")||0,afterASecond:function(e){0==e.days&&0==e.hours&&0==e.minutes&&0==e.seconds&&location.reload();var n=e.days>0?e.days+"天 ":"";t.text("距结束 "+n+e.hours+" : "+e.minutes+" : "+e.seconds)}})}(),e.qrcode)var r=n("kprn"),i=setInterval((function(){if($("#js-qrcode-container").hide().size()>0){clearInterval(i);var e=$("#i_design_course_close"),t=e.parent(".item-hover-tips");r.get("design_qrcode_close")?e.hide():t.addClass("item-hover-tips__show"),e.parents(".side-service-qr-design-course").show(),e.click((function(){r.set("design_qrcode_close",!0),t.removeClass("item-hover-tips__show")}))}}),0)}}},VjRM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("EtRZ");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("QBS+");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},VotF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("XW6X");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},VovU:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){if(Array.isArray)return Array.isArray(e);return"[object Array]"===a.call(e)},t.isDate=function(e){return"[object Date]"===a.call(e)},t.isRegExp=function(e){return"[object RegExp]"===a.call(e)},t.isBoolean=function(e){return"[object Boolean]"===a.call(e)},t.isNumerical=function(e){return e===e-0},t.isObject=function(e){return"[object Object]"===a.call(e)},t.isString=function(e){return"[object String]"===a.call(e)},t.isBetween=function(e,t,n,r){if(r){if(e>=t&&e<=n)return!0}else if(e>t&&e<n)return!0;return!1},t.getStrLength=function(e){for(var t=0,n=0;n<e.length;n++)e.charCodeAt(n)>=0&&e.charCodeAt(n)<=255?t+=1:t+=2;return t},t.queryToString=function(e){return o.default.stringify(e)},t.stringToQuery=function(e){return o.default.parse(e)},t.filterProp=function(e){var t={};return Object.entries(e).forEach((function(e){var n=(0,i.default)(e,2),r=n[0],o=n[1];null!==o&&""!==o&&void 0!==o&&(t[r]=o)})),t};var i=r(n("+jPT")),o=r(n("KsQx")),a=Object.prototype.toString},VvcH:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={imlog:!0,log:!0,monitor:!0,loggerClass:!0};t.loggerClass=t.monitor=t.log=t.imlog=void 0;var o=r(n("ZeZv")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("FO6Z")),s=n("r35l");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=n("F5LU"),d=n("y3AV"),f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,c.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},p=new l.Logger({channel:"edu-discount",moduleName:"优惠模块",monitorPoints:s.monitorPoints,MonitorType:s.MonitorType,ignoreErr:d.IGNORE_ERROR}),h=p.imlog;t.imlog=h;var v=p.log.bind(p);t.log=v;var g=p.monitor;t.monitor=g;var m=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,[{key:"LOG_FETCH_DISCOUNT",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},{key:"LOG_FETCH_PRICING",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},{key:"LOG_FETCH_OPERATION",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}}]),e}();f([v.apply(void 0,(0,o.default)(s.MonitorArgs[s.MonitorKey.FETCH_DISCOUNT]))],m.prototype,"LOG_FETCH_DISCOUNT",null),f([v.apply(void 0,(0,o.default)(s.MonitorArgs[s.MonitorKey.FETCH_PRICING]))],m.prototype,"LOG_FETCH_PRICING",null),f([v.apply(void 0,(0,o.default)(s.MonitorArgs[s.MonitorKey.FETCH_OPERATION]))],m.prototype,"LOG_FETCH_OPERATION",null);var y=new m;t.loggerClass=y},W4gw:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];if(_$out_.push('\x3c!--弹出框模版 S--\x3e<div class="tips'),dialog.globalClass&&_$out_.push(" ",dialog.globalClass,""),_$out_.push('"> '),dialog.nohead||_$out_.push(' <div class="tips-hd">',dialog.title,"</div> "),_$out_.push(" "),dialog.body)_$out_.push(" ",dialog.body," ");else{if(_$out_.push(' <div class="tips-bd"> '),dialog.type){var ico_type={err:"alert",warn:"info",succ:"success",help:"question"}[dialog.type]||"info";_$out_.push(' <i class="icon-msg-large icon-font i-',ico_type,'"></i> <p class="msg">',dialog.content,"</p> ")}else _$out_.push(" ",dialog.content," ");_$out_.push(' </div> <div class="tips-tool"> '),dialog.confirm?(_$out_.push(' <a auto-test="confirm-',id,'" href="#" title="',dialog.submit||"确定",'" class="btn-7 modal-accept'),dialog.extraClass&&_$out_.push(" ",dialog.extraClass,""),dialog.isDisabled&&_$out_.push(" btn-disabled"),_$out_.push('">',dialog.submit||"确定",'</a> <a auto-test="cancel-',id,'" href="#" title="取消" class="btn-8 modal-cancel">',dialog.cancel||"取消","</a> ")):_$out_.push(' <a auto-test="confirm-',id,'" href="#" title="',dialog.confirmText||"确定",'" class="btn-7 modal-accept">',dialog.confirmText||"确定","</a> "),_$out_.push(" </div> ")}return _$out_.push(' <a auto-test="close-',id,'" href="#" class="modal-close btn-close" title="关闭">×</a></div>\x3c!--弹出框模版 E--\x3e'),_$out_.join("")}}},W7N0:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ToPayModel=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("AJXv"),l=n("D215"),d=n("P87J"),f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},h=function(){function e(t){(0,o.default)(this,e),this.opts=t,this.iap=!1,this.payHook=l.PayHook.getInstance()}return(0,a.default)(e,[{key:"init",value:function(e){this.iap=e}},{key:"getPayOpts",value:function(e){return p(this,void 0,void 0,i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return this.purchaseData=e,t.next=5,this.getDefaultOpts();case 5:return n=t.sent,n=this.addAuthMobile(n),n=this.addYqhInfo(n),r=this.payHook.exec("payOpts",n)||n,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getDefaultOpts",value:function(){var e,t,n,r,o;return p(this,void 0,void 0,i.default.mark((function a(){return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.initDiscountInfo();case 2:return i.abrupt("return",{addressId:this.getAddressId(),addressInfo:this.getAddressInfo(),channel:this.getChannel(),curInstitutionDiscount:this.getInstitutionDiscount(),curPlatformDiscount:this.getPlatformDiscount(),isIAP:this.iap,orderId:this.getOrderId(),payParam:this.getPayParam(),priceInfo:this.getPriceInfo(),productId:this.getProductId()||{},returnParam:null===(e=this.opts)||void 0===e?void 0:e.returnParam,returnUrl:null===(t=this.opts)||void 0===t?void 0:t.returnUrl,disableChannel:(0,c.getQuery)("disableChannel")||(null===(n=this.opts)||void 0===n?void 0:n.disableChannel),discountinfo:this.getDiscountInfo(),displayExt:{courseName:null===(o=null===(r=this.purchaseData)||void 0===r?void 0:r.curProduct)||void 0===o?void 0:o.name}});case 3:case"end":return i.stop()}}),a,this)})))}},{key:"getAddressInfo",value:function(){var e,t,n,r;return{mustFillMailing:null===(t=null===(e=this.purchaseData)||void 0===e?void 0:e.curProduct)||void 0===t?void 0:t.must_fill_mailing,addressState:null===(r=null===(n=this.purchaseData)||void 0===n?void 0:n.curProduct)||void 0===r?void 0:r.address_state}}},{key:"getPayParam",value:function(){var e,t={},n=(0,c.getQuery)("pay_channel");return n&&(t.pay_channel=+n),Object.assign(Object.assign({},null===(e=this.opts)||void 0===e?void 0:e.payParam),t)}},{key:"getDiscountInfo",value:function(){var e,t,n,r,i=null===(t=null===(e=this.institutionInstance)||void 0===e?void 0:e.getPayParam)||void 0===t?void 0:t.call(this.institutionInstance),o=null===(r=null===(n=this.platformInstance)||void 0===n?void 0:n.getPayParam)||void 0===r?void 0:r.call(this.platformInstance),a={},u=(0,c.getQuery)("group_id");return u&&(a.group_id=+u),i||o?Object.assign(Object.assign(Object.assign({},i),o),a):null}},{key:"getOrderId",value:function(){var e,t,n;return null===(n=null===(t=null===(e=this.purchaseData)||void 0===e?void 0:e.curProduct)||void 0===t?void 0:t.order)||void 0===n?void 0:n.order_id}},{key:"getChannel",value:function(){var e;return null===(e=this.purchaseData)||void 0===e?void 0:e.channel}},{key:"getPriceInfo",value:function(){var e;return null===(e=this.purchaseData)||void 0===e?void 0:e.priceInfo}},{key:"initDiscountInfo",value:function(){return p(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.institutionDiscount=this.getInstitutionDiscount(),this.platformDiscount=this.getPlatformDiscount(),!this.institutionDiscount){e.next=8;break}return e.next=5,(0,s.createDiscountByData)(this.institutionDiscount);case 5:this.institutionInstance=e.sent,e.next=9;break;case 8:this.institutionInstance=null;case 9:if(!this.platformDiscount){e.next=15;break}return e.next=12,(0,s.createDiscountByData)(this.platformDiscount);case 12:this.platformInstance=e.sent,e.next=16;break;case 15:this.platformInstance=null;case 16:case"end":return e.stop()}}),e,this)})))}},{key:"findInDiscountList",value:function(e,t){return null==e?void 0:e.find((function(e){var n,r;return(null===(r=null===(n=e.discount_results)||void 0===n?void 0:n[0])||void 0===r?void 0:r.discount_id)===(null==t?void 0:t.discount_id)}))}},{key:"getInstitutionDiscount",value:function(){var e,t,n,r,i,o,a=null===(n=null===(t=null===(e=this.purchaseData)||void 0===e?void 0:e.discountMap)||void 0===t?void 0:t.institution)||void 0===n?void 0:n.curDiscount,u=null===(o=null===(i=null===(r=this.purchaseData)||void 0===r?void 0:r.discountMap)||void 0===i?void 0:i.institution)||void 0===o?void 0:o.discounts;return this.findInDiscountList(u,a)}},{key:"getPlatformDiscount",value:function(){var e,t,n,r,i,o,a=null===(n=null===(t=null===(e=this.purchaseData)||void 0===e?void 0:e.discountMap)||void 0===t?void 0:t.platform)||void 0===n?void 0:n.curDiscount,u=null===(o=null===(i=null===(r=this.purchaseData)||void 0===r?void 0:r.discountMap)||void 0===i?void 0:i.platform)||void 0===o?void 0:o.discounts;return this.findInDiscountList(u,a)}},{key:"getAddressId",value:function(){var e,t;return null===(t=null===(e=this.purchaseData)||void 0===e?void 0:e.address)||void 0===t?void 0:t.id}},{key:"getProductId",value:function(){var e,t;return null===(t=null===(e=this.purchaseData)||void 0===e?void 0:e.curProduct)||void 0===t?void 0:t.product_id}},{key:"addAuthMobile",value:function(e){var t,n,r,i,o;if((null===(n=null===(t=this.purchaseData)||void 0===t?void 0:t.phoneInfo)||void 0===n?void 0:n.agencyContactState)||(null===(i=null===(r=this.purchaseData)||void 0===r?void 0:r.phoneInfo)||void 0===i?void 0:i.agencyContactForceState)){var a=Object.assign(Object.assign({},null===(o=e.payParam)||void 0===o?void 0:o.orderReportExt),{auth_mobile:1}),u=Object.assign(Object.assign({},e.payParam),{orderReportExt:a});return Object.assign(Object.assign({},e),{payParam:u})}return e}},{key:"addYqhInfo",value:function(e){var t,n,r;if(null===(t=this.purchaseData)||void 0===t?void 0:t.yqhInfo){var i=Object.assign(Object.assign({},null===(n=e.payParam)||void 0===n?void 0:n.orderReportExt),null===(r=this.purchaseData)||void 0===r?void 0:r.yqhInfo),o=Object.assign(Object.assign({},e.payParam),{orderReportExt:i});return Object.assign(Object.assign({},e),{payParam:o})}return e}}]),e}();t.ToPayModel=h,f([(0,d.log)("获取支付参数")],h.prototype,"getPayOpts",null),f([(0,d.log)("获取默认支付参数")],h.prototype,"getDefaultOpts",null),f([(0,d.log)("获取支付payParam")],h.prototype,"getPayParam",null),f([(0,d.log)("获取支付discountInfo")],h.prototype,"getDiscountInfo",null),f([(0,d.log)("获取机构当前优惠原始数据")],h.prototype,"getInstitutionDiscount",null),f([(0,d.log)("获取平台当前优惠原始数据")],h.prototype,"getPlatformDiscount",null),f([(0,d.log)("获取允许机构联系的支付参数")],h.prototype,"addAuthMobile",null),f([(0,d.log)("增加有钱花参数")],h.prototype,"addYqhInfo",null)},W9z5:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[],_color=it.color||"rgba(255,255,255,.95)",_shadow=it.shadow||"0 -1px 10px 5px rgba(0, 0, 0, .1)";return _$out_.push('<aside class="bottom-bar js-bottom-bar" data-id="',id,'" data-foldedlink="',foldedLink,'" data-shadow="',_shadow,'" style="background-color: ',_color,"; box-shadow: ",_shadow,'"> <img class="bottom-bar-img--folded js-bottom-bar--folded" src="',foldedUrl,'" alt="活动图"> <a class="bottom-bar-link bottom-bar-link--loading js-bottom-bar-link" href="',coverLink||"javascript:;",'" target="',coverLink?"_blank":"",'" style="cursor: ',coverLink?"pointer":"default",';" report-tdw="action=click&obj1=bottombanner&ver1=',id,'"> <img class="bottom-bar-img js-bottom-bar-img" src="',coverUrl,'" alt="活动图"> </a> <a class="bottom-bar-close js-bottom-bar-close" href="javascript:;" report-tdw="action=close&obj1=bottombanner&ver1=',id,'"> <i class="icon-font i-close"></i> </a></aside>'),_$out_.join("")}}},WNR8:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<a href="//ke.qq.com/user/index/index.html" report-attr="module=personalcenter&position=nickname&ver1=personalcard"> <img src="',face_url,'" width="40" height="40" alt="头像" class="mod-entry-user-avatar"> <span class="mod-entry-user-info js-username" title="',nick_name||"个人中心",'">',nick_name||"个人中心",'</span></a><a href="javascript:void(0);" class="mod-entry-user-logout js-login-op" report-attr="module=personalcenter&position=exit&ver1=personalcard" data-hook="logout">退出</a><div class="mod-entry-user-hover mod-entry-logined"> <div class="js-user-schedule header-schedule"></div> <a href="//ke.qq.com/user/index/index.html" report-attr="module=class_schedule&position=card" class="mod-entry-user-schedule"> <i class="icon-font i-calendar-2"></i>我的课表 </a></div>'),_$out_.join("")}}},WgYN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("P6dO");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},WyIQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCouponId=i,t.isCoupon=function(e){return!!i(e)},t.getCouponPrice=function(e){return e&&e.price},t.isEduCoupon=function(e){return e.type===r.CouponType.Edu},t.isCouponSuitAll=function(e){return e.elem&&e.elem.is_suit_all},t.getCouponMincost=function(e){return e.limit&&e.limit.min_cost};var r=n("DJl7");function i(e){return e&&e.cou_id}},X7da:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.DiscountModel=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("AJXv"),s=n("P87J"),l=n("rRu0");function d(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"initData",value:function(e){this.discount=e}},{key:"getDiscountMap",value:function(){var e,t;return h(this,void 0,void 0,i.default.mark((function n(){var r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r={platform:{curDiscount:null,discounts:[]},institution:{curDiscount:null,discounts:[]}}).institution.curDiscount=this.getDisountFromPlan(l.DiscountType.Institution),r.platform.curDiscount=this.getDisountFromPlan(l.DiscountType.Platform),n.next=5,this.addDiscountText(this.flatDiscounts(null===(e=this.discount)||void 0===e?void 0:e.discounters_p1));case 5:return r.institution.discounts=n.sent,n.next=8,this.addDiscountText(this.flatDiscounts(null===(t=this.discount)||void 0===t?void 0:t.discounters_p2));case 8:return r.platform.discounts=n.sent,r.institution.index=this.getCurIndex(r.institution.discounts,r.institution.curDiscount),r.platform.index=this.getCurIndex(r.platform.discounts,r.platform.curDiscount),this.discountMap=r,n.abrupt("return",this.discountMap);case 13:case"end":return n.stop()}}),n,this)})))}},{key:"getCurDiscountIndex",value:function(e){var t,n;return null===(n=null===(t=this.discountMap)||void 0===t?void 0:t[e])||void 0===n?void 0:n.index}},{key:"getSelectDiscountParam",value:function(e,t){var n,r,i,o,a,u,c,s=null===(n=this.discountMap)||void 0===n?void 0:n[t],d=null===(r=null==s?void 0:s.discounts)||void 0===r?void 0:r[e],f=(d||{}).discount_sign,p=((null===(i=null==d?void 0:d.discount_results)||void 0===i?void 0:i[0])||{}).discount_id,h=this.getAnotherDiscount(t)||{},v=h.discount_sign,g=h.discount_id;return t===l.DiscountTypeStr.Institution?(u=!f,o={discount_id:p,discount_sign:f}):t===l.DiscountTypeStr.Platform&&(c=!f,u=!v,a={discount_id:p,discount_sign:f},o={discount_id:g,discount_sign:v}),{p1:o,p2:a,disable_p1:u,disable_p2:c}}},{key:"getAnotherDiscount",value:function(e){var t,n;return null===(n=null===(t=this.discountMap)||void 0===t?void 0:t[this.getAnotherType(e)])||void 0===n?void 0:n.curDiscount}},{key:"getAnotherType",value:function(e){return e===l.DiscountTypeStr.Institution?l.DiscountTypeStr.Platform:l.DiscountTypeStr.Institution}},{key:"addDiscountText",value:function(e){var t;return h(this,void 0,void 0,i.default.mark((function n(){var r,o,a,u,s,l,f,p,h;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=[],o=d(e),n.prev=2,o.s();case 4:if((a=o.n()).done){n.next=14;break}return u=a.value,n.next=8,(0,c.createDiscountByData)(u);case 8:s=n.sent,l="",(0,c.isCouponType)(null==s?void 0:s.type)?(f=null===(t=s)||void 0===t?void 0:t.utils,p=null==f?void 0:f.getBestCoupon(),l=(null==p?void 0:p.getCouponUseRuleTypeText())+": "+(null==p?void 0:p.getRuleText())):(h=null==s?void 0:s.getDecrPrice(),l=(null==s?void 0:s.desc)+(h?": 降价"+(0,c.formatPrice)(h||0)+"元":"")),r.push(Object.assign(Object.assign({},u),{discountText:l}));case 12:n.next=4;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(2),o.e(n.t0);case 19:return n.prev=19,o.f(),n.finish(19);case 22:return n.abrupt("return",r);case 23:case"end":return n.stop()}}),n,null,[[2,16,19,22]])})))}},{key:"getDisountFromPlan",value:function(e){var t,n,r,i,o,a=(null===(n=null===(t=this.discount)||void 0===t?void 0:t.p2_plan)||void 0===n?void 0:n.is_best)?null===(r=this.discount)||void 0===r?void 0:r.p2_plan:null===(i=this.discount)||void 0===i?void 0:i.plan;return null===(o=null==a?void 0:a.items)||void 0===o?void 0:o.find((function(t){return t.discount_type===e}))}},{key:"flatDiscounts",value:function(e){var t=[];return null==e||e.forEach((function(e){var n,r=e.discount_sign;null===(n=e.discount_results)||void 0===n||n.forEach((function(e){t.push({discount_results:[e],discount_sign:r})}))})),t}},{key:"getCurIndex",value:function(e,t){var n=null==t?void 0:t.discount_id;return n?null==e?void 0:e.findIndex((function(e){var t,r=((null===(t=null==e?void 0:e.discount_results)||void 0===t?void 0:t[0])||{}).discount_id;return n===r})):null==e?void 0:e.length}}]),e}();t.DiscountModel=v,p([(0,s.log)("获取下单页优惠数据")],v.prototype,"getDiscountMap",null),p([(0,s.log)("获取下单页优惠列表")],v.prototype,"addDiscountText",null),p([(0,s.log)("获取下单页当前优惠")],v.prototype,"getDisountFromPlan",null)},XHyY:function(e,t,n){},XKbg:function(e,t,n){var r=n("1RNr");r.extend({getStatistics:r.httpMethod({url:"/cgi-bin/user/get_statistics"}),getIncomingClass:r.httpMethod({url:"/cgi-bin/user/get_incoming_class"}),getCooperationLink:r.httpMethod({url:"/cgi-bin/get_linking_url_list"}),updateInterest:r.httpMethod({url:"/cgi-bin/user/update_interest"}),getCateData:r.httpMethod({url:"/cgi-bin/h5/cat_common_homepage"}),setVisitTime:r.httpMethod({url:"/cgi-bin/index_set_visit_time",type:"post"}),getOperationNewUserEntry2:r.httpMethod({url:"//sas.qq.com/cgi-bin/ke_operation_newUserEntry2"}),getIsUserGetWelfareTwo:r.httpMethod({url:"/cgi-proxy/activity_platform/is_user_can_get_welfare_two"}),setUserCloseWelfareTwo:r.httpMethod({url:"/cgi-proxy/activity_platform/user_close_welfare_two"}),getSasFreeLearningInfo:r.httpMethod({url:"//sas.qq.com/cgi-bin/ke_freeLearning_text"}),getUserFreeLearningInfo:r.httpMethod({url:"/cgi-proxy/growth_activity/grant_or_get_study_card"})}),e.exports=r},XOiT:function(e,t,n){"use strict";var r=n("A3sk"),i=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getUA=c,t.getClientEnvInfo=s,t.isMacClient=function(){return s().isMac},t.isWinClient=function(){var e=s(),t=e.isOldWin,n=e.isNewWin;return t||n},t.isClient=function(){var e=s(),t=e.isMac,n=e.isOldWin,r=e.isNewWin;return n||r||t},t.isPC=function(){return!l()},t.isMobile=l,t.isIOS=d,t.isIPad=f,t.isIPhoneX=function(){return d()&&(375===window.screen.width&&812===window.screen.height||414===window.screen.width&&896===window.screen.height)},t.isAndroid=p,t.isWeixin=h,t.isQQBrowser=function(){return-1!==c().indexOf("mqqbrowser")},t.isSafariBrowser=function(){return/^((?!chrome|android|crios).)*safari/i.test(c())},t.isX5=function(){return-1!==c().indexOf("tbs/")},t.isUCBrowser=function(){return-1!==c().indexOf("ucbrowser")},t.isIE=v,t.isEdge=function(){return-1!==c().indexOf("ucbrowser")},t.getMiuiBrowserVersion=function(){var e=c().match(/miuibrowser\/(\d+\.\d+\.\d+)/i);return e?e[1]:""},t.getX5Version=function(){var e=c().match(/tbs\/(\d\d\d)\d+/i);return e?parseInt(e[1],10):null},t.getIEVersion=function(){if(!v())return 0;var e=c(),t=e.match(/msie (\d+)/),n=t?parseInt(t[1],10):null;return-1!==e.indexOf("msie 6.")?6:7===n||8===n||9===n||10===n?n:e.toLowerCase().match(/rv:([\d.]+)\) like gecko/)?11:0},t.getSafariVer=function(){var e=navigator.userAgent.match(/Version\/([\d.]+).*Safari/);if(e)return parseInt(e[1],10);return null},t.getWeiXinVersion=function(){var e=c().match(/micromessenger\/(\d+\.\d+\.\d+)(\.\d+)?/i);return e?e[1]:""},t.getQQVersion=g,t.isServer=function(){return!("object"===("undefined"==typeof window?"undefined":(0,o.default)(window))&&window&&"undefined"!=typeof document)},t.isQQ=m,t.isApp=y,t.isSpeedApp=function(){return-1!==c().indexOf("eduteaandroid")||-1!==c().indexOf("edumacteaios")},t.isIPadApp=function(){return f()&&y()},t.isBaiduApp=function(){return-1!==c().indexOf("baiduboxapp")},t.isWeiboApp=function(){return-1!==c().indexOf(" weibo ")},t.isChromeBrowser=function(){return!h()&&/\bCrMo\b|CriOS|Android.*Chrome\/[.0-9]* (Mobile)?/i.test(c())},t.getOSVersion=function(){var e,t="";d()?(e=navigator.userAgent.match(/ os ([\d_]+) /i),t=e?e[1]:""):p()&&(e=navigator.userAgent.match(/android( |\/)([\d\.]+)/i),t=e?e[2]:"");return t.replace(/_/gi,".")},t.isMiniProgram=_,t.isWXMiniProgram=b,t.isQQMiniProgram=w,t.isKeMiniProgram=function(){return _("weappke")},t.isKeWXMiniProgram=function(){return b("weappke")},t.isKeQQMiniProgram=function(){return w("weappke")},t.isIOSMiniProgram=function(){return(d()||f())&&_()},t.getEnv=function(){if(d())return"ios";if(p())return"android";return"h5"},t.isEmbeddedInApp=function(){return!!a.getUrlParameter("in_app")||a.getLocation().pathname.indexOf(".app.html")>=0},t.isWeAppke=function(){return"weappke"===a.getUrlParameter("sfrom")},t.isMac=function(){return-1!==navigator.userAgent.indexOf("Mac")},t.isWxWork=function(){var e=c();return-1!==e.indexOf("wxwork")&&-1!==e.indexOf("micromessenger")},t.NetWorkType=void 0;var o=i(n("FO6Z")),a=r(n("bhbm")),u=r(n("RWC5"));function c(){var e="undefined"!=typeof document?window.navigator.userAgent:window.request.headers["user-agent"];return e=e.toLowerCase()}function s(){var e={isMac:!1,isNewWin:!1,isOldWin:!1,isWeb:!1};return window.external?window.external.hasOwnProperty("nativeCall")?e.isNewWin=!0:window.external.hasOwnProperty("EduOpenClass")?e.isOldWin=!0:e.isWeb=!0:window.navigator.userAgent.indexOf("EduMac")>=0?e.isMac=!0:e.isWeb=!0,e}function l(){return/Android|iPhone|iPod|BlackBerry|IEMobile/i.test(c())||f()}function d(){return/iPhone|iPod|iPad/i.test(c())}function f(){return/iPad/i.test(c())}function p(){return-1!==c().indexOf("android")}function h(){return-1!==c().indexOf("micromessenger")}function v(){var e=c();return e.indexOf("msie")>-1||e.indexOf("trident")>-1&&e.indexOf("rv:11.0")>-1}function g(){var e=c().match(/qq\/(\d+\.\d+(\.\d+)?)/i);return e?e[1]:""}function m(){return!!g()}function y(){return-1!==c().indexOf("educationapp")||-1!==c().indexOf("eduapp")}function _(e){var t=!!a.getQuery("mp"),n=u.getStorage("webViewIsMp"),r="miniprogram"===window.__wxjs_environment||"miniprogram"===window.__qqjs_environment,i=-1!==c().indexOf("miniprogram")||r||t||n;return e?i&&a.getUrlParameter("sfrom")===e:i}function b(e){return h()&&_(e)}function w(e){return m()&&_(e)}var k;t.NetWorkType=k,function(e){e[e.DEFAULT=-1]="DEFAULT",e[e.WIFI=1]="WIFI",e[e.EDGE=2]="EDGE",e[e.WWAN=3]="WWAN"}(k||(t.NetWorkType=k={}))},XW6X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={APPLY_IFRAME_METHOD:!0,apply:!0,applyCdkey:!0,instalmentPay:!0,agencyRechargePay:!0,cdKeyPurchasePay:!0};t.apply=function(e){if(!e.noIframe)return a.imlog.info("【支付模块】","【支付iframe调用】",e),function(e){var t=new i.Iframe(function(e){return(0,i.isMobile)()?e.iframeUrlH5||"//m.ke.qq.com/m-core/pay.html":e.iframeUrlPC||"//ke.qq.com/user/pay/pay.html"}(e)),n=t.getIframe();n&&n.setAttribute("class","z-index-paylayer"),n&&n.setAttribute("allowtransparency","true"),n&&(n.style.backgroundColor="transparent");var r=function(){try{e.close&&e.close(),t&&t.remove()}catch(e){throw a.imlog.error("【支付模块】","【支付iframe关闭】",e),e}};return i.Iframe.waitForRegister("__APPLY__",(function(){t.invoke("__APPLY__",Object.assign(Object.assign({},e),{close:r}))})),t}(e);return a.imlog.info("【支付模块】","【支付直接调用】",e),new o.Apply(e)},t.applyCdkey=function(e,t){(0,c.CdkeyInit)(e,t)},t.instalmentPay=function(e){return(0,l.InstalmentPay)(e)},t.agencyRechargePay=function(e){(0,u.AgencyRechargePay)(e)},t.cdKeyPurchasePay=function(e){(0,s.CdKeyPurchasePay)(e)},t.APPLY_IFRAME_METHOD=void 0;var i=n("F5LU"),o=n("7Nj1");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n("uIhe"),u=n("jbfT"),c=n("gNox"),s=n("Y2iD"),l=n("bsPl"),d=n("/WCk");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=n("fcgD");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=n("1c9X");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=n("vqVK");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));t.APPLY_IFRAME_METHOD="__APPLY__"},XXQO:function(e,t,n){var r=n("plXc"),i=n("FE3Q");e.exports={getInfoAsync:function(){return r.asyncCGI()},getInfoSync:function(){return i.getInfoSync()},getRoleInfoSync:function(){return i.getRoleInfoSync()},getInfo:function(){return r.asyncCache()},extendBaseInfo:i.extendBaseInfo,updateInfo:i.updateInfo,isUidChanged:r.isUidChanged,isLogin:r.isLogin}},XwTY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPassResult=function(e,t){return Object.assign({pass:e},t)}},Y2iD:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.CdKeyPurchasePay=function(e){return l(this,void 0,void 0,i.default.mark((function t(){var n,r,o,l,p,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.imlog.info("【支付模块】","【cdkey购买】"),t.next=4,d(e);case 4:return f(n=t.sent),t.next=8,(0,a.fetch)("/cgi-bin/pay_access/paytoken",{body:n,method:"POST"});case 8:r=t.sent,u.imlog.info("【支付模块】","【cdkey购买成功】",r),u.imlog.monitor(34647638),o={productid:e.productId,type:"cd_key"},l=r.result,p=(void 0===l?{}:l).token,h=void 0===p?{}:p,new s.PCMidas(o).pay(h),t.next=22;break;case 17:throw t.prev=17,t.t0=t.catch(0),u.imlog.extra({retcode:t.t0&&t.t0.retcode,platform:(0,c.getPlatform)()}).error("【支付模块】","【cdkey购买失败】",t.t0),u.imlog.monitor(34647639),t.t0;case 22:case"end":return t.stop()}}),t,null,[[0,17]])})))};var i=r(n("gBQG")),o=r(n("INZq")),a=n("F5LU"),u=n("uIhe"),c=n("vqVK"),s=n("IvuC"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function d(e){return l(this,void 0,void 0,i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.getSource)();case 2:return n=t.sent,r=o.default.getReportData(),t.abrupt("return",{discountinfo:{},order_report:{extend:{unifiedplatform:parseInt(r.platform,10)||1}},report:{monitor:{platform:r.platform},platform:(0,c.getPlatform)()},productid:{fid:e.productId,type:"cd_key"},source:n});case 5:case"end":return t.stop()}}),t)})))}function f(e){e.discountinfo=JSON.stringify(e.discountinfo),e.report=JSON.stringify(e.report),e.productid=JSON.stringify(e.productid),e.order_report.extend=JSON.stringify(e.order_report.extend),e.order_report=JSON.stringify(e.order_report)}},YH9n:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("4qiJ")),o=n("pNy8"),a=r(n("tUwb")),u=r(n("w7y4")),c=r(n("n6ej")),s=document.referrer,l=i.default.parseHref(s),d="report_position_key",f="ke.qq.com",p="/",h=/\/course\/\d+$/i,v=/\/course\/package\/\d+$/i;var g={getPositionData:function(){var e=c.default.get();if(e)return e;var t=function(){var e=(0,o.query)("page")||(0,o.query)("url_page"),t=(0,o.query)("module")||(0,o.query)("url_module"),n=(0,o.query)("position")||(0,o.query)("url_position");if(e)return{url_page:e,url_module:t,url_position:n};return null}()||function(){var e;try{(e=a.default.get(d))&&(e=JSON.parse(e))}catch(t){e={}}return a.default.del(d),e}()||function(){var e;try{(e=u.default.get(d))&&(e=JSON.parse(e))}catch(t){e={}}return u.default.del(d,f,p),e||{}}()||function(){var e=l.pathname;if(h.test(e)||"/m-core/course.html"===e)return{url_page:"course"};if(v.test(e))return{url_page:"coursegroup"};return}();return c.default.set(t),t},setPositionData:function(e){u.default.setSession(d,JSON.stringify(e),f,p)}};t.default=g},YHBh:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var i,o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("FO6Z")),s=n("F5LU"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,c.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};!function(e){e[e.MASTER=1]="MASTER",e[e.TEACHER=2]="TEACHER",e[e.STUDENT=3]="STUDENT",e[e.ADMIN=4]="ADMIN",e[e.PERSONAL=5]="PERSONAL"}(i||(i={}));var f=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,[{key:"fetchUserInfo",value:function(e){return(0,s.fetch)("/cgi-bin/user/get_user_info",e)}},{key:"fetchUserInfoWithNoCache",value:function(e){return(0,s.fetch)("/cgi-bin/user/get_user_info",e)}},{key:"fetchLoginUserInfo",value:function(e){return(0,s.fetch)("/cgi-bin/login/userinfo",e)}},{key:"getUserIcon",value:function(){var e;return d(this,void 0,void 0,o.default.mark((function t(){var n,r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchLoginUserInfo();case 2:return n=t.sent,r=null===(e=null==n?void 0:n.result)||void 0===e?void 0:e.face_url,t.abrupt("return",r&&(0,s.decodeHtml)(r));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getUserNick",value:function(){var e;return d(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchLoginUserInfo();case 2:return n=t.sent,t.abrupt("return",null===(e=null==n?void 0:n.result)||void 0===e?void 0:e.nick_name);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getUserLoginInfo",value:function(){return d(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserIcon();case 2:return e.t0=e.sent,e.next=5,this.getUserNick();case 5:return e.t1=e.sent,e.abrupt("return",{faceUrl:e.t0,nickName:e.t1});case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getUserPhone",value:function(e){var t;return d(this,void 0,void 0,o.default.mark((function n(){var r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.fetchUserInfo(e);case 2:return r=n.sent,n.abrupt("return",null===(t=null==r?void 0:r.result)||void 0===t?void 0:t.mobile);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"getUserPhoneWithNoCache",value:function(e){var t;return d(this,void 0,void 0,o.default.mark((function n(){var r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.fetchUserInfoWithNoCache(e);case 2:return r=n.sent,n.abrupt("return",null===(t=null==r?void 0:r.result)||void 0===t?void 0:t.mobile);case 4:case"end":return n.stop()}}),n,this)})))}}]),e}();t.User=f,l([(0,s.cache)("/cgi-bin/user/get_user_info")],f.prototype,"fetchUserInfo",null),l([(0,s.cache)("/cgi-bin/login/userinfo")],f.prototype,"fetchLoginUserInfo",null)},YMey:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PayObnAct=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("F5LU"),u=n("1Pex"),c=n("mSuR"),s=n("uIhe"),l=function(){function e(){(0,i.default)(this,e),this.obnAct=new c.ObnAct}return(0,o.default)(e,[{key:"isAct",value:function(){return this.obnAct.isAct.call(this.obnAct)}},{key:"getCallbackUrlParam",value:function(e){var t=this.getPayPrice(null==e?void 0:e.payPrice,null==e?void 0:e.price);if(t<2e3)return null;var n=3*this.getBonusPrice(t),r=(0,c.getObnParam)()||{};return Object.assign(Object.assign({},r),{actPrice:n,actType:u.ActType.Obn})}},{key:"pay",value:function(e,t){var n=null==e?void 0:e.orderReportExt,r=this.getObnId(t),i=Object.assign(Object.assign({},e),{isObn:!0});return r&&(n=Object.assign(Object.assign({},n),{obn_id:r}),i=Object.assign(Object.assign({},i),{orderReportExt:n})),i}},{key:"getObnId",value:function(e){try{var t=e.courseInfo,n=t.cid||t.pid;return(0,c.getObnId)(n)}catch(e){return s.imlog.error("[obnId get err]",e),(0,a.getQuery)("obnId")}}},{key:"getPayPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return window.__OBN_TEST__?t:e}},{key:"getBonusPrice",value:function(e){return 100*Math.floor(.05*e*.01)}}]),e}();t.PayObnAct=l},YQQx:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Present=void 0;var i,o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("FO6Z")),s=n("F5LU"),l=n("2dtd"),d=n("P87J"),f=n("GYbC"),p=n("Uv28"),h=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,c.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};!function(e){e.pkgCoursePresent="/cgi-bin/user/accept_course_in_pkg",e.present="/cgi-bin/user/accept_present_course"}(i||(i={}));var g=function(){function e(t,n){(0,a.default)(this,e),this.payData=t,this.opts=n}return(0,u.default)(e,[{key:"hasPresent",value:function(){return this.isCoursePkgPresent()||this.isPresentCourse()}},{key:"apply",value:function(){return v(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPresentCourse()){e.next=5;break}return e.next=3,this.acceptPresent();case 3:e.next=11;break;case 5:if(!this.isCoursePkgPresent()){e.next=10;break}return e.next=8,this.acceptPkgPresent();case 8:e.next=11;break;case 10:throw new l.CustomApplyFrontError(l.ApplyFrontErrorRetcode.UnknownPresent);case 11:case"end":return e.stop()}}),e,this)})))}},{key:"isCoursePkgPresent",value:function(){return(0,f.isCoursePkgPresent)(this.opts)}},{key:"isPresentCourse",value:function(){var e;return(0,f.isCoursePresent)(null===(e=this.payData)||void 0===e?void 0:e.detail,this.opts)}},{key:"acceptPresent",value:function(){return v(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,f.isCourse)(this.opts)){e.next=3;break}return e.next=3,this.acceptPresentCourse(this.opts);case 3:if(!(0,f.isCoursePkg)(this.opts)){e.next=6;break}return e.next=6,this.acceptPresentCoursePkg(this.opts);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"fetchApplyCgi",value:function(e,t){return(0,s.fetch)(e,{body:t,method:"POST"})}},{key:"acceptPkgPresent",value:function(){if((0,f.isCoursePkg)(this.opts))throw new l.CustomApplyFrontError(l.ApplyFrontErrorRetcode.PresentIllegal);var e=(0,p.getCoursePkgPresentParam)(this.payData,this.opts);return this.fetchApplyCgi(i.pkgCoursePresent,e)}},{key:"acceptPresentCourse",value:function(e){var t=(0,p.getCourseApplyParam)(this.payData,e);return this.fetchApplyCgi(i.present,t)}},{key:"acceptPresentCoursePkg",value:function(e){var t=(0,p.getCoursePkgApplyParam)(this.payData,e);return this.fetchApplyCgi(i.present,t)}}]),e}();t.Present=g,h([(0,d.log)("赠送课程判断")],g.prototype,"hasPresent",null),h([(0,d.log)("赠送逻辑调用",d.MonitorType.PRESENT_SUCC,d.MonitorType.PRESENT_ERR)],g.prototype,"fetchApplyCgi",null)},YRie:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PunishChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("uIhe"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},s=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"check",value:function(e){return c(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.paylayerData.ext)||!n.isPunished){t.next=4;break}return u.imlog.info("【支付模块】","【支付checkers惩罚班级校验失败】"),t.abrupt("return",{msg:"该课程中部分课程因质量问题不能报名。",pass:!1});case 4:return u.imlog.info("【支付模块】","【支付checkers惩罚校验成功】"),t.abrupt("return",{pass:!0});case 6:case"end":return t.stop()}}),t)})))}}]),e}();t.PunishChecker=s},Yb2d:function(e,t){var n;if(window.jQuery)n=window.jQuery;else{if(!window.$)throw new Error("没有找到jQuery或zepto");n=window.$}e.exports=n},"Yd+N":function(e,t,n){var r,i=n("xeH2");i(window);function o(){return e=8,(t=document.createElement("b")).innerHTML="\x3c!--[if IE "+e+"]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length;var e,t}function a(){setTimeout((function(){o()&&(r||((r=document.createElement("div")).id="edu-low-version",r.style.cssText="height:24px;width:100%;",r.innerHTML='<p style="line-height:24px;position:fixed;top:0;width:100%;text-align:center;min-width: 900px;background-color:#F6F6CC;color:#333;z-index:901;">当前的浏览器版本过低，部分功能可能会受影响，请尽快升级哦（推荐下载<a href="http://browser.qq.com/" target="blank" title="QQ浏览器">QQ浏览器</a>）</p></div>',i(document.body).prepend(r)))}),1e3)}i((function(){a()}))},Yd1f:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=n("qGYQ");function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,a.default)(n,e);var t=l(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"openQQConsult",value:function(e){(0,s.weixinJSBridgeReadyCall)((function(){window.WeixinJSBridge&&window.WeixinJSBridge.invoke("launchApplication",{schemeUrl:"mqqwpa://im/chat?chat_type=wpa&version=1&uin=".concat(e.id,"&src_type=web&web_src=m.ke.qq.com")})}))}}]),n}(r(n("tgnt")).default);t.default=d},Ye0L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFreeLearningTextSASData=function(){return r.env.get("fetch")("//sas.qq.com/cgi-bin/ke_freeLearning_text")};var r=n("MR6g")},Yieb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterHtml=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},u=0,c={};o.lastIndex=0,e=e.replace(o,(function(){var e=arguments[2]||"",r=t.whiteList||m,i=r[e];if(!(e=e.toLowerCase())||!i)return arguments[0]||"";if(arguments[1])return c[e]&&c[e].length?(c[e].pop(),c[e].length||delete c[e],n[u]="</".concat(arguments[2],">"),"{%DataIndex_".concat(u++,"%}")):(n[u]="</".concat(arguments[2],">"),"{%DataIndex_".concat(u++,"%}"));var o=(arguments[3]||"").replace(v,"");if(!("/"!==o&&o||_(i)))return n[u]=arguments[0],"{%DataIndex_".concat(u++,"%}");if(o)if(a.lastIndex=0,a.test(o)){a.lastIndex=0;var s=[];o.replace(a,(function(){var t=arguments[1].toLowerCase(),n=arguments[3],i=b(e,t,n,r);s.push(i?" ".concat(t,'="').concat(i,'"'):"")})),o=s.join("")}else o="";return"/"!==o&&o||_(i)?(c[e]||(c[e]=[]),c[e].push(e),n[u]="<".concat(e).concat(o?" ".concat(o):"",">"),"{%DataIndex_".concat(u++,"%}")):(n[u]=arguments[0],"{%DataIndex_".concat(u++,"%}"))})),t.args||(e=e.replace(r,"&lt;").replace(i,"&gt;"));e=e.replace(/\{\%DataIndex_(\d+)\%\}/gi,(function(){return n[arguments[1]]||""})).replace(h,(function(e,t,n,r){return"".concat(t||"",'<a href="').concat("www."==r?"".concat(location.protocol,"//"):"").concat(n,'" target="_blank">').concat(n,"</a>")}));var s=[];for(var l in c)if("img"!==l&&"br"!==l&&"p"!==l&&"hr"!==l){var d=void 0;if(d=c[l].length)for(var f=0;f<d;f++)s.push("</".concat(l,">"))}s.length&&(e+=s.join(""));return e},t.createFragment=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.children},t.toHTMLString=function(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML},t.getContentWidth=function(e){var t=e.offsetWidth,n=window.getComputedStyle(e);return t-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)};var r=/</g,i=/>/g,o=/<(\/)*([a-zA-Z0-9_:\.\-]+)([^>a-zA-Z0-9_:\.\-]+[^>]*)*>/gi,a=/[^>a-zA-Z0-9_:\.\-]*([a-zA-Z0-9_:\.\-]+)=([\"\']?)([^\"\'>]*?)\2/gi,u=/[^>a-zA-Z0-9_:\.\-]/gi,c=/\/\*|\*\//gm,s=/^[\s"'`]*((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,l=/\/\*|\*\//gm,d=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,f=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n/gi,p=new RegExp("((news|telnet|nttp|file|http|ftp|https)?:?//){1}(([-A-Za-z0-9]+(\\.[-A-Za-z0-9]+)*(\\.[-A-Za-z]{2,5}))|([0-9]{1,3}(\\.[0-9]{1,3}){3}))(:[0-9]*)?(/[-A-Za-z0-9_\\$\\.\\+\\!\\*\\(\\),;:@&=\\?/~\\#\\%]*)*","gi"),h=new RegExp("([^\\'\\\"]|^|\\s+)((((news|telnet|nttp|file|http|ftp|https)://)|(www\\.))(([-A-Za-z0-9]+(\\.[-A-Za-z0-9]+)*(\\.[-A-Za-z]{2,5}))|([0-9]{1,3}(\\.[0-9]{1,3}){3}))(:[0-9]*)?(/[-A-Za-z0-9_\\$\\.\\+\\!\\*\\(\\),;:@&=\\?/~\\#\\%]*)*)(?![^<]*</a>)","gi"),v=/^\s|\s$/gi,g=/^data:image\/(.)*/i,m={h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},hr:{},span:{},strong:{},b:{},i:{},br:{},p:{},pre:{},code:{},a:{target:{default:"_blank"},href:!0,title:!0},img:{src:!0,alt:!0,title:!0,rel:!0},div:{},table:{border:!0},tr:{rowspan:!0},td:{colspan:!0},th:{colspan:!0},tbody:{},thead:{},ul:{},li:{},ol:{},dl:{},dt:{},dd:{},em:{},cite:{},section:{},header:{},footer:{},blockquote:{},audio:{autoplay:!0,controls:!0,loop:!0,preload:!0,src:!0},video:{autoplay:!0,controls:!0,loop:!0,preload:!0,src:!0,poster:!0,"data-txcloud":{regexp:/\d+/},"data-from":{regexp:/\d+/},"data-vid":{regexp:/[a-zA-Z0-9]+/}},font:{}},y={width:!0,height:!0,style:!0},_=function(e){return 0===Object.keys(e).length&&e.constructor===Object};function b(e,t,n,r){if(u.test(t))return"";var i=(r||m)[e][t],o=i&&i.regexp,a=i&&i.default;if("href"===t||"src"===t)return c.lastIndex=0,c.test(n)?a||"#":(s.lastIndex=0,s.test(n)?a||"#":(p.lastIndex=0,p.test(n)||g.test(n)?o&&(o.lastIndex=0,!o.test(n))?a||"#":n:a||"#"));if(i||y[t]){if(l.lastIndex=0,l.test(n))return a||"";if(d.lastIndex=0,d.test(n))return a||"";if("style"===t){if(f.lastIndex=0,f.test(n))return a||"";n=n.replace(/(^|[;\s])\s*(min-)?width\s*:[^;]*(;|$)/g,"$1")}return o&&(o.lastIndex=0,!o.test(n))?a||"":n}return""}},YkGI:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("4qiJ")),o={url:"//tmapp.qq.com/cgi-bin/activity_platform/tdw/report",timer:300,beforeRequest:function(){},success:function(){},error:function(){},fail:function(){},slicer:5,table:"",pr_ip:"",pr_t:""},a={},u={},c=[],s=0,l=console||{},d=["url","refer","courseid","ver1"],f={pool:[],write:function(e){i.default.isPlainObject(e)?this.pool.push(e):Array.isArray(e)&&Array.prototype.push.apply(this.pool,e)},read:function(){var e=this.pool;return this.pool=[],e}},p={config:function(e,t){Object.assign(a,e),Object.assign(o,t),v(a)},report:function(e){f.write(e),s||(s=setTimeout((function(){!function(){var e=[],t=f.read();t.length<=o.slicer?g(h(t)):(i.default.each(t,(function(t,n){e.push(n),t>0&&t%o.slicer==o.slicer-1&&(g(h(e)),e=[])})),e.length&&g(h(e)))}(),s=0}),o.timer))},reportSync:function(e,t){t=Object.assign({},o,t),g(h(e),t)},composer:h,request:g,getCommonData:function(e){return e?a[e]:a}};function h(e){var t;return v(e),t=function(e){var t,n=[];if(!e)return;i.default.isPlainObject(e)&&(e=[e]);if(!Array.isArray(e))return;return i.default.each(e,(function(e,r){t=[],r=Object.assign({},a,r),i.default.each(c,(function(e,n){var i=r[n];i=void 0===i?"":i,t.push(i)})),n.push(t)})),n}(e),{fields:c,datas:t}}function v(e){e&&(i.default.isPlainObject(e)&&(e=[e]),Array.isArray(e)&&i.default.each(e,(function(e,t){i.default.each(t,(function(e){u[e]||(u[e]=1,c.push(e))}))})))}function g(e,t){var n,r,a={};t=t||o,i.default.each(["table","pr_ip","pr_t"],(function(e,n){a[n]=t[n]||""})),e.datas=(n=e.fields,(r=(r=e.datas)||[]).forEach((function(e){e.forEach((function(t,r){"string"==typeof t&&(~d.indexOf(n[r])?e[r]=t.substring(0,450):e[r]=t.substring(0,50))}))})),r),a.fields=JSON.stringify(e.fields),a.datas=JSON.stringify(e.datas),a.retype=2,!1!==o.beforeRequest(e)&&t.url&&(i.default.loadJSONP(t.url,a,(function(t){o[0===t.ret?"success":"error"](t,e)})),function(e,t){if(!l.table||!window.localStorage)return;try{if(1===parseInt(window.localStorage.getItem("tdwFlag"),10)||1===parseInt(window.localStorage.getItem("tdwFlag2"),10))for(var n=0,r=t.length;n<r;n++){for(var i={},o=0,a=e.length;o<a;o++)""!==t[n][o]&&(i[e[o]]=t[n][o]);l.table([i])}}catch(e){}}(e.fields,e.datas))}t.default=p},ZAhB:function(e,t,n){var r=n("Icf1"),i=n("VhlU"),o=n("OhlG"),a=n("OlRL");n("NaRh");window.GLOBAL_DATA;e.exports={init:function e(t){if(2011===(window.GLOBAL_DATA||{}).cateId)if(t){var n=t.ke_designCate_theme[0],u=t.ke_designCate_result[0];n&&u&&($("#design_revise_index").html(r(t)).show(),$("#wx_qrcode").attr("src",o),i.init({theme:n.theme,desc:n.demand}),$slick=$("#before_after").slick({autoplay:!0,autoplaySpeed:5e3,fade:!0,arrows:!1,speed:600,pauseOnHover:!0,dots:!0,dotsClass:"lastest-revise-show-indicator",appendDots:$(".lastest-revise-show")}),$("#before_after li").show(),$slick.on("beforeChange",(function(e,t,n,r){var i=$(t.$slides[r]).show();$slick.height(i.height())})),$("#slick-prev-btn").click((function(){$slick.slick("slickPrev")})),$("#slick-next-btn").click((function(){$slick.slick("slickNext")})))}else a.getSASData({param:{t:'["ke_designCate_result","ke_designCate_theme"]',q:'{ke_designCate_result(_orderby:"no",_desc:1,_page:1,_limit:1){no,results{ori_pic,ret_pic,ori_cover,ret_cover,author_name,author_logo,design_goal,design_background,design_vid,designer{designer_id},comment,suggestion},_total_records}ke_designCate_theme(end_time:{_gt:'+parseInt(new Date/1e3)+"},_limit:1,_page:1){no,theme,demand,designers{designer_id},start_time,end_time,ready}}"},succ:function(t){t&&0==t.retcode&&e(t.result)}})}}},ZBUb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSmsCode=function(e){return(0,r.fetch)("/cgi-bin/tool/check_sms_code",{data:e})},t.getCheckSmsCodeRetcodeText=function(e){if(e)return(0,i.getErrorText)(202);return(0,i.getErrorText)(300)};var r=n("/m0i"),i=n("/3d5")},"ZHP+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportExposure=o,t.reportCourseExposure=function(e,t){o(e,Object.assign({reportFun:a},t))},t.reportCourseFun=void 0;var r={courseCls:"course",indexKey:"index",courseIdKey:"id",isPkgKey:"ispkg",taskId:"taskid",aid:"aid",teacherId:"teacherid"};function i(e,t){var n=t.data("report-module");e.tdw({action:"exposure",module:n}),t.data("hasReport",!0)}function o(e,t){!function(e){var t=e.$doc;!e.$reportModule&&t&&(e.$reportModule=t.find("[data-report-module]"))}(t=t||{});var n=t.$reportModule,r=t.$wrapper||t.$win;function o(){n.each((function(r){var o=n.eq(r);!o.data("hasReport")&&o.is(":visible")&&o.isOnScreen&&o.isOnScreen()&&(t.reportFun||i)(e,o,t)}))}return o(),r.on("scroll.viewreport",o),function(){r.off("scroll.viewreport",o)}}function a(e,t,n){n=Object.assign(r,n);var i=t.closest("[data-report-module]").data("report-module"),o=t.find(n.courseCls),a=[],u=[],c=[],s=[];if(Array.from(o).forEach((function(e,t){var r=o.eq(t);if(!r.data("hasReport")&&r.isOnScreen&&r.isOnScreen()){var i=parseInt(r.data(n.courseIdKey),10),l=parseInt(r.data(n.taskId),10)||0,d=parseInt(r.data(n.aid),10)||0,f=parseInt(r.data(n.teacherId),10)||0,p="".concat(i,"_").concat(l,"_").concat(f,"_").concat(d);r.data(n.isPkgKey)?(p="p".concat(p),c.push(i)):u.push(i),s.push(p),a.push(r.data(n.indexKey)),r.data("hasReport",!0)}})),0!==a.length){var l={};n.beforeReport&&(l=n.beforeReport(e,t,n)),e.tdw(Object.assign({action:"exposure",module:i,position:a.join("_"),courseid:u.join("_"),coursepackageid:c.join("_"),ver3:s},l)),n.afterReport&&n.afterReport(e,t,n,{cidArr:u,posArr:a})}}var u=a;t.reportCourseFun=u},ZODy:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("sWVP"),s=n("uIhe"),l=n("vqVK"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},f=function(){function e(){(0,o.default)(this,e),this.schoolAgency=c.SchoolAgency.getInstance()}return(0,a.default)(e,[{key:"check",value:function(e,t){var n,r;return d(this,void 0,void 0,i.default.mark((function o(){var a,d,f,p,h,v,g;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t||!t.noCheckPhone){i.next=2;break}return i.abrupt("return",{pass:!0});case 2:if(!(0,u.getStorage)("ACTIVEACCOUNT")){i.next=6;break}return(0,u.removeStorage)("ACTIVEACCOUNT"),i.abrupt("return",{pass:!0});case 6:if(d=(a=e||{}).userInfo,f=a.paylayerData,!(d&&d.mobile||(0,l.isCoursePkg)(t)||(0,u.isApp)())){i.next=10;break}return s.imlog.info("【支付模块】","【支付checkers手机号绑定校验成功】"),i.abrupt("return",{pass:!0});case 10:if(p=f&&f.ext&&f.ext.agency_id,h=(0,l.getCid)(t),!(0,c.isKAorFastAgency)({term_bit_flag:t.term_bit_flag||(null===(r=null===(n=null==f?void 0:f.detail[0])||void 0===n?void 0:n.term)||void 0===r?void 0:r.term_bit_flag)})){i.next=14;break}return i.abrupt("return",{pass:!0});case 14:return i.next=16,this.schoolAgency.isWhiteAgency(p);case 16:if(!i.sent){i.next=20;break}return s.imlog.info("【支付模块】","【白名单机构跳过手机号校验】"),i.abrupt("return",{pass:!0});case 20:return v="//m.ke.qq.com/m-core/myContactInfo.html?_bid=167&_wv=2147483651&aid=".concat(p,"&cid=").concat(h,"&mode=account"),g=this.getReturnUrl(t),(0,u.setStorage)("ACTIVEACCOUNTURL",g),u.Jumper.jump(v),s.imlog.info("【支付模块】","【支付checkers手机号绑定校验失败】"),i.abrupt("return",{msg:"尚未绑定手机号",noError:!0,pass:!1});case 26:case"end":return i.stop()}}),o,this)})))}},{key:"filter",value:function(){return(0,u.isMobile)()}},{key:"getReturnUrl",value:function(e){var t=e.skipPhoneUrl;return t||(t=(0,u.isIframe)()?parent.window.location.href:location.href),t}}]),e}();t.PhoneChecker=f},ZSv8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatch=function(e){var t=e,n=e,s=t.type,l=n.discount_sign;if(s){var d=t[s];switch(s){case r.InstitutionDiscountType.Bargain:return new i.InstitutionBargainImp(d);case r.InstitutionDiscountType.Group:return new a.InstitutionGroupImp(d);case r.InstitutionDiscountType.Partner:return new u.InstitutionPartnerImp(d);case r.InstitutionDiscountType.Seckill:return new c.InstitutionSeckillImp(d)}}if(l)switch(l){case r.InstitutionDiscountTypeInPricing.Bargain:return new i.InstitutionBargainImp(n);case r.InstitutionDiscountTypeInPricing.Coupon:return new o.InstitutionCouponImp(n);case r.InstitutionDiscountTypeInPricing.Group:return new a.InstitutionGroupImp(n);case r.InstitutionDiscountTypeInPricing.Partner:return new u.InstitutionPartnerImp(n);case r.InstitutionDiscountTypeInPricing.Seckill:return new c.InstitutionSeckillImp(n)}return e};var r=n("sPX+"),i=n("ROju"),o=n("onpD"),a=n("fFtK"),u=n("7xq2"),c=n("u+Si")},ZgCD:function(e,t,n){var r=n("xeH2"),i=n("kprn"),o=n("1RNr"),a=n("lSPl"),u=n("I5uA"),c=n("id1U").checkPhone,s=new(0,n("ow7X").PhoneCheck);o.extend({applySmsCode:o.httpMethod({url:"/cgi-bin/tool/apply_sms_code"}),checkSmsCode:o.httpMethod({url:"/cgi-bin/tool/check_sms_code"}),getUserContact:o.httpMethod({url:"/cgi-bin/user/get_user_info"}),setUserContact:o.httpMethod({url:"/cgi-bin/user/set_user_info",type:"POST"}),getLoginPageList:o.httpMethod({url:"//sas.qq.com/cgi-bin/ke_operation_telCollectPage",dataType:"jsonp"})});var l=n("qq5+"),d={title:"绑定手机",prefixText:"您的手机号有助于我们后续通过微信等渠道提供教学服务，未经授权不会公开，请放心",suffixText:"每个手机号只能与一个QQ和微信帐号绑定",defaultCode:"+86",activateBtn:"保存",skipBtn:"取消",duration:60,onVerify:function(){},onActivate:function(){},onSkip:function(){},onClose:function(){}},f={106502:"您的操作频率过快，请稍后重试！",120011:"此手机号已被其他账号绑定",106501:"验证码错误",902027:"当前网络波动操作未成功，请重试。"};function p(e){this.config=r.extend({},d,e),this._init()}function h(e){return new p(r.extend({},d,{onVerify:function(e,t,n){o.applySmsCode({param:{phone:e,raw_phone:e,national_code:n.code.replace("+",""),from:1},succ:function(e){t()},err:function(e){if(f[e.retcode])return n.showMsg(f[e.retcode],n.$phone),!0}})},onActivate:function(e,t,n){o.checkSmsCode({param:{phone:e,raw_phone:e,national_code:n.code.replace("+",""),code:t},succ:function(t){return t.result&&o.setUserContact({param:{mobile:e,national_code:n.code.replace("+",""),token:t.result.token},succ:function(){n.destroy(),r.modal.success("绑定成功").yes((function(){n.config.onSuccess()})).no((function(){n.config.onSuccess()}))},err:function(e){var t=e.msg||f[e.retcode]||"绑定失败";return n.showMsg(t,n.$code),!0}}),!0},err:function(e){var t=e.msg||f[e.retcode]||"验证码失败";return n.showMsg(t,n.$code),!0}})},onSuccess:function(){},onSkip:function(){},onClose:function(){}},e))}function v(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()<10?"0"+t.getDate():t.getDate())}function g(e){var t=r.cookie.uin();"1"===i.get(t+"mobileBindInfo_Binded")?e(!0):o.getUserContact({succ:function(n){n.result&&n.result.mobile?(i.set(t+"mobileBindInfo_Binded","1"),e(!0)):e(!1)},err:function(){e(void 0)},close:function(){e(void 0)}})}r.extend(p.prototype,{_init:function(){var e=this;this.phoneCache={},s.getPhoneDesc().then((function(e){var t=e.result,n=[],r={};return(void 0===t?[]:t).forEach((function(e){e.data.forEach((function(e){r[e.iso_code]||(r[e.iso_code]=!0,n.push({value:"+".concat(e.dialing_code),display:"+".concat(e.dialing_code),search:e.name,key:e.iso_code}))}))})),0===n.length&&n.push(m),n})).catch((function(e){return[m]})).then((function(t){e.config.options='<ul class="js-options dropdown-options">'.concat(t.map((function(e){return'<li><span class="left">'.concat(e.search,'</span><span class="right">').concat(e.value,"</span></li>")})).join(""),"</ul>"),e.code=t[0].value,e._render(),e._initForm(),e._initEvent()}))},_render:function(){var e=l(this.config);this.$bg=r('<div tabindex="-1" class="phone-collector-bg mask"></div>').appendTo(document.body),this.$el=r(e).appendTo(document.body)},_initForm:function(){var e=this;this.$phone=this.$el.find(".js-phone-field"),this.$code=this.$el.find(".js-code-field"),this.$verifyBtn=this.$el.find(".js-verify-btn"),this.$activateBtn=this.$el.find(".js-activate-btn"),this.$dropdown=this.$el.find(".dropdown"),this.$dropdownArrow=this.$el.find(".dropdown-arrow"),this.$options=this.$dropdown.find(".js-options"),this.$options.on("click",(function(t){var n=t.target;if("UL"!==n.tagName){for(;n&&"LI"!==n.tagName;)n=n.parentNode;e.code=n.children[1].innerHTML,e.$dropdown.find(".dropdown-code").html(e.code)}}));var t=this,n=function(e){/\D/.test(e.which)&&e.preventDefault(),t._validate(r(this).attr("name"))};this.$phone.on("blur change",n),this.$code.on("keyup change",n),this.hasSend=!1,this.counting=!1,this.errMsg=""},_initEvent:function(){var e=this;e.$el.on("click",".js-close-btn",(function(){e.destroy(),e.config.onClose()})).on("click",".js-skip-btn",(function(){e.destroy(),e.config.onSkip()})).on("click",".js-verify-btn",(function(){if(!r(this).hasClass("disabled")&&e._validate("phone")){var t=e.$phone.val();e.config.onVerify(t,(function(){e.hasSend&&e.$code.val(""),e.phoneCache[t]=!0,e.hasSend=!0,e.counting=e.config.duration,e._validate("code"),e._countDown()}),e)}})).on("click",".js-activate-btn",(function(){r(this).hasClass("disabled")||(e.$activateBtn.addClass("disabled"),e.config.onActivate(e.$phone.val(),e.$code.val(),e))})).on("click",".js-dropdown",(function(){r(this).hasClass("dropdown-selected")?r(this).removeClass("dropdown-selected"):r(this).addClass("dropdown-selected")})).on("mouseover",".js-dropdown",(function(){r(this).addClass("dropdown-selected")})).on("mouseout",".js-dropdown",(function(){r(this).removeClass("dropdown-selected")}))},_validate:function(e){var t=this.$phone.val(),n={phone:c(t,this.code),code:/^\d{6}$/.test(this.$code.val())};switch(this.$el.find(".js-validator-msg").html(""),this.$el.find(".f-input--error").removeClass("f-input--error"),this.errMsg="",e){case"phone":this.hasSend=!!this.phoneCache[t],n.phone?this.$verifyBtn.removeClass("disabled"):(this.showMsg("手机号无效",this.$phone),this.$verifyBtn.addClass("disabled"));case"code":this.$code.parent().removeClass("f-field--error")}return n.phone&&n.code&&this.hasSend?this.$activateBtn.removeClass("disabled"):this.$activateBtn.addClass("disabled"),n[e]},_countDown:function(){var e=this;e._refreshVerifyBtn(),e.counting&&(e.timer=setTimeout((function(){e.counting--,e._countDown()}),1e3))},_refreshVerifyBtn:function(){var e=this.hasSend?"重新发送验证码":"获取验证码";this.counting?this.$verifyBtn.text(this.counting+"s后重发").addClass("disabled"):this.$verifyBtn.text(e).removeClass("disabled")},showMsg:function(e,t){this.errMsg=e;var n=t.parent();n.find(".js-validator-msg").html('<i class="icon-font i-alert"></i>'+e),n.addClass("f-input--error")},destroy:function(){this.$el.remove(),this.$bg.remove()}}),e.exports={jumpBind:function(){i.set("mobileBindInfo_jump","1")},checkBinded:g,dailog:function(e){return h(e)},checkLogin:function(){u.isLogin()&&i.get("mobileBindInfo_lastLoginTime")&&(i.remove("mobileBindInfo_lastLoginTime"),"1"!==i.get("mobileBindInfo_jump")?v(i.get("mobileBindInfo_lastDailogTime")-0)!==v(+new Date)&&g((function(e){e||o.getLoginPageList({succ:function(e){var t=[].concat(e.result.h5).concat(e.result.pc),n=!1;t.forEach((function(e){/^\/[^\/].*\/$/.test(e.url)?new RegExp(e.url.slice(1,-1),"i").test(location.href)&&(n=!0):location.host+location.pathname===e.url.replace(/^(https?\:)?\/\//,"")&&(n=!0)})),n&&(i.set("mobileBindInfo_lastDailogTime",+new Date),a.tdw({action:"exposure",page:"login_telcollect"}),h({skipBtn:"跳过",onSuccess:function(){a.tdw({action:"click",page:"login_telcollect",module:"save"},!0)},onSkip:function(){a.tdw({action:"click",page:"login_telcollect",module:"skip"},!0)},onClose:function(){a.tdw({action:"click",page:"login_telcollect",module:"close"},!0)}}))}})})):i.remove("mobileBindInfo_jump"))}};var m={value:"+86",display:"+86",search:"中国",key:"CN"}},ZlTi:function(e,t){var n={appid:10028,platform:"pc",domain:"ke.qq.com",rate:1,apn:""},r="undefined"==typeof document,i="//report.huatuo.qq.com/code.cgi",o=[],a=null;function u(e){var t=(e=e||o).length;t>10&&(t=10);var r=e.splice(0,t);if(r.length){var a="".concat(i,"&uin=").concat(r[0].uin,"&apn=").concat(r[0].apn||n.apn);a+="&key=cgi,type,code,time";for(var u=["cgi","type","code","time"],c=0;c<u.length;c++)for(var s=0;s<r.length;s++){var l=r[s];a+="&".concat(s+1,"_").concat(c+1,"=").concat(l[u[c]])}a+="&ignoreRandom=".concat(Math.random()),(new Image).src=a}}function c(e){var t;n.platform=function(){var e=window.navigator,t=e?e.userAgent.toLowerCase():"";return/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(t)?"ios":t.indexOf("android")>-1||t.indexOf("adr")>-1?"android":"pc"}(),Object.assign(n,e),t=["domain","appid","platform"].map((function(e){return"".concat(e,"=").concat(n[e])})),i+="?".concat(t.join("&"))}c(),e.exports={config:c,report:function(e,t,i,c,s){if(!r){a&&clearTimeout(a);var l=Object.assign({},n,s);l.cgi=encodeURIComponent(e),l.code=t,l.time=i,l.uin=c,0===t?l.type=1:/^[4|5][0-9]{2}$/.test(t)?l.type=2:l.type=3,function(e){return(0===e.delay||e.apn!==n.apn)&&(u([e]),!0)}(l)||(o.push(l),a=setTimeout(u,2e3))}}}},ZqXq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleLikeHomeworkCommit=function(e){return(0,r.fetch)("/cgi-proxy/homework/like_homework_answer",{data:e})};var r=n("F5LU")},a6Nf:function(e,t,n){"use strict";var r=n("LoAb"),i=n("A3sk");Object.defineProperty(t,"__esModule",{value:!0});var o={CourseReceive:!0};t.CourseReceive=void 0;var a=i(n("HO9c")),u=n("XOiT"),c=r(n("ofZE")),s=n("J9Yu");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=a.default.createLogger("FreeLearning");(0,u.isServer)()||l.config({autoUpload:a.LEVELS.info}),c.default.setLogger(l.info);var d=c.default;t.CourseReceive=d},aGje:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PaylayerPrice=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("siOb"),u=n("uIhe"),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,i.default)(this,e),this.prefetchData=t,this.isIAP=n}return(0,o.default)(e,[{key:"getPriceInfo",value:function(e){var t=this.getCoursePrice(),n=this.getBalance(),r=this.getRedBalance(),i=this.getDiscountPrice(t,e),o=this.getPriceFromDiscount(i,t),a=this.getDeduction(n,o),c=a.deduction,s=a.recharge,l={balance:n,coursePrice:t,deduction:c,payPrice:this.getPayPrice(o),price:o,recharge:s,redBalance:r};return u.imlog.info("【支付模块】","【组装paylaer价格信息】",l),l}},{key:"transferCentsToDollar",value:function(e){return e/100}},{key:"priceToFixed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toFixed(t)}},{key:"getCoursePrice",value:function(){return this.prefetchData&&this.prefetchData.paylayerData&&this.prefetchData.paylayerData.ext&&this.prefetchData.paylayerData.ext.price}},{key:"getPriceFromDiscount",value:function(e,t){var n=void 0!==e?e:t;return this.protectPrice(n)}},{key:"protectPrice",value:function(e){return e<2?2:e}},{key:"getDeduction",value:function(e,t){var n=e>=t?t:e;return{deduction:n,recharge:t-n}}},{key:"getAllBalance",value:function(){return this.prefetchData&&this.prefetchData.paylayerData&&this.prefetchData.paylayerData.balance}},{key:"getPayPrice",value:function(e){var t=e-this.getRedBalance();return t>0?t:0}},{key:"getRedBalance",value:function(){return(this.getAllBalance()||{}).red_envelope_balance}},{key:"getBalance",value:function(){var e=this.getAllBalance()||{},t=e.kedian_balance,n=e.red_envelope_balance;return this.isIAP?t+n:n}},{key:"getDiscountPrice",value:function(e,t){if(!t)return e;var n=t.price;return t.type===a.DiscountType.Coupon&&n<=e?e-n:n>e?e:n}}]),e}();t.PaylayerPrice=c},aGpO:function(e,t,n){"use strict";n("jrWk"),n("lj85"),n("lDRF")},aOo8:function(module,exports,__webpack_require__){var _typeof=__webpack_require__("cDf5");module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push("",function(it,opt){with(it=it||{},it){var _$out_=[];_$out_.push('<ul class="course-card-list" auto-test="',opt.auto_test?opt.auto_test:"",'"> '),opt||(opt={}),opt.numberClass=opt.numberClass||"";for(var FONT_WIDTH={DEFAULT:12,NUMBER:8,CROSS_BAR:5,SLASH_BAR:6},CARD_WIDTH={CARD:220,AGENCY_NAME_MARGIN_LEFT:17,CERTIFICATE_FLAG:28},getHighLightArray=function e(t,n,r){if(!t.length||!n)return[n];for(var i=t.map((function(e){return e.toLowerCase()})),o=n.toLowerCase(),a=[],u=0;u<i.length;u++){var c=o.indexOf(i[u]);c=-1===c?o.length+1:c,a.push(c)}var s=Math.min.apply(Math,a);if(s>o.length)return r.push(n),r;var l=i[a.indexOf(s)].length;return r.push(n.substr(0,s)),r.push(n.substr(s,l)),e(t,n.substr(s+l),r),r},modifyFirstString=function(e,t){if(1!==e.length){var n=e.join("").length,r=e[0].length;r<t||(r>=t-3&&r<=n-t?e[0]="...":r>n-t&&(e[0]="..."+e[0].substr(n-t-r)))}},formatNumberString=function(e){return"function"==typeof opt.fakeString&&(e=opt.fakeString(e)),e},priceFormatter=function(e,t){var n="";return n=e<1e6&&!t||e<100?$.render.formatPrice(e):"¥"+(e/100).toFixed(0),formatNumberString(n)},handleCourseCard=function(e){for(var t in e.card)e[t]=e.card[t];"object"===_typeof(e.agency)&&(e.certificate_flag=e.agency.certificate_flag),e.endtime=e.endtime||e.end_class_time},formatExtDisplayInfo=function(e){var t=e.ext_display_info||[];t.length&&t.forEach((function(t){"yanxuan"===t.type&&(e.premium_flag=t.flag,e.premium_auth=t.value)}))},i=0,len=course_list.length;i<len;i++){var item=course_list[i],now=new Date,task_live,task_video,task_doc,task_exam,task_answer,task_replay,courseURL,apply_num_str,status_str="",status_width=0,cardPos=null,isLiving=!1;handleCourseCard(item),formatExtDisplayInfo(item);var tagList=item.category_label||[],highlightDetail=item.highlight_detail||{},hasTag=tagList.length||item.premium_auth,highlightTask=highlightDetail.task_info||{},highlightTeacher=highlightDetail.teacher_info,highlightAgency=highlightDetail.agency_info,highlightLabel=highlightDetail.label_info,segmentWords=item.segment_words||[],isOneLineCourseName=hasTag||highlightTask.task_name,marketInfo=item.market_info&&item.market_info[0];marketInfo&&(marketInfo.origin_price=item.price),void 0===item.cid&&(item.cid=item.id),item.cid?item.cid=item.cid:item.id?item.cid=item.id:item.cid=item.cid;var isPkg=0,packageId,show_apply_num,termId;if((item.cid>1e7||1===item.info_type)&&(isPkg=1,packageId=item.cid),packageId>1e7&&(packageId-=1e7),item.trans_flag>0&&(isLiving=!0),item.task_flag=item.task_flag||0,task_live=1&item.task_flag,task_video=2&item.task_flag,task_doc=4&item.task_flag,task_exam=8&item.task_flag,task_answer=16&item.task_flag,task_replay=32&item.task_flag,item.total_task_num=item.total_task_num||0,item.endtime&&item.endtime<now/1e3?status_str="已结束":task_video||task_exam||task_answer||task_replay&&0===task_live||task_doc?status_str=item.term_num>1?"随到随学":"共"+item.total_task_num+"节":task_live>0?item.term_num>1?status_str="开设"+item.term_num+"个班级":0===parseInt(item.curr_task_no,10)&&now/1e3<item.bg_class_time?status_str=$.render.time.formatDate("YYYY-M-D",1e3*item.bg_class_time)+"开讲":(isLiving&&(item.curr_task_no=Math.min(item.curr_task_no+1,item.total_task_num)),status_str="进度："+item.curr_task_no+"/"+item.total_task_num+"节"):status_str="",status_width=status_str.split("").map((function(e){return"-"===e?FONT_WIDTH.CROSS_BAR:"/"===e?FONT_WIDTH.SLASH_BAR:/\d/.test(e)?FONT_WIDTH.NUMBER:FONT_WIDTH.DEFAULT})).reduce((function(e,t){return e+t}),0),show_apply_num=item.price>0?item.apply_num:item.recent_sign_num,apply_num_str=show_apply_num?show_apply_num<1e4?show_apply_num:show_apply_num>=1e4&&show_apply_num<1e8?Math.floor(show_apply_num/1e4)+"万":Math.floor(show_apply_num/1e8)+"亿":"0",void 0===item.room_url&&(item.room_url=item.room_url_4client),courseURL="https://ke.qq.com/course/"+item.cid,isPkg&&(courseURL="https://ke.qq.com/course/package/"+packageId),cardPos=opt.cardPos?opt.cardPos+"."+(i+1):"1."+(i+1),_$out_.push(' <li class="course-card-item--v3 js-course-card-item ',isPkg?"course-card-item--pkg":"",'" '),opt.fIndex&&_$out_.push(' jump-start="topfloor_class_click" jump-through="',opt.fIndex,"&",opt.sIndex,"&",i+1,'" '),_$out_.push(' data-report-position="',i+1,'"> <a href="',courseURL,'" target="_blank" class="item-img-link ',isPkg?"item-img-link--pkg":"",'" data-id="',item.cid,'" data-ispkg="',isPkg?1:0,'" data-index="',i+1,'" data-taskid="',highlightTask.task_id_str,'" data-aid="',highlightAgency&&highlightAgency.agency_id,'" data-teacherid="',highlightTeacher&&highlightTeacher.teacher_id_str,'" cors-name="course"> '),opt.lazyload?_$out_.push(' <img lazy-src="',item.cover_url,'356" alt="',item.name,'" title="',item.name,'" class="item-img" width="220" height="124" /> '):_$out_.push(' <img src="',item.cover_url,'356" alt="',item.name,'" title="',item.name,'" class="item-img" width="220" height="124" onerror="window.__eduCourseCardRetry__ && __eduCourseCardRetry__.call(this)" /> '),_$out_.push(" "),!opt.hideStatus){if(_$out_.push(' <div class="item-status"> '),isLiving){var bitFlag=parseInt(item.course_bit_flag)||0;bitFlag=bitFlag.toString(2).split("");var isTencent="1"!==bitFlag[0];_$out_.push(' <p class="item-status-living"> <span class="item-status-icon item-status-icon--live"></span>直播中 </p> ')}else item.has_listen_class>0&&item.price>0&&_$out_.push(' <span class="item-status-audition"><span class="item-status-icon item-status-icon--audition"></span>可试听</span> ');_$out_.push(" </div> ")}_$out_.push(" </a> ");var platform_activity_label=item.platform_activity_label;if(platform_activity_label&&platform_activity_label.icon_url){var platform_activity_url=platform_activity_label.activity_url||courseURL;_$out_.push(' <a href="',platform_activity_url,'" title="',platform_activity_label.name,'" class="item-activity" target="_blank"> <img src="',platform_activity_label.icon_url,'" /> </a> ')}_$out_.push(' <h4 class="item-tt ',isOneLineCourseName?"item-tt--oneline":"",'"> '),item.premium_flag&&_$out_.push(' <i class="item-premium-tag" title="严选"> <span>严选</span> </i> '),_$out_.push(" ");var result=getHighLightArray(segmentWords,item.name,[]);modifyFirstString(result,16);var domArr=result.map((function(e,t){return t%2!=0?"<span>"+e+"</span>":e})),dom=domArr.join(""),hit=1===result.length?0:1;if(_$out_.push(' <a href="',courseURL,'" target="_blank" class="item-tt-link js-course-name" data-hit="',hit,'" cors-name="course" title="',item.name,'">',dom,"</a> </h4> "),highlightTask.task_name){var result=getHighLightArray(segmentWords,highlightTask.task_name,[]);modifyFirstString(result,16);var domArr=result.map((function(e,t){return t%2!=0?"<span>"+e+"</span>":e})),dom=domArr.join(""),taskUrl=courseURL+"?taid="+highlightTask.task_id_str+"#term_id="+highlightTask.termid;_$out_.push(' <a href="',taskUrl,'" target="_blank" class="item-task-name js-task-name" data-taid="',highlightTask.task_id_str,'"" title="',highlightTask.task_name,'">',dom,"</a> ")}else if(hasTag){_$out_.push(' <ul class="item-taglist clearfix"> '),item.premium_auth&&_$out_.push(' <li class="item-taglist-tag"> <p class="item-taglist-tag-link" title="',item.premium_auth,'">',item.premium_auth,"</p> </li> "),_$out_.push(" ");var labels=[],hitLabels=[];highlightLabel?(hitLabels=highlightLabel.hit_category_label||[],labels=highlightLabel.category_label||[]):labels=tagList,_$out_.push(" "),labels.forEach((function(e){if(e){var t=e.name||e,n=0;-1!==hitLabels.indexOf(t)&&(n=1),_$out_.push(' <li class="item-taglist-tag"> <p class="item-taglist-tag-link js-tag-name" title="',t,'" data-hit="',n,'">',t,"</p> </li> ")}})),_$out_.push(" </ul> ")}_$out_.push(" ");var itemNamelist="";if(item.certificate_industry2list&&item.certificate_industry2list.length>0)for(var index in item.certificate_industry2list)itemNamelist=itemNamelist+item.certificate_industry2list[index].industry2nd_name+" ";if(_$out_.push(" "),!opt.simplify){if(_$out_.push(' <div class="item-line item-line--middle"> '),isPkg?_$out_.push(' <span class="line-cell item-pkg-num">',item.term_num,"门课</span> "):_$out_.push(' <span class="line-cell item-task">',status_str,"</span> "),_$out_.push(" "),highlightAgency||!highlightTeacher){var hit=highlightAgency?1:0;_$out_.push(' <a href="https://',item.agency_domain,'" target="_blank" class="line-cell item-source-link js-agency-name ',1==item.certificate_flag?"item-source-link--certificate":"",'" style="max-width: ',CARD_WIDTH.CARD-CARD_WIDTH.AGENCY_NAME_MARGIN_LEFT-status_width-(1==item.certificate_flag?CARD_WIDTH.CERTIFICATE_FLAG:0),'px;" CARD_WIDTH title="',item.agency_name,'" rel="nofollow" data-hit="',hit,'" data-aid="',item.aid,'">',item.agency_name,"</a> ")}else if(highlightTeacher){var teacherJumpUrl;highlightTeacher.teacher_id_str&&"0"!==highlightTeacher.teacher_id_str||(teacherJumpUrl="javascript:void(0)"),teacherJumpUrl="//ke.qq.com/teacher/"+highlightTeacher.teacher_id_str,_$out_.push(' <a href="',teacherJumpUrl,'" target="_blank" class="line-cell item-source-link js-teacher-name" style="max-width: ',CARD_WIDTH.CARD-CARD_WIDTH.AGENCY_NAME_MARGIN_LEFT-status_width,'px" title="',highlightTeacher.teacher_name,'" rel="nofollow">',highlightTeacher.teacher_name,"</a> ")}_$out_.push(" "),1==item.certificate_flag&&_$out_.push(' <a target="_blank" href="https://ke.qq.com/faq.html?id=10" class="line-cell item-source-tag" data-ind2name="',itemNamelist.replace(/undefined\s/g,""),'" title="',itemNamelist.replace(/undefined\s/g,""),'类目认证机构"></a> '),_$out_.push(" </span> </div> ")}_$out_.push(' <div class="item-line item-line--bottom"> '),marketInfo?_$out_.push(' <span class="line-cell item-price ',opt.numberClass,'">',priceFormatter(marketInfo.price),'</span> <span class="line-cell item-discount-tag">',marketInfo.name,'</span> <span class="line-cell item-price item-price--origin ',opt.numberClass,'">',priceFormatter(marketInfo.origin_price,!0),"</span> "):_$out_.push(' <span class="line-cell item-price ',opt.numberClass,'">',priceFormatter(item.price),"</span> "),_$out_.push(' <span class="line-cell item-user ',opt.numberClass,'"> ',formatNumberString(apply_num_str),"人"),item.price>0?_$out_.push("购买"):_$out_.push("最近报名"),_$out_.push(" </span> </div> </li>")}return _$out_.push("</ul>"),_$out_.join("")}}(it,opt),""),_$out_.join("")}}},aVfi:function(e,t){var n,r={iframeId:"cross-domain-iframe",iframeUrl:void 0,initCallback:function(){}},i=-1,o={},a=!1,u=!0;function c(e){var t=e.origin;if(/(\.|^)qq\.com$/.test(t)){var n;try{n=JSON.parse(e.data)}catch(e){}n&&"cross-domain-local-message"===n.namespace&&("iframe-ready"===n.id?(u=!0,r.initCallback()):function(e){o[e.id]&&(o[e.id](e),delete o[e.id])}(n))}}function s(e,t,r,a){i++,o[i]=a;var u={namespace:"cross-domain-local-message",id:i,action:e,key:t,value:r};n.contentWindow.postMessage(JSON.stringify(u),"*")}function l(e){r=function(e,t){var n,r=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}(e,r);var t=document.createElement("div");window.addEventListener?window.addEventListener("message",c,!1):window.attachEvent("onmessage",c),t.innerHTML='<iframe id="'+r.iframeId+'" src='+r.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(t),n=document.getElementById(r.iframeId)}function d(){return!!a&&!!u}e.exports={init:function(e){if(!e.iframeUrl)throw"必须指定iframe的url";a||(a=!0,"complete"===document.readyState?l(e):window.onload=function(){l(e)})},set:function(e,t,n){d()&&s("set",e,t,n)},get:function(e,t){d()&&s("get",e,null,t)},remove:function(e,t){d()&&s("remove",e,null,t)},clear:function(e){d()&&s("clear",null,null,e)},filter:function(e,t){d()&&s("filter",e.toString().replace(/(^\/)|(\/$)/g,""),null,t)},wasInit:function(){return a}}},afxL:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,n){var r,i;return function(){for(var o=this,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];if(window.clearTimeout(r),n){var s=!r;r=window.setTimeout((function(){r=void 0}),t),s&&(i=e.apply(this,u))}else i=new Promise((function(n){r=window.setTimeout((function(){n(e.apply(o,u))}),t)}));return i}},t.throttle=function(e,t,n){var r,i;return t||(t=250),function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];var c=n||this,s=+new Date;r&&s<r+t?(clearTimeout(i),i=setTimeout((function(){r=s,e.apply(c,a)}),t)):(r=s,e.apply(c,a))}},t.random=o,t.randomItem=function(e){return e[o(0,e.length-1)]},t.randomId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=11;function n(){return Math.random().toString(36).substr(2)}if(e<=t)return n().substr(0,e);for(var r=Math.round(e/t),i="";r>0;)i+=n(),r--;return i.substr(0,e)},t.safeStringify=function(e){var t=new Set;return JSON.stringify(e,(function(e,n){if("object"===(0,i.default)(n)&&null!==n){if(t.has(n))return;t.add(n)}return n}))},t.getFileExt=function(e){if(!e)return"";var t=e.match(/\.([\w]+)$/);if(t&&t.length>1)return t[1];return""},t.getBitMapValue=function(e,t){var n,r=e,i=[];if(!t||!t.length)return i;for(var o=t.length-1;o>-1;--o)n=Math.pow(2,o),r>=n&&(i.unshift(t[o]),r-=n);return i},t.bitsAnd=a,t.checkBitFlag=function(e,t){return a(e,1<<t)};var i=r(n("FO6Z"));function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e,i=t;null==i&&(i=r,r=0);var o=Math.random();return n||r%1||i%1?Math.min(r+o*(i-r+parseFloat("1e-"+((o+"").length-1))),i):r+Math.floor(o*(i-r+1))}function a(e,t){return!!(e&t)}},aiAO:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=n("M9qB"),l=n("bhbm"),d=n("9gZJ"),f=n("XOiT"),p=n("qGYQ"),h=r(n("tgnt")),v=n("7OHB"),g=r(n("HO9c"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var y="tencentedu://openpage",_=!1;if("undefined"!=typeof document){var b=(0,f.isIOS)()?41:84;(0,p.getAppVersion)().then((function(e){_=e>b}))}function w(){return(0,l.getLocation)().protocol}var k=function(e){(0,a.default)(n,e);var t=m(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"jump",value:function(e,t){var n=e,r=(0,d.getCookie)("sessionPath"),i=Object.assign({sessionPath:r},t);if(/^\/\//.test(n)&&(n=w()+n),/^tencent/.test(n))n=(0,v.buildURL)(n,i);else{var o=(0,f.isIOS)()?"tencentedu://openpage/webview?url=":"tencentedu://openpage/openurl?url=";i.openPay&&(o=(0,f.isIOS)()?"tencentedu://openpage/paycourse?url=":"tencentedu://openpage/pay?url="),n=i.noBuild?n:(0,v.buildURL)(n,i),n=o+encodeURIComponent(n)}g.default.info("APP跳转URL：",n),(0,v.openTencentUrl)(n,i)}},{key:"jumpCustomUrl",value:function(e,t){var n=e;/^\/\//.test(n)&&(n=w()+n),n=(0,v.buildURL)(n,t),this.jump("".concat(y,"/webview?url=").concat(encodeURIComponent(n)),t)}},{key:"jumpHome",value:function(e){this.jump("".concat(y,"/homepage?tabIndex=0"),e)}},{key:"jumpPlan",value:function(e){this.jump("".concat(y,"/homepage?tabIndex=2"),e)}},{key:"jumpCenter",value:function(e){this.jump("".concat(y,"/homepage?tabIndex=3"),e)}},{key:"jumpCourseList",value:function(e){var t={mt:"mt",st:"st",tt:"tt",sort:"sort",word:"key",price_min:"minpricecent",price_max:"maxpricecent",coupon_filter:"couponfilter",coupon_desc:"couponfilterdesc"},n=Object.keys(t).map((function(n){var r=t[n];return e&&e[n]?"&".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e[n])):""})).join("").replace(/^&/,"?");this.jump("".concat(y,"/categorydetail").concat(n),e)}},{key:"jumpAgencyHome",value:function(e,t){var n=e.aid,r=encodeURIComponent("".concat(w(),"//m.ke.qq.com/agencyHome.html?_bid=167&aid=").concat(n));this.jump("".concat(y,"/teacheragencypage?url=").concat(r),t)}},{key:"jumpTeacherHome",value:function(e,t){var n=e.tid,r=encodeURIComponent("".concat(w(),"//m.ke.qq.com/m-core/teacher.html?_bid=167&tid=").concat(n));this.jump("".concat(y,"/teacheragencypage?url=").concat(r),t)}},{key:"jumpCourseDetail",value:function(e,t){var n=e.cid,r=e.tid;r=r?"&termid=".concat(r):"";var i=(0,f.isIOS)()?"tencentedu://openpage/coursedetail?courseid=":"tencentedu://openpage/courseDetail?CourseId=",o="".concat(i).concat(n).concat(r);this.jump(o,t)}},{key:"jumpCoursePkg",value:function(e,t){var n=e.pid,r="".concat("tencentedu://openpage/coursepackage?coursepkgid=").concat(n);this.jump(r,t)}},{key:"jumpTaskList",value:function(e,t){var n,r=e.cid,i=e.isCoding,o=e.tid,a=(0,f.isIOS)()?"tencentedu://openpage/coursetask?courseid=":"tencentedu://openpage/coursetask?courseId=";if(i&&_){o=o?"&term_id=".concat(o):"";var u=encodeURIComponent("".concat(y,"/codingTaskList.html?_bid=167&course_id=").concat(r).concat(o));n="tencentedu://openpage/codingcoursetask?actionbarrightview=more&url=".concat(u)}else o=o?"&".concat((0,f.isIOS)()?"termid":"termId","=").concat(o):"",n="".concat(a).concat(r).concat(o,"&ftinyid=").concat((0,s.getUin)());this.jump(n,t)}},{key:"openQQConsult",value:function(e){window.mqq&&"function"==typeof window.mqq.invoke&&window.mqq.invoke("edu","openQQConsult",e)}},{key:"jumpNextTaskDetail",value:function(e){var t=e.cid,n=e.term_id,r=e.ch_id,i=e.vch_id,o=e.taid,a=e.taskType,u="".concat(y,"/codingcoursetask?courseid=").concat(t,"&termid=").concat(n,"&rootPartId=").concat(r,"&partId=").concat(i,"&taskid=").concat(o,"&taskType=").concat(a);(0,f.isIOS)()&&(u="".concat(y,"/nextcourseplayer?courseId=").concat(t,"&termId=").concat(n,"&rootPartId=").concat(r,"&partId=").concat(i,"&taskId=").concat(o,"&taskType=").concat(a)),this.jump(u,e)}},{key:"jumpRecharge",value:function(){this.jump("tencentedu://openpage/paykedian")}},{key:"jumpHomeworkDetail",value:function(e,t){var n=this,r=e.cid,i=e.tid,o=e.aid,a=e.hw_id,u="".concat(w(),"//m.ke.qq.com/m-core/homeworkDetail.html?_bid=167&cid=").concat(r,"&tid=").concat(i,"&aid=").concat(o,"&hw_id=").concat(a),c="".concat(y,"/homework?url=").concat(encodeURIComponent(u));this.jump(c,t),setTimeout((function(){"visible"===document.visibilityState&&n.jump(u,t)}),500)}}]),n}(h.default);t.default=k},b7Qh:function(e,t,n){var r=n("cDf5"),i=n("xeH2"),o={};o.modal=n("W4gw");var a=void 0===document.body.style.maxHeight;i.Dialog={show:function(e){i(".modal-bg").length||i(document.body).append('<div class="modal-bg hide"></div>'),i(".modal-bg").show(),e=e||{};var t=i(i.trim(o.modal({dialog:e,id:("dialog_"+ +new Date+Math.random()).replace(/\W/g,"")}))).insertAfter(".modal-bg");i(".tips").css("marginTop","-"+parseInt(i(".tips").css("height"),10)/2+"px"),a&&(i(".modal-bg").css("height",i(document).height()),i(window).scrollTop(0)),i("body").css({"overflow-y":""});var n=i(".tips .modal-accept");return e.notAutoFocus&&n.focus(),e.onAccept&&n.on("click",(function(t){t.preventDefault(),e.onAccept()||(i.Dialog.remove(),i.Dialog.reshow())})),e.onCancel&&i(".tips .modal-cancel").on("click",e.onCancel),e.onClose&&i(".tips .modal-close").on("click",e.onClose),t},remove:function(){i(".tips").remove(),i(".modal-bg").hide(),i(".js-modal-bg, .js-modal").remove()},alert:function(e,t){return this.remove(),1==arguments.length&&"object"==r(e)&&(e=(t=e).content),(t=t||{}).content=e,t.type=t.type||"warn",t.title=t.title||"提示",t.globalClass=t.globalClass?t.globalClass+" alert-tips":"alert-tips",t.onAccept||(t.onAccept=function(){return!1}),this.show(t)},confirm:function(e,t){return t.keep?this.$tips=i(".tips").removeClass("tips").hide():this.remove(),(t=t||{}).content=e,t.confirm=void 0===t.confirm||t.confirm,t.title=t.title||"提示",t.globalClass=t.globalClass?t.globalClass+" alert-tips":"alert-tips",this.show(t)},showConfirm:function(e){return this.remove(),(e=e||{}).confirm=!0,e.title=e.title||"提示",e.content=e.content||"呵呵...",e.globalClass=e.globalClass?e.globalClass+" alert-tips":"alert-tips",this.show(e)},showWarn:function(e,t){return(t=t||{}).title="警告",t.type="warn",t.content=e,t.onAccept||(t.onAccept=function(){return!1}),this.show(t)},showSuccess:function(e,t){return(t=t||{}).title="成功提示",t.type="succ",t.content=e,t.globalClass=t.globalClass?t.globalClass+" alert-tips":"alert-tips",t.onAccept||(t.onAccept=function(){return!1}),this.show(t)},showError:function(e,t){return(t=t||{}).title="错误提示",t.type="err",t.content=e,t.globalClass=t.globalClass?t.globalClass+" alert-tips":"alert-tips",t.onAccept||(t.onAccept=function(){return!1}),this.show(t)},showRetry:function(e){i(".retry-dialog").remove(),i(".tips").hide();var t=this.show({title:"错误提示",submit:"重试",isDisabled:!1,retry:!0,globalClass:"retry-dialog",extraClass:"btn-retry",content:e||"呵呵..."}),n=this;return i(".btn-retry",".tips").on("click",(function(e){e.preventDefault(),n.removeRetry()})),t},removeRetry:function(){if(i(".retry-dialog").remove(),i(".tips").length)return i(".tips").show();i(".modal-bg").hide()},reshow:function(){this.$tips&&(this.$tips.addClass("tips").show(),i(".modal-bg").length||i(document.body).append('<div class="modal-bg hide"></div>'),i(".modal-bg").show(),this.$tips=null)},updatePosition:function(){var e=i(".tips");e.css("marginTop","-"+parseInt(e.css("height"),10)/2+"px")}},i(document).delegate(".tips .modal-cancel, .tips .modal-close","click",(function(e){e.preventDefault(),i.Dialog.remove(),i.Dialog.reshow()})),e.exports=i},bIoE:function(e,t,n){var r,i,o,a,u,c,s,l,d,f=n("xeH2"),p=n("XKbg"),h=(n("m9bP"),n("lSPl")),v=(n("q+3g"),n("Tuqh")),g=n("L8LG"),m=n("xnjq"),y=n("SBRa"),_=window.META_DATA||{},b=(_.INTEREST_LIST,[3116]),w=function(e){var t=e.data("id");u.data("id")!==t&&(u.removeClass("active"),(u=e).addClass("active"),function(e){i[e]?C(i[e]):(k(!0),function(e,t){var n=-1!==b.indexOf(e),r={},o=function(o){!n||r.__isLoadOne?(r=f.extend({},r,o),i[e]=r,"function"==typeof t&&t(r)):(r=o).__isLoadOne=!0};if(p.getCateData({param:{cat:e,platform:4},succ:function(t){var n=t&&t.result&&t.result.category_data||{};n.cateId=e,o(n)},err:function(){t({cateId:0,height:x()})}}),!n)return;p.httpMethod({url:"//sas.qq.com/cgi-bin/ke_cateCustoms_"+e,dataType:"jsonp"})({succ:function(e){var t=e&&e.result||{};o({_ext:t})},err:f.noop})}(e,C))}(parseInt(t,10)))},k=function(e){e?(s.css({height:x()+"px"}).show(),a.hide()):(s.hide(),a.show())};function P(){r=window.GLOBAL_DATA,i=_.CATE_MAP,r.liveCourse||{}}function x(){var e=d.outerHeight()-(l.offset().top-d.scrollTop()+l.outerHeight());return Math.max(e,314)}function C(e){k(!1),a.html(g(f.extend({},e,{cardList:v}))),O()}function O(){P(),m.init()}function A(){o.on("click",".cate-tab-item",(function(){var e=f(this),t=e.data("id");w(e),function(e){y.set("index_interest_cate_id",e)}(t),h.config({industry2:t}),h.reportPageView()}))}function T(){var e,t;for(t in i)i.hasOwnProperty(t)&&(e=i[t]).liveCourse&&e.liveCourse.serverTime&&(e.liveCourse.serverTime+=1);setTimeout(T,1e3)}e.exports={init:function(){o=f(document),a=f("#cat-content"),c=f(".cate-tab-item"),s=f("#loading-container"),l=f("#cat-tab"),d=f(window),(u=c.filter(".active")).length||(u=c.eq(0)),P(),T(),A(),O(),BJ_REPORT.info({msg:"index-pv-new",ext:{msid:2690398}})}}},bJ0f:function(e,t,n){"use strict";var r=n("TqRt")(n("QoUC"));e.exports={init:function(){r.default.init()}}},bX3Y:function(e,t){e.exports=function(e,t){var n="http:"!==window.location.protocol;return"string"==typeof e&&e?/^https:/i.test(e)?e:n?t||e.replace(/^(http:)?(\/\/)?/i,"https://proxy.ke.qq.com/tx_tls_gate="):e:""}},bgUF:function(e,t,n){var r=n("bX3Y");e.exports=r},bhbm:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=o,t.addProtocol=function(e){if(/^\/\//.test(e))return o().protocol+e;return e},t.getUrlParameter=function(e){return u(e)||s(e)},t.getParameterFromShortUrl=function(e){var t,n;if(-1===["cid","course_id","tid","term_id"].indexOf(e))return"";var r=null!==(n=(null!==(t=o().pathname)&&void 0!==t?t:"").match(/webcourse\/(\d+)\/(\d+)/))&&void 0!==n?n:[];if(r[0])return-1!==["cid","course_id"].indexOf(e)?r[1]:r[2];return""},t.getQueryObj=a,t.getQuery=u,t.getHashObj=c,t.getHash=s,t.setHash=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if("string"==typeof e)n=e;else{var r=Object.assign(Object.assign({},c()),e);n=i.default.stringify(r)}t||(window.location.hash="#".concat(n));var o=t.indexOf("#"),a=-1!==o?"":"#";o=-1!==o?o+1:t.length;var u=t.substring(0,o)+a+n;return u},t.setSearch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var n="undefined"!=typeof document?window.location:window.request.REQUEST,r=Object.assign(Object.assign({},a()),e),o=i.default.stringify(r),u="?".concat(o);t||(window.history&&"function"==typeof window.history.replaceState?window.history.replaceState({},document.title,"".concat(n.pathname).concat(u).concat(n.hash)):n.search=u);var c=t.indexOf("?");-1===c&&(c=t.length);var s=t.substring(0,c)+u;return s},t.setUrlQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=t.isReplace,o="undefined"!=typeof document?window.location:window.request.REQUEST;if(void 0===n){var u=o.origin,s=o.pathname,l=o.hash,d="?".concat(i.default.stringify(r?e:Object.assign(Object.assign({},a()),e))),f="".concat(u).concat(s).concat(d).concat(l);return window.history&&"function"==typeof window.history.replaceState?window.history.replaceState({},document.title,f):o.search=d,f}var p=n.indexOf("?"),h=n.indexOf("#"),v=-1!==p?n.substring(0,p):-1!==h?n.substring(0,h):n,g="?".concat(i.default.stringify(r?e:Object.assign(Object.assign({},a(n)),e))),m=-1===h?"":"#".concat(i.default.stringify(c(n)));return"".concat(v).concat(g).concat(m)},t.isInLandscape=function(){if(window.matchMedia)return window.orientation>=90&&window.matchMedia("(orientation: landscape)").matches;var e=l(),t=e.width,n=e.height;return t>n},t.getDeviceRect=l,t.dealCoverUrl=function(e){if("/"===e[e.length-1])return"".concat(e,"356");return e.replace("?tp=webp","?")},t.httpsProtocol=function(e){if(/^https\:/.test(e))return e;if(/^http\:/.test(e)){return e.replace("http","https")}if(/^\/\//.test(e))return"https:".concat(e);return e},t.winname=void 0;var i=r(n("KsQx"));function o(){var e="undefined"!=typeof document?window.location:window.request.REQUEST||{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",port:"",protocol:"",search:""};return null===e.search&&(e.search=""),null===e.hash&&(e.hash=""),e}function a(e){var t;if(void 0===e)return i.default.parse(null!==(t=o().search)&&void 0!==t?t:"");var n=e.indexOf("?"),r=e.indexOf("#"),a=-1===n?"":-1===r?e.slice(n):e.slice(n,r);return i.default.parse(a)}function u(e){return a()[e]||""}function c(e){var t;if(void 0===e)return i.default.parse(null!==(t=o().hash)&&void 0!==t?t:"");var n=e.indexOf("#");return i.default.parse(-1===n?"":e.slice(n))}function s(e){return c()[e]||""}function l(){var e=window,t=e.innerWidth,n=e.innerHeight,r=document.documentElement||{},i=r.clientWidth,o=void 0===i?0:i,a=r.clientHeight,u=void 0===a?0:a;return{width:Math.min(t,o)||document.body.clientWidth,height:Math.min(n,u)||document.body.clientHeight}}var d={set:function(e,t){this.del(e);var n=e+"="+encodeURIComponent(t);window.name=window.name?window.name+"&"+n:n},get:function(e){var t,n=null===(t=window.name)||void 0===t?void 0:t.match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"));return n?decodeURIComponent(n[2]):""},del:function(e){this.get(e)&&(window.name=window.name.replace(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),"$3"))}};t.winname=d},bpzH:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=r(n("a3Zo")),l=n("u+Si"),d=n("mAAe"),f=n("sPX+");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,a.default)(n,e);var t=p(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this)).discount=e,o.utils=r,o.current=l.SeckillStatus.ENDED,o.current=o.utils.getSeckillStatus(),o.initEvents(),o}return(0,o.default)(n,[{key:"getStatus",value:function(){return this.current}},{key:"listenStatus",value:function(e){this.on("status",e)}},{key:"removeListenStatus",value:function(e){this.off("status",e)}},{key:"emitStatus",value:function(e){this.emit("status",e)}},{key:"initEvents",value:function(){var e=this,t=(0,d.getSvrTime)(),n=this.discount.end_time,r=this.discount.start_time,i=this.discount.has_preview,o=this.discount.preview_time,a=this.utils.getSeckillStatus();this.current=a;var u=l.SeckillStatus.ENDED,c=0;switch(a){case l.SeckillStatus.DEFAULT:i?(u=l.SeckillStatus.RESERVABLE,c=o-t):(u=l.SeckillStatus.INPROGRESS,c=r-t);break;case l.SeckillStatus.RESERVABLE:case l.SeckillStatus.RESERVED:u=l.SeckillStatus.INPROGRESS,c=r-t;break;case l.SeckillStatus.INPROGRESS:u=l.SeckillStatus.ENDED,c=n-t}var s={current:a,next:u,restTime:c,type:f.InstitutionDiscountType.Seckill};this.emitStatus(s);c>0&&setTimeout((function(){e.initEvents()}),1e3*Math.min(c,86400))}}]),n}(s.default);t.Status=h},bsPl:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.InstalmentPay=function(e){return f(this,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.imlog.info("【支付模块】","【分期支付】"),!e.useBalance){t.next=7;break}return u.imlog.info("【支付模块】","【分期支付全余额支付】"),t.next=5,h(e);case 5:t.next=10;break;case 7:return u.imlog.info("【支付模块】","【分期支付midas支付】"),t.next=10,v(e);case 10:case"end":return t.stop()}}),t)})))};var i=r(n("gBQG")),o=r(n("INZq")),a=n("F5LU"),u=n("uIhe"),c=n("1c9X"),s=n("vqVK"),l=n("Qynd"),d=n("IvuC"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function p(e){var t=o.default.getReportData();return{courseid:e.cid,installment_seq:e.instalmentSeq,order_report:{extend:{unifiedplatform:parseInt(t.platform,10)||1}},report:{monitor:{platform:t.platform},platform:(0,s.getPlatform)()},term_id:e.tid}}function h(e){return f(this,void 0,void 0,i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fid:"".concat(e.tid),sid:"".concat(e.instalmentSeq),type:c.ProductType.Instalment},r=new l.BalancePay(Object.assign(Object.assign({},e),{productid:n})),t.next=4,r.pay();case 4:case"end":return t.stop()}}),t)})))}function v(e){return f(this,void 0,void 0,i.default.mark((function t(){var n,r,o,l,f;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=p(e),(i=n).report=JSON.stringify(i.report),i.order_report=JSON.stringify(i.order_report),t.next=5,(0,a.fetch)("/cgi-bin/paygroup/paytoken_installment",{body:n,method:"POST"});case 5:r=t.sent,u.imlog.info("【支付模块】","【分期支付成功】",r),u.imlog.monitor(34647634),o={productid:{fid:"".concat(e.cid),sid:"".concat(e.tid),type:c.ProductType.Course}},l=r.result,f=void 0===l?{}:l,new d.PCMidas(o).pay(f),t.next=18;break;case 13:throw t.prev=13,t.t0=t.catch(0),u.imlog.extra({retcode:t.t0&&t.t0.retcode,platform:(0,s.getPlatform)()}).error("【支付模块】","【分期支付失败】",t.t0),u.imlog.monitor(34647635),t.t0;case 18:case"end":return t.stop()}var i}),t,null,[[0,13]])})))}},c1NO:function(e,t,n){var r=n("xeH2"),i={slideStep:1,stepLength:250,beforeSlide:function(){},afterSlide:function(){},duration:300,container:"",list:"ul",item:"li",btnForward:".slide-forward",btnNext:".slide-next"};function o(e){this.opt=r.extend({},i,e),this.$container=r(this.opt.container),this.$list=this.$container.find(this.opt.list),this.$itemList=this.$list.children(this.opt.item),this.$btnNext=this.$container.find(this.opt.btnNext),this.$btnForward=this.$container.find(this.opt.btnForward),this.curIndex=0,this.isSliding=!1,this._bindEvents(),this.resetBtn()}o.prototype.slideTo=function(e,t){if(e!==this.curIndex){var n=this.curIndex,r=this,i={left:"".concat(-e*this.opt.stepLength,"px")};this.opt.beforeSlide(n,e,t)||e<0||e>this.$itemList.length-1||(this.opt.duration?(this.isSliding=!0,this.$list.animate(i,this.opt.duration,"swing",(function(){r.curIndex=e,r.isSliding=!1,r.resetBtn(),r.opt.afterSlide(n,e,t)}))):(this.$list.css(i),this.resetBtn(),this.opt.afterSlide(n,e,t),this.curIndex=e))}},o.prototype.slideNext=function(e,t){e=e||1;var n=this.curIndex+e*this.opt.slideStep;this.slideTo(n,t)},o.prototype.slideForward=function(e,t){e=e||1;var n=this.curIndex-e*this.opt.slideStep;this.slideTo(n,t)},o.prototype.lastItemInSight=function(){var e=this.$container.offset().left+this.$container.outerWidth(),t=this.$itemList.eq(this.$itemList.length-1);return e>=t.offset().left+t.outerWidth()},o.prototype.resetBtn=function(){0===this.curIndex?this.$btnForward.addClass("disabled").removeClass("active"):this.$btnForward.addClass("active").removeClass("disabled"),this.lastItemInSight()?this.$btnNext.addClass("disabled").removeClass("active"):this.$btnNext.addClass("active").removeClass("disabled")},o.prototype._bindEvents=function(){var e=this,t=this.opt;this.$container.on("click",t.btnForward,(function(){e.slideForward()})).on("click",t.btnNext,(function(){e.slideNext()}))},e.exports=o},cCMk:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={CouponStatus:!0,BaseCouponImp:!0};t.BaseCouponImp=t.CouponStatus=void 0;var o=r(n("EAVL")),a=r(n("oywu")),u=n("vF9K");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var c,s=n("jH5F"),l=n("D5uc");t.CouponStatus=c,function(e){e[e.DEFAULT=0]="DEFAULT"}(c||(t.CouponStatus=c={}));var d=function(){function e(t){var n=this;(0,o.default)(this,e),this.discount=t,this.type="",this.utils=new l.Utils(this),this.status=new s.Status(this.discount,this.utils);var r=(null==t?void 0:t.discount_results)||[];this.discountList=r.map((function(e){return new u.CouponItem(e,n.utils)}))}return(0,a.default)(e,[{key:"getId",value:function(){return this.utils.getBestCoupon().getId()}},{key:"getPrice",value:function(){return this.utils.getBestCoupon().getPrice()}},{key:"getDecrPrice",value:function(){return this.utils.getBestCoupon().getDecrPrice()}},{key:"getStatus",value:function(){return this.status.getStatus()}},{key:"listenStatus",value:function(){var e;return(e=this.status).listenStatus.apply(e,arguments)}},{key:"removeListenStatus",value:function(){var e;return(e=this.status).removeListenStatus.apply(e,arguments)}},{key:"emitStatus",value:function(){var e;return(e=this.status).emitStatus.apply(e,arguments)}},{key:"getData",value:function(){return Object.assign({},this.discount)}}]),e}();t.BaseCouponImp=d},cEIL:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("CGIb"),u=n("RUvJ"),c=function(){function e(t){(0,i.default)(this,e),this.discount=t,this.type=a.DiscountType.Group}return(0,o.default)(e,[{key:"getId",value:function(){return(0,u.getGroupId)(this.discount)||0}},{key:"getPrice",value:function(){return(0,u.getGroupPrice)(this.discount)||0}},{key:"getPayParam",value:function(){return{discountinfo:{group_id:this.getId()}}}},{key:"getExt",value:function(){var e=this.getId();return e?{returnParam:{groupId:e}}:null}},{key:"getData",value:function(){return Object.assign({},this.discount)}}]),e}();t.Group=c},cJLU:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){i=t,a.default.addListener(c);var n=o.default.getPositionData();return["url_page","url_module","url_position"].forEach((function(t){e[t]=n[t]||""})),e};var i,o=r(n("YH9n")),a=r(n("fp7T")),u=r(n("4qiJ")),c=function(e){var t=u.default.closest(e,"[data-report-position]"),n=u.default.closest(e,"[data-report-module]"),r=encodeURIComponent(t&&t.getAttribute("data-report-position")||""),a=encodeURIComponent(n&&n.getAttribute("data-report-module")||"");o.default.setPositionData({url_position:r,url_module:a,url_page:encodeURIComponent(i&&i.getReportData("page")||"")})}},cM1I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMacClient=o,t.isWinClient=a,t.isPCClient=function(){return o()||a()||!!(0,r.getHash)("client")},t.isMacClientLite=function(){return o()&&/EduLite/.test(navigator.userAgent)},t.isWinClientLite=function(){return a()&&/EduLite/.test(navigator.userAgent)},t.isIOS=u,t.isAndroid=function(){if(i.indexOf("android")>0)return!0;return!1},t.isWeixin=function(){return-1!=i.indexOf("micromessenger")},t.qqVersion=function(){var e=i.match(/qq\/(\d+\.\d+(\.\d+)?)/i);return e&&e[1]||0},t.isApp=function(){return-1!=i.indexOf("educationapp")||-1!=i.indexOf("eduapp")},t.isBaiduApp=function(){return-1!=i.indexOf("baiduboxapp")},t.isWeiboApp=function(){return-1!=i.indexOf(" weibo ")},t.isMiniProgram=c,t.isIOSMiniProgram=function(){return u()&&c()},t.isWeAppke=function(){return"weappke"===(0,r.query)("sfrom")},t.isMobile=function(){return/iPhone|iPod|Android|iPad/i.test(i)};var r=n("pNy8"),i=navigator.userAgent.toLowerCase()||"";function o(){return/EduMac/i.test(i)}function a(){var e=window.external&&window.external.CallHummerApi;return/EduWin/i.test(i)||/TXEdu/i.test(i)||!!e}function u(){return!!/iPhone|iPod/i.test(i)}function c(){var e=!!window.location.search.match(new RegExp("(\\?|&)mp=([^&]*)(&|$)")),t=window.localStorage&&!!localStorage.getItem("webViewIsMp");return"miniprogram"===window.__wxjs_environment||e||t}},cUZS:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.originalSrcKey=t.ImgRetry=void 0;var i=r(n("EAVL"));t.ImgRetry=function e(t){(0,i.default)(this,e),this.opts=t};t.originalSrcKey="__retried_originalSrc__"},cVzb:function(e,t,n){"use strict";var r=n("TqRt")(n("Kwep")),i=n("1RQl"),o=n("xeH2");n("q+3g");var a,u,c,s,l,d,f=r.default.createLogger("img-retry-lazyload"),p=function(e,t){var n=t.data("data-first-date"),r=t[0].src;if(r.match(/\/qqcourse_logo(?:_rn)?\//)&&n){(n=new Date-n)<0&&(n=0),n+=1;new Image;var i,o,a=t.data("data-isSupportedWebP"),u=["flag1=1565&flag2=1&flag3=6"];if(window.localStorage&&window.JSON)if(r&&(o=r.match(/(?:\/)([^\/]+)\/*(?:\d+)/))&&(o=o[1])){i=0;var c=localStorage.getItem("EDU_ISLOAD_IMG");c?(c=JSON.parse(c))[o]&&(i=1):c={},c[o]=1;try{localStorage.setItem("EDU_ISLOAD_IMG",JSON.stringify(c))}catch(e){Badjs("写localStorage异常",location.href,0,507221,2)}}a?(u.push("2="+n),isNaN(i)||(i?u.push("4="+n):u.push("5="+n),u.push("6="+n))):(u.push("1="+n),isNaN(i)||(i?u.push("7="+n):u.push("8="+n),u.push("9="+n))),window.performance&&window.performance.getEntriesByName&&v(r,a),u.push("3="+n)}},h={redirectStart:3,redirectEnd:4,fetchStart:5,domainLookupStart:6,domainLookupEnd:7,connectStart:8,connectEnd:9,requestStart:10,responseStart:11,responseEnd:12},v=function(e,t){if(e&&window.performance&&performance.getEntriesByName){var n=window.performance.getEntriesByName(e);if(n&&n.length){var r=n[0],i=r.startTime;if(i){var o=[];for(var a in h)if(r[a]){var u=r[a]-i;if("redirectStart"!=a&&"redirectEnd"!=a&&u<0)continue;o.push(h[a]+"="+Math.floor(Math.abs(u)))}o.push("20="+(Math.floor(Math.abs(r.duration))||0)),o.push("21="+Math.floor(i));e="//huatuo.weiyun.com/report.cgi?"+encodeURIComponent("flag1=1565&flag2=1&flag3="+(t?"7":"8")+"&"+o.join("&"))}}}};o.fn.loadWebP=(u=o.cookie.get("iswebp")||"",c=[],s=!1,l=function(){for(var e=0,t=c.length;e<t;e++)c[e](a);c=[]},d=Object.prototype.toString,function(e,t){switch(d.call(e)){case"[object Object]":e=e||{},t=t||e.callback||function(){};break;case"[object Function]":t=e||function(){},e={};break;default:return this}return this.each((function(n,r){var i=e.srcSign||"lazy-src",d=o(r),f=d.attr(i);if(f){var h=e.desSign||"lazy-src";!function(e){if(u&&(a="1"===u),void 0===a){if(c.push(e),!s){s=!0;var t=new Image;t.onload=function(){a=2===this.width&&1===this.height,s=!1,o.cookie.set("iswebp",+a),l()},t.onerror=function(){a=!1,s=!1,o.cookie.set("iswebp",+a),l()},t.src="data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoCAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA=="}}else e(a)}((function(e){if(e&&(f+=(-1!=f.indexOf("?")?"&":"?")+"tp=webp",d.data("data-isSupportedWebP",!0)),"src"===h){var n=+new Date;d.data("data-first-date",n),d[0].onload=function(e){p(0,d)}}d.attr(h,f),t(e)}))}}))}),o.fn.lazyload=function(e){return this.each((function(){e=e||{};var t=o.extend({},{},e),n=o(this),a=t.srcSign||"lazy-src",u=t.proxy||i.getResourceProxyUrl,c=t.errCallBack||function(){},s=t.container||o(window),l=function(e,n,i){e.attr("src")||(!function(e){var t=e.width(),n=e.height();e.offset().top,e.offset().left;e[0].src=t/n==1?"//9.idqqimg.com/edu/edu_modules/edu-ui/img/nohash/img-loading.png":"//9.idqqimg.com/edu/edu_modules/edu-ui/img/nohash/img-loading2.png"}(e),e.loadWebP(t,(function(t){var o=e.attr(n),a=+new Date;e.data("data-first-date",a),e[0].onerror=function(t){if(!e.isRetried&&"function"==typeof u){var n=u(o);return e.isRetried=!0,e[0].src=n,f.warn("图片重试代理加载: ",n),void r.default.monitor(34827153)}!function(e,t,n,i){if(t[0].src&&(t[0].src.indexOf("img-err.png")>0||t[0].src.indexOf("img-err2.png")>0))return f.error("图片默认图加载失败: ",i),void r.default.monitor(34827155);var o=t.width(),a=t.height();t[0].src=o/a==1?"//9.idqqimg.com/edu/edu_modules/edu-ui/img/nohash/img-err.png":"//9.idqqimg.com/edu/edu_modules/edu-ui/img/nohash/img-err2.png",n(t,i),f.error("图片代理加载失败，重试默认图加载: ",t[0].src),r.default.monitor(34827154)}(0,e,i,o)},e[0].onload=function(t){!function(e,t){p(0,t)}(0,e)},e[0].src=o})))};if(t.cache=[],"IMG"==this.tagName){var d={obj:n,tag:"img",url:n.attr(a)};t.cache.push(d)}else{var h=n.find("img");h.each((function(e){var n=this.nodeName.toLowerCase(),r=o(this).attr(a),i={obj:h.eq(e),tag:n,url:r};t.cache.push(i)}))}var v=function(){var e,n=s.height();e=o(window).get(0)===window?o(window).scrollTop():s.offset().top,o.each(t.cache,(function(t,r){var i,o,u=r.obj,s=r.tag,d=r.url;u&&(o=(i=u.offset().top-e)+u.height(),(i>=0&&i<n||o>0&&o<=n)&&(d&&"img"===s&&l(u,a,c),r.obj=null))}))};v(),s.bind("scroll",v),s.bind("resize",v)}))}},cb6p:function(e,t,n){var r=n("xeH2"),i={url:"//tmapp.qq.com/cgi-bin/activity_platform/tdw/report",timer:300,beforeRequest:function(){},success:function(){},error:function(){},fail:function(){},slicer:8,table:"",pr_ip:"",pr_t:""},o={},a={},u=[],c=0,s=console||{},l=["url","refer"],d={pool:[],write:function(e){r.isPlainObject(e)?this.pool.push(e):r.isArray(e)&&Array.prototype.push.apply(this.pool,e)},read:function(){var e=this.pool;return this.pool=[],e}};function f(e){var t;return p(e),t=function(e){var t,n=[];if(!e)return;r.isPlainObject(e)&&(e=[e]);if(!r.isArray(e))return;return r.each(e,(function(e,i){t=[],i=r.extend({},o,i),r.each(u,(function(e,n){t.push(i[n]||"")})),n.push(t)})),n}(e),{fields:u,datas:t}}function p(e){e&&(r.isPlainObject(e)&&(e=[e]),r.isArray(e)&&r.each(e,(function(e,t){r.each(t,(function(e){a[e]||(a[e]=1,u.push(e))}))})))}function h(e,t){var n,o,a={};t=t||i,r.each(["table","pr_ip","pr_t"],(function(e,n){a[n]=t[n]||""})),e.datas=(n=e.fields,(o=(o=e.datas)||[]).forEach((function(e){e.forEach((function(t,r){"string"==typeof t?~l.indexOf(n[r])?e[r]=t.substring(0,200):e[r]=t.substring(0,50):e[r]=t}))})),o),a.fields=JSON.stringify(e.fields),a.datas=JSON.stringify(e.datas),a.retype=2,!1!==i.beforeRequest(e)&&t.url&&(r.ajax({url:t.url,data:a,dataType:"jsonp"}).done((function(t){i[0===t.ret?"success":"error"](t,e)})).fail((function(t,n,r){i.fail(e,t,n,r)})),function(e,t){if(!s.table)return;try{if(window.localStorage&&1===parseInt(window.localStorage.getItem("tdwFlag"),10))for(var n=0,r=t.length;n<r;n++){for(var i={},o=0,a=e.length;o<a;o++)""!==t[n][o]&&(i[e[o]]=t[n][o]);s.table([i])}}catch(e){}}(e.fields,e.datas))}e.exports={config:function(e,t){r.extend(o,e),r.extend(i,t),p(o)},report:function(e){d.write(e),c||(c=setTimeout((function(){!function(){var e=[],t=d.read();t.length<=i.slicer?h(f(t)):(r.each(t,(function(t,n){e.push(n),t>0&&t%i.slicer==i.slicer-1&&(h(f(e)),e=[])})),e.length&&h(f(e)))}(),c=0}),i.timer))},reportSync:function(e,t){t=r.extend({},i,t),h(f(e),t)},composer:f,request:h,getCommonData:function(e){return e?o[e]:o}}},cfQT:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Purchase=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("4XZU")),c=r(n("e4x/")),s=r(n("Udhi")),l=r(n("okMe")),d=r(n("FO6Z")),f=r(n("INZq")),p=r(n("a3Zo")),h=n("F5LU"),v=n("2dtd"),g=n("P87J"),m=n("q6zo"),y=n("sFaT"),_=n("2lLr"),b=n("kSUm");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var k=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,d.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},P=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},x=function(e){(0,c.default)(n,e);var t=w(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this)).opts=e,r.isIAP=!1,r.model=new _.PurchaseModel(e,{emitIAPDisplay:r.emitIAPDisplay.bind((0,u.default)(r)),emitPurchaseData:r.emitPurchaseData.bind((0,u.default)(r))}),r.autoGetCoupon=new m.AutoGetCoupon((0,u.default)(r)),r.initEvent(),r.init(),r}return(0,a.default)(n,[{key:"initAutoGetCoupon",value:function(){return this.autoGetCoupon.init()}},{key:"initEvent",value:function(){var e=this;this.on(n.Events.pay,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P(e,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toPay(t);case 2:case"end":return e.stop()}}),e,this)})))})),this.on(n.Events.onAgencyContactChange,(function(t){e.model.updateAgencyContactState(t)})),this.on(n.Events.onYqhInfoChange,(function(t){e.model.updateYqhInfo(t)})),this.on(n.Events.onAddressChange,(function(t){e.model.updateAddressState(t)})),this.on(n.Events.onInstitutionSelect,(function(t){e.model.updateInstitutionDiscount(t)})),this.on(n.Events.onPlatformSelect,(function(t){e.model.updatePlatformDiscount(t)})),this.on(n.Events.onChannelChange,(function(t){e.model.updateChannel(t)})),this.on(n.Events.onTermSelect,(function(t){e.model.updateTerm(t),f.default.tdw({action:"click",module:"chooseclass"})})),this.on(n.Events.updatePayDetail,(function(){e.model.updatePayDetail()}))}},{key:"toPay",value:function(e){return P(this,void 0,void 0,i.default.mark((function t(){var r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.model.getPayOpts();case 3:if(!(r=t.sent)){t.next=10;break}return f.default.tdw({action:"click",module:"purchase"}),(0,g.monitor)(g.MonitorType.APPLY_BTN_CLICK),o=new b.Pay(Object.assign(r,e)),t.next=10,o.pay(Object.assign(this.opts,e));case 10:t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(0),this.emit(n.Events.payError,t.t0),t.t0;case 16:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"init",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initAutoGetCoupon();case 2:return e.next=4,this.initIAP();case 4:return e.next=6,this.initData();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"initIAP",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.isIAP)();case 2:return e.abrupt("return",this.isIAP=e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"initData",value:function(){return P(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.model.init(this.isIAP);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),this.emit(n.Events.dataError,e.t0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"emitPurchaseData",value:function(e){this.emit(n.Events.purchaseData,e)}},{key:"emitIAPDisplay",value:function(e){this.emit(n.Events.IAPDisplay,e)}}]),n}(p.default);t.Purchase=x,x.Events={autoGetCouponError:"purchase.autoGetCouponError",dataError:"purchase.dataError",onAddressChange:"purchase.addressChange",onAgencyContactChange:"purchase.agencyContact",onChannelChange:"purchase.channelChange",onInstitutionSelect:"purchase.institutionDiscountSelect",onPlatformSelect:"purchase.platformDiscountSelect",onTermSelect:"purchase.termSelect",onYqhInfoChange:"purchase.yqhInfoChange",pay:"purchase.pay",payError:"purchase.payError",purchaseData:"purchase.data",IAPDisplay:"purchase.IAPDisplay",updatePayDetail:"purchase.updatePayDetail"},x.Jumper=y.PurchaseJumper,k([(0,v.dealError)(!0)],x.prototype,"toPay",null),k([(0,g.log)("下单页初始化",g.MonitorType.PURCHASE_PV)],x.prototype,"init",null),k([(0,g.log)("判断iap")],x.prototype,"initIAP",null)},cg0R:function(e,t,n){var r=n("xeH2"),i=n("m9bP");n("kkc5");var o={},a={getCookieKey:function(e){return!!e&&e+"_origin"},getRecordValue:function(e){var t=e.attr("cors-path");return(i.parseReportAttr(t)||[])[0]},isSimilarRecord:null};function u(e){return o.hasOwnProperty(e)}function c(e,t){if(!u(e))return o[e]=r.extend({},a,t),!0}c("course",{getRecordValue:function(e){var t=e.attr("report-tdw"),n=i.parseReportAttr(t)||[],r=(n=n[0]||{}).module||i.getReportData("module"),o=n.ver1||i.getReportData("ver1"),a=n.ver3||i.getReportData("ver3");return{cid:+o,ext:{pagelocation:encodeURIComponent(r+","+a)}}},isSimilarRecord:function(e,t){return e.cid===t.cid}}),e.exports={isValidName:u,getOperator:function(e){return o[e]},registerOperators:c}},cj4F:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.ver9,r=i.default.realUin(),a=e.visitor_id||o();n&&!r&&(a=o());r&&!n&&document.referrer&&(t="login");return Object.assign(e,{ver9:r||void 0,uin:i.default.uin()||"",visitor_id:a,ver10:t}),e};var i=r(n("w7y4"));function o(){return(""+Math.random()).substring(2)}},cmcF:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ProductModel=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=r(n("Q86Y")),c=n("F5LU"),s=n("R/g0"),l=n("P87J"),d=n("rRu0"),f=n("GYbC"),p=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},h=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"initData",value:function(e,t,n,r){this.products=e,this.ext=t,this.opts=n,this.displayConfig=r}},{key:"getCurProduct",value:function(){var e=this.getTidByInex(this.getCurTermIndex());return(0,f.getCurTermInfo)(this.getProductList(),Object.assign(Object.assign({},this.opts),{curTermId:e}))}},{key:"getProductList",value:function(){var e;return null===(e=this.products)||void 0===e?void 0:e.filter(this.productFilter.bind(this)).map(this.addCertInfo.bind(this)).map(this.addTermDesc.bind(this)).map(this.addRefundDesc.bind(this)).map(this.addAuthMobile.bind(this)).map(this.addAid.bind(this))}},{key:"setCurTermIndex",value:function(e){this.curTermIndex=e}},{key:"getTidByInex",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=this.getProductList();return null===(t=null===(e=null==r?void 0:r[n])||void 0===e?void 0:e.term)||void 0===t?void 0:t.tid}},{key:"getCurTermIndex",value:function(){var e=this,t=this.getProductList();return void 0===this.curTermIndex&&(this.curTermIndex=null==t?void 0:t.findIndex((function(t){var n,r;return(null===(n=null==t?void 0:t.term)||void 0===n?void 0:n.tid)===(null===(r=e.opts)||void 0===r?void 0:r.curTermId)}))),this.curTermIndex}},{key:"addCertInfo",value:function(e){var t,n=(null!==(t=this.ext)&&void 0!==t?t:{}).agency_id,r=void 0===n?0:n;return(0,s.isCertAid)(r)?Object.assign(Object.assign({},e),{refund_type:d.RefundType.CertRefund,is_cert:!0}):e}},{key:"addAid",value:function(e){var t;return(null===(t=this.ext)||void 0===t?void 0:t.agency_id)?Object.assign(Object.assign({},e),{aid:this.ext.agency_id}):e}},{key:"addAuthMobile",value:function(e){var t;return Object.assign(Object.assign({},e),{authMobile:null===(t=this.ext)||void 0===t?void 0:t.authPhone})}},{key:"addRefundDesc",value:function(e){if(null==e?void 0:e.refund_type){var t=this.getRefundDesc(e.refund_type);return Object.assign(Object.assign({},e),{refundDesc:t})}return e}},{key:"addTermDesc",value:function(e){if(null==e?void 0:e.term){var t=this.getTermDesc(e.bgtime,e.endtime);return Object.assign(Object.assign({},e),{term:Object.assign(Object.assign({},e.term),{termDesc:t})})}return e}},{key:"productFilter",value:function(e){var t,n;return!(0,f.isPresent)(null==e?void 0:e.order)&&(!((0,f.isTermSignFull)(e)||(0,f.isTermApplyOver)(e)||(0,f.isTermPunish)(e)||(0,f.isTermStudyOver)(e))&&(!((0,f.isOrderPaying)(null==e?void 0:e.order)||(0,f.isOrderConfirming)(null==e?void 0:e.order)||(0,f.isRefunding)(null==e?void 0:e.order))&&(!(0,f.isApplied)(null==e?void 0:e.order)&&((0,c.getQuery)("from")!==d.PageFrom.Order||!(null==e?void 0:e.term)||(null===(t=null==e?void 0:e.term)||void 0===t?void 0:t.tid)===(null===(n=this.opts)||void 0===n?void 0:n.curTermId)))))}},{key:"getTermDesc",value:function(e,t){var n;if(!(null===(n=this.displayConfig)||void 0===n?void 0:n.dateShow))return"";var r=e?(0,u.default)(1e3*e).format("YYYY-M-D"):"随到随学";return t&&(r+=" 至 ".concat((0,u.default)(1e3*t).format("YYYY-M-D"))),r}},{key:"getRefundDesc",value:function(e){switch(e){case d.RefundType.SevenDayRefund:return"七天包退";case d.RefundType.InApplyTimeRefund:return"课中包退";case d.RefundType.CertRefund:return"考前随时退";default:return"课前随时退"}}}]),e}();t.ProductModel=h,p([(0,l.log)("获取当前班级")],h.prototype,"getCurProduct",null),p([(0,l.log)("获取所有班级列表")],h.prototype,"getProductList",null),p([(0,l.log)("设置索引")],h.prototype,"setCurTermIndex",null),p([(0,l.log)("根据索引获取班级id")],h.prototype,"getTidByInex",null),p([(0,l.log)("获取当前班级index")],h.prototype,"getCurTermIndex",null)},d8va:function(e,t,n){var r=n("I5uA"),i=n("oRpG"),o=n("xeH2"),a=n("1RNr"),u=null,c=null,s=null,l=null,d=null,f=null;function p(){var e=navigator.platform;return!e||"Win32"===e||"Win64"===e||"Windows"===e}function h(e){var t=o.cookie.uin(),n=t?t.toString().slice(-1):null;o.ajax({type:"Get",url:"//sas.qq.com/cgi-bin/ke_live_shortLink",success:function(t){if(t&&0===t.retcode){var r=t.result||{},i=r.isAll,o=r.grayUin,a=i||o&&o.indexOf(n)>-1;shortLink=a?"//ke.qq.com/webcourse/"+c+"/"+s+"#taid="+l:"//ke.qq.com/webcourse/index.html#course_id="+c+"&term_id="+s+"&taid="+l,e(shortLink)}},error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e("//ke.qq.com/webcourse/index.html#course_id="+c+"&term_id="+s+"&taid="+l)}))})}var v={jumpLive:function(e,t){if(e){var n,v=o(e);if(t=t||{},c=parseInt(v.attr("data-cid")),parseInt(v.attr("data-aid")),s=parseInt(v.attr("data-tid")),l=parseInt(v.attr("data-taid")),d=parseInt(v.attr("data-streambitflag"))||0,u=v.attr("data-target"),n=d.toString(2).split(""),f="1"!==n[0],v.attr("report-close")&&v.trigger("doReport"),i.isWeixinUser()||!f)return void function(){if(l)h((function(e){window.open(e)}));else if(p())a.get_taid({param:{course_id:c,term_id:s},succ:function(e){var t=e.result.term_info.lastest_live_task;l=t&&t.taid,h((function(e){window.open(e)}))}});else{var e=window.open("","_blank");a.get_taid({param:{course_id:c,term_id:s},succ:function(t){var n=t.result.term_info.lastest_live_task;l=n&&n.taid,h((function(t){e.location=t}))}})}}();v.attr("href","javascript:void(0);"),f&&function(e,t){var n=o(t);if(f){if(!r.isLogin())return void r.show({succ:function(){o(document).trigger("loginSucc"),setTimeout((function(){n.click()}),200)}});if(u=u.replace(/(&)?fuin=(\d)*/,""),!p()){if(l)h((function(e){window.open(e,"_blank")}));else{var i=window.open("","_blank");a.get_taid({param:{course_id:c,term_id:s},succ:function(e){var t=e.result.term_info.lastest_live_task;l=t&&t.taid,h((function(e){i.location=e}))},err:function(e){i.close()}})}return void(f=!1)}}if(f){var d=o.cookie.uin();u.indexOf("fuin")<0&&d&&(u=u+"&fuin="+d),u+="&st="+(new Date-0),e.newcard?o(document).trigger("openQQClientLiveNew",[t]):o(document).trigger("openQQClientLive",[t])}window.open(u,f?"_self":"_blank")}(t,e)}}};e.exports=v},dUOQ:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="mod-entry-user-hover mod-entry-nologin"> <p class="mod-entry-nologin-tips">跟进你的学习进度</p> <div class="mod-entry-nologin-img"></div></div><a href="javascript:void(0);" class="btn-default mod-entry-login js-login-op" data-hook="login" report-attr="module=login&position=card">登录</a>'),_$out_.join("")}}},dX8M:function(e,t,n){var r=n("q+3g"),i="tdw_first_visited",o="ke.qq.com",a="/";e.exports=function(e){var t=!r.get(i);setTimeout((function(){var n={action:"From"};t&&(n.ver7=e.getReportData().ver4||"4"),e.tdw(n),r.setSession(i,1,o,a)}),0)}},dYBP:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.base32=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",u=function(){function e(){(0,i.default)(this,e);var t=0,n=0;this.output="",this.readByte=function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),t<0?n|=e>>-t:n=e<<t&248,t>3?(t-=8,1):(t<4&&(this.output+=a[n>>3],t+=5),0)},this.finish=function(e){var r=this.output+(t<0?a[n>>3]:"")+(e?"$":"");return this.output="",r}}return(0,o.default)(e,[{key:"update",value:function(e,t){for(var n=0;n<e.length;)n+=this.readByte(e[n]);var r=this.output;return this.output="",t&&(r+=this.finish()),r}}]),e}();var c={Encoder:u,encode:function(e){return(new u).update(e,!0)}};t.base32=c},dYEw:function(e,t,n){var r=n("1RNr");r.extend({getDirList:r.httpMethod({url:"/cgi-bin/courseDetail_json"}),addFav:r.httpMethod({url:"/cgi-bin/fav/add_pl",type:"POST",noNeedLogin:!0}),cancelFav:r.httpMethod({url:"/cgi-bin/fav/cancel_pl",type:"POST",noNeedLogin:!0}),getCourseDiscountList:r.httpMethod({url:"/cgi-bin/discount/list_suitable_discounts"}),getBindedFiles:r.httpMethod({url:"/cgi-bin/file/getBindedFiles",type:"POST"}),record_get_expr_ticket:r.httpMethod({url:"/cgi-bin/user/record_get_expr_ticket ",type:"POST"}),getPublicCoupon:r.httpMethod({url:"/cgi-bin/coupon/get_course_detail_coupon"}),requestCoupon:r.httpMethod({url:"/cgi-bin/coupon/get_coupon",type:"POST"}),getBalance:r.httpMethod({url:"/cgi-bin/pay_access/user_account"}),getPaytoken:r.httpMethod({url:"/cgi-bin/pay_access/paytoken"}),getUserContact:r.httpMethod({url:"/cgi-bin/user/get_user_info"}),applySmsCode:r.httpMethod({url:"/cgi-bin/tool/apply_sms_code"}),checkSmsCode:r.httpMethod({url:"/cgi-bin/tool/check_sms_code"}),setUserContact:r.httpMethod({url:"/cgi-bin/user/set_user_info",type:"POST"}),getLatestLiveTask:r.httpMethod({url:"/cgi-bin/get_course_latest_liveTask",type:"GET"}),getPrivilege:r.httpMethod({url:"//sas.qq.com/cgi-bin/ke_ad_privilegeSeries"}),getCommentCount:r.httpMethod({url:"/cgi-bin/comment_new/course_comment_stat"}),setSubscribeRemind:r.httpMethod({url:"/cgi-proxy/edu_sale/subscribe_sale_remind"}),getBuyMember:r.httpMethod({url:"/cgi-bin/activity/get_memberlist_by_rank"}),getAllDiscount:r.httpMethod({url:"/cgi-proxy/discount/get_all_discount",type:"get"}),createBargain:r.httpMethod({url:"/cgi-proxy/user_initiate_bargain",type:"get",noNeedLogin:!0}),getCourseGroup:r.httpMethod({url:"/cgi-proxy/basic_info/get_course_detail",type:"get"}),getQQGroupUrl:r.httpMethod({url:"/cgi-bin/encoder",type:"POST"}),createGroup:r.httpMethod({url:"/cgi-proxy/group_buy/create_group",type:"get"}),getHomeworkList:r.httpMethod({url:"/cgi-proxy/homework/get_excellent_wroks_c",type:"get"})}),e.exports=r},dZEU:function(e,t,n){var r=n("xeH2"),i=n("OSA0"),o=n("m9bP"),a=n("kIk/");n("fl4e");n("uLkJ");var u,c,s,l,d=r(document),f=(new Date,!1),p=[3116];function h(e){return Math.floor((e+288e5)/864e5)}e.exports={init:function(){var e,t,n,v;u=window.GLOBAL_DATA||{},c=u._ext||{},s=u.cateId,-1!==p.indexOf(s)&&(l=r(".js-quote-aside-days-num"),t=c.exam_time_list||[],n=new Date,v=i(n),r.each(t.sort(),(function(t,n){if(v.isBefore(n,"day"))return e=n,!1})),e&&l.text(h(e)-h(n.getTime())),r(".js-quote-calender").on("click",(function(){a.show(c)})),f||(f=!0,d.on("click",".js-jjk-more",(function(){var e=r(this);o.tdw({action:"click",obj1:"jijingk_more",ver3:e.closest(".mod-sub").data("mod")})})).on("click",".js-quote-calender",(function(){var e=r(this);o.tdw({action:"click",obj1:"quotation",ver3:e.closest(".mod-sub").data("mod")})})).on("click",".js-jjk-content-title",(function(){var e=r(this);o.tdw({action:"click",obj1:"title",ver1:e.data("type"),ver2:e.data("jid"),ver3:e.closest(".mod-sub").data("mod")})})).on("click",".js-jjk-content-list-link",(function(){var e=r(this);o.tdw({action:"click",obj1:"subject",ver1:e.data("type"),ver2:e.data("jid"),ver3:e.closest(".mod-sub").data("mod")})}))))}}},deya:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Bargain=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("CGIb"),u=n("MGUh"),c=function(){function e(t){(0,i.default)(this,e),this.discount=t,this.type=a.DiscountType.Bargain}return(0,o.default)(e,[{key:"getId",value:function(){return(0,u.getBargainId)(this.discount)||0}},{key:"getPrice",value:function(){return(0,u.getBargainPrice)(this.discount)||(0,u.getBargainOriginPrice)(this.discount)}},{key:"getPayParam",value:function(){return{discountinfo:{bargain_id:this.getId()}}}},{key:"getData",value:function(){return Object.assign({},this.discount)}}]),e}();t.Bargain=c},dgVY:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.openUrlByIframe=function(e,t){var n=document.createElement("iframe");n.style.cssText="display:none;width:0px;height:0px;",n.onload=function(){n.parentNode&&n.parentNode.removeChild(n)},n.onerror=function(){},(t=t||{}).from&&(e+="&source="+t.from);n.src=e,document.body.appendChild(n)},t.isIframe=function(){return window.self!==(window.top||window.parent)},t.openAPPIFrame=function(e){if((0,u.isApp)())return void(0,c.getMqq)().then((function(t){t.invoke("edu","showWebDialog",{url:(0,s.addProtocol)(e)})}));var t=new f(e);return f.register("closeIframe",(function(){t.remove()})),t},t.closeAPPIFrame=function(){if((0,u.isApp)())return void(0,c.getMqq)().then((function(e){e.invoke("edu","closeDialog",{})}));f.invokeParent("closeIframe")},t.Iframe=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("HO9c")),u=n("XOiT"),c=n("qGYQ"),s=n("bhbm"),l={bottom:0,left:0,position:"fixed",right:0,top:0,"z-index":9999},d={fullScreen:!0,fullScreenStyle:l,height:"100%",width:"100%"};var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;(0,i.default)(this,e),this.url=t,this.opts=n,this.id="",this.ifrm=null,this.opts=Object.assign(Object.assign({},d),n),this.createIframe()}return(0,o.default)(e,[{key:"createId",value:function(){return e.idx++,"_IFRAME_"+e.idx}},{key:"createIframe",value:function(){var e=this.opts,t=e.width,n=e.height,r=e.fullScreen,i=e.fullScreenStyle;this.id=this.createId();var o=document.createElement("iframe");if(o.setAttribute("id",this.id),o.setAttribute("src",this.url),o.setAttribute("frameborder","0"),r){var a=Object.assign(Object.assign({},l),i);o.style.cssText=Object.keys(a).reduce((function(e,t){return e+"".concat(t,":").concat(a[t],";")}),"")}return o.style.width=t,o.style.height=n,document.body.appendChild(o),this.ifrm=o,this}},{key:"getId",value:function(){return this.id}},{key:"getIframe",value:function(){return this.ifrm}},{key:"invoke",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.invoke.apply(e,[this.id,t].concat(r))}},{key:"remove",value:function(){var e=this.getIframe();e&&e.parentNode&&e.parentNode.removeChild(e)}}],[{key:"getFnName",value:function(e){return"__iframe_fn__"+e}},{key:"invoke",value:function(t,n){var r=document.getElementById(t),i=r&&r.contentWindow,o=i&&i[e.getFnName(n)];if(o){for(var u=arguments.length,c=new Array(u>2?u-2:0),s=2;s<u;s++)c[s-2]=arguments[s];return o.apply(void 0,c)}a.default.error("no such fn :",n,t)}},{key:"invokeParent",value:function(t){var n=parent.window,r=n&&n[e.getFnName(t)];if(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return r.apply(void 0,o)}a.default.error("no such fn :",t)}},{key:"register",value:function(t,n){window[e.getFnName(t)]=n;var r=parent.window&&parent.window.__iframe_register_callbacks__;r&&r[t]&&r[t]()}},{key:"waitForRegister",value:function(e,t){window.__iframe_register_callbacks__=window.__iframe_register_callbacks__||{},window.__iframe_register_callbacks__[e]=t}}]),e}();t.Iframe=f,f.idx=0},dj08:function(e,t,n){var r=n("OlRL"),i=n("Tuqh"),o=n("Nfwl");n("HwQ1"),n("Lwcf");var a=null,u={simplify:!1},c={name:"",page:1,platform:4,count:10},s={},l=function(e,t){e=$.extend({},c,e),r.getCustomCourses({param:e,err:function(){return!0}}).then((function(e){if(0===e.retcode){var n=(e.result||{}).custom||[];t(n)}}))},d=function(e,t){var n=t.courses,r=e.data("mod"),o=i({course_list:n||[],opt:$.extend({cardPos:r},u)});e.find(".custom-course-list").html(o)},f=function(){a.each((function(){var e=$(this),t=e.data("name"),n=s[t]||{};e.bidiPaging({maxPage:n.total||1,fetchData:function(t,n){t.count=t.size,t.name=e.data("name"),e.spin(),l(t,n)},onSwitchedPage:function(t,n){var r=t[0]||{};r.total&&n.extendConfig({maxPage:r.total}),d(n.$el,r),e.spin(!1)}})}))};e.exports={init:function(){(a=$(".js-custom-course")).length&&(c.cat=GLOBAL_DATA.cateId,a.data("hasrender")?f():(a.spin(),l({},(function(e){e.forEach((function(e){var t=o.decode(e.name),n=a.filter('[data-name="'+t+'"]');s[t]=e,n.length&&d(n,e)})),a.spin(!1),f()}))))}}},eAFU:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=r(n("a3Zo")),l=n("ROju"),d=n("mAAe"),f=n("sPX+");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,a.default)(n,e);var t=p(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this)).discount=e,o.utils=r,o.current=l.BargainStatus.DEFAULT,o.discount,o.current=o.utils.getBargainStatus(),o.initEvents(),o}return(0,o.default)(n,[{key:"getStatus",value:function(){return this.current}},{key:"listenStatus",value:function(e){this.on("status",e)}},{key:"removeListenStatus",value:function(e){this.off("status",e)}},{key:"emitStatus",value:function(e){this.emit("status",e)}},{key:"initEvents",value:function(){var e=this,t=this.utils.getBargainStatus();this.current=t;var n=l.BargainStatus.ENDED,r=0;if(t!==l.BargainStatus.ENDED){var i=(0,d.getSvrTime)();r=this.utils.getBargainEndTs()-i}var o={current:t,next:n,restTime:r,type:f.InstitutionDiscountType.Bargain};this.emitStatus(o);r>0&&setTimeout((function(){e.initEvents()}),1e3*Math.min(r,86400))}}]),n}(s.default);t.Status=h},eDCv:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ForceMobileAuthABTestReportor=void 0;var i=r(n("rePB")),o=r(n("1OyB")),a=r(n("vuIU")),u=r(n("lSPl"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){function e(t){(0,o.default)(this,e),this.basicData=t}return(0,a.default)(e,[{key:"tdw",value:function(e){u.default.tdw(s(s({},this.basicData),e))}},{key:"bind",value:function(e){this.tdw(s(s({},e),{},{module:"bind-phone"}))}},{key:"bindExpo",value:function(){this.bind({action:"exposure"})}},{key:"bindSave",value:function(){this.bind({action:"click",position:"save"})}},{key:"auth",value:function(e){this.tdw(s(s({},e),{},{module:"use-phone"}))}},{key:"authExpo",value:function(){this.auth({action:"exposure"})}},{key:"authAgree",value:function(){this.auth({action:"click",position:"confirm"})}}]),e}();t.ForceMobileAuthABTestReportor=l},eFtk:function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";function r(){var e=0,t=0;this.output="",this.readByte=function(r){return"string"==typeof r&&(r=r.charCodeAt(0)),e<0?t|=r>>-e:t=r<<e&248,e>3?(e-=8,1):(e<4&&(this.output+=n[t>>3],e+=5),0)},this.finish=function(r){var i=this.output+(e<0?n[t>>3]:"")+(r?"$":"");return this.output="",i}}r.prototype.update=function(e,t){for(var n=0;n<e.length;)n+=this.readByte(e[n]);var r=this.output;return this.output="",t&&(r+=this.finish()),r};var i={Encoder:r,encode:function(e){return(new r).update(e,!0)}};e.exports=i},eU4E:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ApplyFrontErrorMap=t.ApplyFrontErrorRetcode=void 0;var i,o,a=r(n("aDhn"));t.ApplyFrontErrorRetcode=o,function(e){e[e.NoLogin=1e5]="NoLogin",e[e.NoCourse=-999]="NoCourse",e[e.NEED_STUDENT_DIALOG=-188]="NEED_STUDENT_DIALOG",e[e.Punished=-187]="Punished",e[e.OrderPaying=-186]="OrderPaying",e[e.OrderConfirming=-185]="OrderConfirming",e[e.SignFull=-184]="SignFull",e[e.Refunding=-183]="Refunding",e[e.Applied=-182]="Applied",e[e.StudyOver=-181]="StudyOver",e[e.ApplyOver=-180]="ApplyOver",e[e.Admin=-179]="Admin",e[e.NoIap=-178]="NoIap",e[e.NoPhone=-177]="NoPhone",e[e.InitCheckFail=-176]="InitCheckFail",e[e.NoDetails=-175]="NoDetails",e[e.UnknownPresent=-174]="UnknownPresent",e[e.OptsIllegal=-173]="OptsIllegal",e[e.PresentIllegal=-172]="PresentIllegal",e[e.CourseConflit=-171]="CourseConflit",e[e.CourseTimeConflit=-170]="CourseTimeConflit",e[e.RechargeError=-169]="RechargeError",e[e.AddressNeeded=-168]="AddressNeeded",e[e.FreeCourseNotSupported=-167]="FreeCourseNotSupported",e[e.NotSupportH5=-166]="NotSupportH5",e[e.DistributeForcePhoneAuth=-165]="DistributeForcePhoneAuth",e[e.NotSupportOpenPlatformAccount=-164]="NotSupportOpenPlatformAccount",e[e.AgencyForcePhoneAuth=-163]="AgencyForcePhoneAuth",e[e.AgencyForcePhoneAuthCancel=-162]="AgencyForcePhoneAuthCancel",e[e.AgencyForcePhoneAuthNotGrey=-161]="AgencyForcePhoneAuthNotGrey"}(o||(t.ApplyFrontErrorRetcode=o={}));var u=(i={},(0,a.default)(i,o.NoCourse,{msg:"没有可以购买的课程",retcode:o.NoCourse}),(0,a.default)(i,o.Punished,{msg:"课程被惩罚，无法报名",retcode:o.Punished}),(0,a.default)(i,o.OrderPaying,{msg:"课程订单支付中，无法报名",retcode:o.OrderPaying}),(0,a.default)(i,o.OrderConfirming,{msg:"课程订单确认中，无法报名",retcode:o.OrderConfirming}),(0,a.default)(i,o.SignFull,{msg:"班级已满员，无法报名",retcode:o.SignFull}),(0,a.default)(i,o.Refunding,{msg:"课程退款中，无法报名",retcode:o.Refunding}),(0,a.default)(i,o.Applied,{msg:"课程已经报名，无法重复报名",noError:!0,retcode:o.Applied}),(0,a.default)(i,o.StudyOver,{msg:"课程学习已截止，无法报名",retcode:o.StudyOver}),(0,a.default)(i,o.ApplyOver,{msg:"课程报名已截止，无法报名",retcode:o.ApplyOver}),(0,a.default)(i,o.Admin,{msg:"您是管理员，无法报名",retcode:o.Admin}),(0,a.default)(i,o.NoIap,{msg:"课程未上架iap",retcode:o.NoIap}),(0,a.default)(i,o.NoLogin,{msg:"请重新登录",noError:!0,retcode:o.NoIap}),(0,a.default)(i,o.NoPhone,{msg:"尚未绑定手机号",noError:!0,retcode:o.NoPhone}),(0,a.default)(i,o.InitCheckFail,{msg:"开始校验前失败",retcode:o.InitCheckFail}),(0,a.default)(i,o.NoDetails,{msg:"获取课程相关信息失败",retcode:o.NoDetails}),(0,a.default)(i,o.UnknownPresent,{msg:"无法识别赠送类型",retcode:o.UnknownPresent}),(0,a.default)(i,o.OptsIllegal,{msg:"支付入参不合法",retcode:o.OptsIllegal}),(0,a.default)(i,o.PresentIllegal,{msg:"课程包赠送类型异常",retcode:o.PresentIllegal}),(0,a.default)(i,o.CourseConflit,{msg:"课程冲突",retcode:o.CourseConflit}),(0,a.default)(i,o.CourseTimeConflit,{msg:"课程时间冲突",retcode:o.CourseTimeConflit}),(0,a.default)(i,o.RechargeError,{msg:"iap支付充值检测失败",retcode:o.RechargeError}),(0,a.default)(i,o.NEED_STUDENT_DIALOG,{msg:"学生需要实名认证",retcode:o.NEED_STUDENT_DIALOG}),(0,a.default)(i,o.AddressNeeded,{msg:"您所购买的课程为寄件课，请填写地址~",retcode:o.AddressNeeded}),(0,a.default)(i,o.FreeCourseNotSupported,{msg:"订单不支持免费课程",retcode:o.FreeCourseNotSupported}),(0,a.default)(i,o.NotSupportH5,{msg:"请至PC端浏览器执行该操作",retcode:o.NotSupportH5}),(0,a.default)(i,o.DistributeForcePhoneAuth,{msg:"手机号是您领取课程资料与助教服务的重要凭证，请正确填写！",retcode:o.DistributeForcePhoneAuth}),(0,a.default)(i,o.NotSupportOpenPlatformAccount,{msg:"第三方帐号暂不支持报名平台课程",retcode:o.NotSupportOpenPlatformAccount}),(0,a.default)(i,o.AgencyForcePhoneAuth,{msg:"手机号是您领取课程资料与助教服务的重要凭证，请正确填写",retcode:o.AgencyForcePhoneAuth}),(0,a.default)(i,o.AgencyForcePhoneAuthCancel,{msg:"手机号是您领取课程资料与助教服务的重要凭证，请务必授权",retcode:o.AgencyForcePhoneAuthCancel}),(0,a.default)(i,o.AgencyForcePhoneAuthNotGrey,{msg:"非强制授权手机号灰度用户",retcode:o.AgencyForcePhoneAuthNotGrey}),i);t.ApplyFrontErrorMap=u},f1Mk:function(e,t,n){var r=n("cDf5"),i=n("uQ0J"),o=window.performance,a=o&&o.getEntries,u={duration:"1",redirect:"2",cache:"3",dns:"4",tcp:"5","ssl/tls":"6",http:"7",download:"8",startTime:"9",redirectStart:"10",redirectEnd:"11",fetchStart:"12",domainLookupStart:"13",domainLookupEnd:"14",connectStart:"15",secureConnectionStart:"16",connectEnd:"17",requestStart:"18",responseStart:"19",responseEnd:"20"},c=function(e){var t,n=a&&o.getEntries();if(n&&e)for(var r=0,i=n.length;r<i;r++)if(t=n[r],e instanceof RegExp?e.test(t.name):t.name.indexOf(e)>=0)return s(t)},s=function(e){var t,n={},r=u;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i],a=e[i],c=e.startTime;"duration"===i||"startTime"===i?n[o]=Math.round(a):void 0!==a?(t=a>=c?a-c:0,n[o]=Math.round(t)):n[o]=Math.round(l(i,e))}return n},l=function(e,t){var n,r;switch(e){case"redirect":n=t.redirectStart||t.startTime,r=t.redirectEnd;break;case"cache":n=t.fetchStart||t.redirectEnd,r=t.domainLookupStart;break;case"dns":n=t.domainLookupStart,r=t.domainLookupEnd;break;case"tcp":n=t.connectStart||t.domainLookupEnd,r=t.connectEnd;break;case"ssl/tls":n=t.secureConnectionStart||0,r=t.connectEnd;break;case"http":n=t.requestStart||t.connectEnd,r=t.responseStart;break;case"download":n=t.responseStart,r=t.responseEnd}return r>0&&n>0&&r>=n?r-n:0},d=function(e,t){i.report(e,{url:t})};e.exports={report:function(e){var t,n;if("object"===r(e)&&a)for(var i in e)if(e.hasOwnProperty(i)){t=i,n=e[i];var o=c(n);d(o,t)}}}},f5oH:function(e,t,n){var r=n("kprn"),i="__userinfo";e.exports={get:function(){var e={};try{r.get(i)&&(e=JSON.parse(r.get(i))||{})}catch(e){}return e},set:function(e){try{r.set(i,JSON.stringify(e))}catch(e){}}}},fDIX:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return courseGroup&&_$out_.push(' <div class="course-group" data-type="',courseGroup.contactType,'"> <span class="course-group-brief course-group-brief-',courseGroup.accountType.toLowerCase(),'">',courseGroup.brief,'</span> <span class="course-group-title icon-font i-v-right">',"QQ"===courseGroup.contactType?"加群":"联系老师","</span> </div>"),_$out_.join("")}}},fFtK:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.InstitutionGroupImp=t.GroupStatus=void 0;var i,o=r(n("EAVL")),a=r(n("oywu")),u=n("sPX+"),c=n("CarS"),s=n("HuLa");t.GroupStatus=i,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.GROUPING=1]="GROUPING",e[e.EXPIRED=2]="EXPIRED",e[e.SUCCESS=3]="SUCCESS",e[e.INVITED=4]="INVITED",e[e.ENDED=5]="ENDED"}(i||(t.GroupStatus=i={}));var l=function(){function e(t){(0,o.default)(this,e),this.discount=t,this.type=u.InstitutionDiscountType.Group,this.desc="拼团",this.utils=new s.Utils(this.discount),this.status=new c.Status(this.discount,this.utils)}return(0,a.default)(e,[{key:"getId",value:function(){return this.utils.getGroupId()}},{key:"getPrice",value:function(){return this.utils.getGroupPrice()}},{key:"getDecrPrice",value:function(){return this.utils.getDecrPrice()}},{key:"getStatus",value:function(){return this.status.getStatus()}},{key:"listenStatus",value:function(){var e;return(e=this.status).listenStatus.apply(e,arguments)}},{key:"removeListenStatus",value:function(){var e;return(e=this.status).removeListenStatus.apply(e,arguments)}},{key:"emitStatus",value:function(){var e;return(e=this.status).emitStatus.apply(e,arguments)}},{key:"getPayParam",value:function(){return this.getId()?{group_id:this.getId()}:{}}},{key:"getExt",value:function(){var e=this.getId();return e?{returnParam:{groupId:e}}:null}},{key:"getData",value:function(){return Object.assign({},this.discount)}}]),e}();t.InstitutionGroupImp=l},fHfg:function(e,t,n){var r=n("xeH2"),i=(n("m9bP"),r(".header-index-private-msgs"));"ke.qq.com"===location.host&&i.show(),i.on("click",(function(e){e.stopPropagation(),r("#js-private-msgs").triggerHandler("click",!0)})),e.exports=function(){}},faOQ:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe"));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var l=function(e){(0,a.default)(n,e);var t=s(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"openQQConsult",value:function(e){this.jump("mqqwpa://im/chat?chat_type=wpa&version=1&uin=".concat(e.id,"&src_type=web&web_src=m.ke.qq.com"))}}]),n}(r(n("tgnt")).default);t.default=l},faRn:function(e,t,n){"use strict";var r=n("M9qB"),i=n("1RNr"),o=n("Yb2d"),a=n("FE3Q"),u=1,c=2,s=4,l=8,d=16,f=32,p=64;e.exports=function(){var e=o.Deferred();return i.httpMethod({url:"/cgi-bin/identity/info",type:"POST"})({}).then((function(t){if(!t||0!==t.retcode)return e.reject("server error");var n=t.result.role_type||0,i={isMaster:!!(n&u),isPersonal:!!(n&c),isAdmin:!!(n&s),isCustomAdmin:!!(n&l),isCourseTeacher:!!(n&d),isTeacher:!!(n&f),isStudent:!!(n&p)};i.isPlatRole=i.isMaster||i.isPersonal||i.isAdmin||i.isCustomAdmin||i.isCourseTeacher||i.isTeacher;var h="//q.qlogo.cn/g?b=qq&nk="+a.getInfoSync().uin+"&s=100";t.result.face_url=t.result.face_url||((0,r.isOpenPlatformAccount)()?"//10.idqqimg.com/qqke_course_info/ajNVdqHZLLBesYyLTslicyCGuGWWvHTfeibBxUGHUgn1TmZPMWAOwJibOwC9iaMP4U37sic2vIO55mC0/":h),t.result.uid=String(t.result.uid),t.result.face_url=t.result.face_url.replace(/&amp;/g,"&"),o.extend(t.result,i),e.resolve(t.result)}),(function(t){e.reject(t)})),e.promise()}},fcgD:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={PaylayerHandler:!0};t.PaylayerHandler=void 0;var o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=n("siOb"),s=n("uIhe"),l=n("vqVK"),d=n("Fg0+");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=n("/ozl");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=n("Sdd4");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=n("aGje");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var v=n("pEdQ");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},m=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,a.default)(this,e),this.opts=t,this.prefetchData=n,this.isIAP=i,this.priceHandler=new h.PaylayerPrice(n,i),this.discountHandler=new p.PaylayerDiscount(t,n,this.priceHandler,t.discountFilter),this.courseHandler=new f.PaylayerCourse(t,n),this.termHandler=new v.PaylayerTerm(t,n,r),this.channelHandler=new d.PaylayerChannel(n)}return(0,u.default)(e,[{key:"getPaylayerData",value:function(e){var t=e.curTermId,n=e.curDisId,r=e.channel;return g(this,void 0,void 0,o.default.mark((function e(){var i,a,u,d,f,p,h,v,g,m,y,_,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t!==this.lastTid){e.next=2;break}return e.abrupt("return",null);case 2:return this.preHandle(t,n),i=this.updateLastCache(t,n,r),t=i.curTermId,n=i.curDisId,r=i.channel,s.imlog.info("当前切换后的数据：",t,n,r),a=this.opts,u=this.prefetchData,d=u.loginUserInfo,f=u.paylayerData,s.imlog.info("【支付模块】","【组装paylayer数据开始】"),e.next=13,this.discountHandler.getDiscountListWithText(t);case 13:return p=e.sent,e.next=16,this.discountHandler.getCurDiscount({discountList:p,curDisId:n,discountFilter:[c.DiscountType.Group]});case 16:return h=e.sent,v=this.getCurTermId(t,a,f),g=this.priceHandler.getPriceInfo(h),m=this.courseHandler.getCourseInfo(),y=this.termHandler.getTermInfo(v,h),_=this.channelHandler.getChannelInfo(),b={cid:(0,l.getCid)(a),pid:(0,l.getPid)(a),tid:v,channelInfo:_,courseInfo:m,priceInfo:Object.assign(Object.assign({},g),{curDiscount:h,discountList:p}),termInfo:y,userInfo:d,isIAP:this.isIAP,channel:r},this.lastPaylayerData=b,s.imlog.info("【支付模块】","【组装paylayer数据完成】",b),e.abrupt("return",b);case 26:case"end":return e.stop()}}),e,this)})))}},{key:"getCurTermId",value:function(e,t,n){return e||this.getLastTid()||(0,l.getTid)(t)||(0,l.getDefaultTid)(n.detail)}},{key:"updateLastCache",value:function(e,t,n){return e=e||this.lastTid,0!==t&&(t=t||this.lastDisId),""!==n&&(n=n||this.lastChannel||""),this.lastTid=e,this.lastDisId=t,this.lastChannel=n,{curTermId:e,curDisId:t,channel:n}}},{key:"preHandle",value:function(e,t){e&&e!==this.lastTid&&(this.lastDisId=void 0,this.lastChannel=""),t&&t!==this.lastDisId&&(this.lastChannel="")}},{key:"getLastTid",value:function(){return this.lastPaylayerData&&this.lastPaylayerData.tid}}]),e}();t.PaylayerHandler=m},fcjx:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.reportCourseExpo=function(){if(u)return void a.scroll();u=!0;var e=(0,o.default)(c,500);setTimeout((function(){c(),a.on("scroll.viewreport",(function(){e()}))}),500)},t.bindCourseClickReport=function(){$(".container").on("click",".item-img-link, .item-tt-link",(function(){var e=$(this),t=e.closest(".js-course-card-item").find(".item-img-link"),n={module:e.closest("[data-report-module]").data("report-module"),position:e.closest("[data-report-position]").data("report-position"),action:"click"},r=t.data("ispkg"),o=t.data("id");r?n.coursepackageid=o:n.courseid=o,i.default.tdw(n)}))};var i=r(n("lSPl")),o=r(n("sBL/")),a=$(window),u=!1;function c(){var e=$(".course-card-list");e.each((function(t){var n=e.eq(t);!n.data("hasReport")&&n.isOnScreen&&n.isOnScreen()&&(0,i.default.reportCourseFun)(i.default,n,{courseCls:".item-img-link"})}));var t=$(".js-img-entry");t.each((function(e){var n=t.eq(e);!n.data("hasReport")&&n.isOnScreen&&n.isOnScreen()&&i.default.tdw({action:"exposure",module:n.data("report-module")})}))}},fdd6:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.YqhPay=t.YQH_SESSION_KEY=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("P87J"),l=n("R3/i"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};t.YQH_SESSION_KEY="yqh-session";var p=function(){function e(t){(0,o.default)(this,e),this.payOpts=t,this.orderHandler=new l.Order(this.payOpts)}return(0,a.default)(e,[{key:"pay",value:function(){return f(this,void 0,void 0,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.isPC)()){e.next=6;break}return e.next=3,this.pcPay();case 3:t=e.sent,e.next=7;break;case 6:this.h5pay();case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"pcPay",value:function(){var e,t,n;return f(this,void 0,void 0,i.default.mark((function r(){var o,a,u,s,l,d,f,p,h,v,g,m,y,_,b;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.orderHandler.order();case 2:return o=r.sent,a=o.result||{},u=a.token,s=(void 0===u?{}:u).url_params,l=this.payOpts,d=l.displayExt,f=void 0===d?{}:d,p=l.orderReportExt,h=void 0===p?{}:p,v=l.priceInfo,g=l.payParam,m=void 0===g?{}:g,y=f.courseName,_=h.user_name||(null===(e=m.orderReportExt)||void 0===e?void 0:e.user_name),b={courseName:y,qrcodeUrl:s,recharge:null==v?void 0:v.realPrice,userName:_},null===(n=(t=this.payOpts).beforePay)||void 0===n||n.call(t,this.payOpts),window.parent.location.href=this.isQrcodeUrl(s)?"//ke.qq.com/yqhPay.html?".concat((0,c.queryToString)(b)):decodeURIComponent(s),r.abrupt("return",b);case 13:case"end":return r.stop()}}),r,this)})))}},{key:"h5pay",value:function(){var e,t,n,r;return f(this,void 0,void 0,i.default.mark((function o(){var a,u,s,l;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=this.orderHandler.getParsePayOpts(),u=null===(e=null==a?void 0:a.displayExt)||void 0===e?void 0:e.courseName,s=this.orderHandler.getStringifyPayOpts(),l="//m.ke.qq.com/m-core/yqhPay.html?courseName=".concat(u,"&pay_method=YQH"),localStorage&&localStorage.setItem||(l="//m.ke.qq.com/m-core/yqhPay.html?courseName=".concat(u,"&pay_method=YQH&").concat((0,c.queryToString)(s))),null===(t=null===localStorage||void 0===localStorage?void 0:localStorage.setItem)||void 0===t||t.call(localStorage,"yqh-session",JSON.stringify(s)),null===(r=(n=this.payOpts).beforePay)||void 0===r||r.call(n,this.payOpts),c.Jumper.jump(l);case 8:case"end":return i.stop()}}),o,this)})))}},{key:"order",value:function(e){var t=this,n=this.orderHandler.getParsePayOpts(),r=Object.assign(Object.assign({},n.orderReportExt||{}),e);return n.orderReportExt=r,this.orderHandler.order(null,n).then((function(e){var n,r,i=null===(r=null===(n=null==e?void 0:e.result)||void 0===n?void 0:n.token)||void 0===r?void 0:r.url_params;return i&&!t.isQrcodeUrl(i)?(c.Jumper.jump(decodeURIComponent(i)),new Promise((function(){return null}))):e}))}},{key:"isQrcodeUrl",value:function(e){return/qrimg/.test(e)}}]),e}();t.YqhPay=p,d([(0,s.log)("有钱花支付",s.MonitorType.YQH_PAY_SUCC,s.MonitorType.YQH_PAY_ERR)],p.prototype,"pay",null)},fgQW:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getApplyFrontError=f,t.dealError=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,n,r){var i=r.value;return r.value=function(){var e=this;try{for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=i.apply(this,r);return a.then&&a.catch((function(n){return t(e,n)})),a}catch(e){t(this,e)}},r};function t(t,n){var r;(n=n||{}).errMsg=n.errMsg||l.errText.errWordings[n.retcode]||n.msg,n.msg=n.errMsg;var i=t.opts;if(null===(r=null==i?void 0:i.err)||void 0===r||r.call(i,n),!e)throw n}},t.CustomApplyFrontError=void 0;var i=r(n("EAVL")),o=r(n("e4x/")),a=r(n("Udhi")),u=r(n("okMe")),c=r(n("gJqJ")),s=n("eU4E"),l=n("LQr6");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}function f(e){return s.ApplyFrontErrorMap[e]}var p=function(e){(0,o.default)(n,e);var t=d(n);function n(e){var r;(0,i.default)(this,n),r=t.call(this);var o=f(e);return r.retcode=o.retcode,r.msg=o.msg,r}return n}((0,c.default)(Error));t.CustomApplyFrontError=p},fl4e:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<h1 class="clndr-tt">雅思考试日历 <i class="icon-font i-close js-clndr-close"></i></h1><div class="clndr-ctrls"> <i class="icon-font i-v-left clndr-previous-button"></i> <span class="clndr-ctrls-tt">',year,"年",monthIndex+1,'月</span> <i class="icon-font i-v-right clndr-next-button"></i></div><div class="clndr-grid"> <ul class="clndr-grid-week clearfix"> '),$.each(daysOfTheWeek,(function(e,t){_$out_.push(' <li class="clndr-grid-week-item">',t,"</li> ")})),_$out_.push(' </ul> <ul class="clndr-grid-day clearfix"> '),$.each(days,(function(e,t){var n=["clndr-grid-day-item"];t._otherMonth&&n.push("clndr-grid-day-item--other"),t._selected&&n.push("clndr-grid-day-item--selected"),_$out_.push(' <li class="clndr-grid-day-item ',n.join(" "),'">',t.day,"</li> ")})),_$out_.push(' </ul></div><p class="clndr-addition">注：标蓝为未来考试日期</p>'),_$out_.join("")}}},fp7T:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("4qiJ"));var o=[];function a(e){var t=e.target,n=i.default.closest(t,"a"),r=i.default.closest(t,".js-report-link");if(n||r){var a=n||r;o.forEach((function(t){t.apply(null,[a,e])}))}}var u={injectHref:function(){document.removeEventListener("click",a),document.addEventListener("click",a)},addListener:function(e){i.default.isFunction(e)&&o.push(e)},removeListener:function(e){i.default.isFunction(e)&&o.forEach((function(t,n){t===e&&o.splice(n,1)}))}};t.default=u},g8Tr:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.registryFetchErrorHandler=t.fetch=t.getBkn=t.Request=void 0;var i=r(n("EAVL"));t.Request=function e(){(0,i.default)(this,e)};var o=function(e){return function(){throw new Error("[Request]".concat(e," not implements"))}},a=o("getBkn");t.getBkn=a;var u=o("fetch");t.fetch=u;var c=o("registryFetchErrorHandler");t.registryFetchErrorHandler=c},gEte:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHomeworkBook=function(e){var t=e.cid,n=e.termId,a=e.aid,u=e.uin,c=void 0===u?(0,r.getUin)()||"":u,s=e.page,l=void 0===s?0:s,d=e.size,f=void 0===d?10:d,p=e.status,h=void 0===p?i.HomeworkSearchStatus.ALL:p,v=e.search,g=void 0===v?"":v,m=e.userType,y="c"===(void 0===m?"c":m)?"get_homework_list_c":"get_homework_list_b";return(0,r.fetch)("/cgi-proxy/homework/".concat(y),{data:{aid:a,cid:t,uid:c,tid:n,status:h,type:g?1:2,page_index:l,page_size:f,search_key:g}}).then((function(e){var t=e.result;return{uin:c,termId:n,total:t.total_count,page:l,size:f,homeworks:(t.homework_class.homework_users||[]).map((function(e,n){var r=e.homework;return Object.assign(Object.assign({},r),{idx:t.total_count-(l-1)*f-n,hasUnreadComment:!!e.newreview_flag,student_status:e.user_hw_status,total_count:e.submitted_num+e.not_submit_num,submitted_num:e.submitted_num,not_submit_num:e.not_submit_num,need_review_num:e.need_review_num,user_hw_fix:e.user_hw_fix,student_uin:c,exercises:(r.exercises||[]).map(o.exerciseStuffFormater)})})),overview:{homework_num:t.total_count,need_review_num:t.homework_class.need_review_num,student_num:t.homework_class.stu_num}}}))},t.fetchHomeworkBookStatus=function(e){return(0,r.fetch)("/cgi-proxy/homework/get_homework_book",{data:e}).then((function(e){return e.result}))};var r=n("F5LU"),i=n("1OfD"),o=n("pjSC")},gMOL:function(e,t,n){"use strict";function r(e){return!!e.limit_count&&!!e.limit_count}function i(e){var t=r(e),n=e.available_count||0,i=e.locked_count||0,o=e.uin_locked_count||0;return t?n-i+o:0}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.getSeckillId=function(e){return e&&e.discount_id},t.getSeckillPrice=function(e){return e&&e.discount_price},t.isSeckillCountValid=function(e){var t=r(e),n=i(e);return!t||n>0},t.isSeckillLimit=r,t.getSeckillLeftCount=i,t.getSeckillStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e.start_time,r=e.preview_time,i=e.has_preview,a=e.end_time,u=t,c=o.END;i?u<r?c=o.NOT_START:u<n?c=o.IN_SUBSCRIBE:u<a&&(c=o.SECKILLING):u<n?c=o.NOT_START:u<a&&(c=o.SECKILLING);return c},t.isSubscribe=function(e){return e.is_subscribed},t.isInSubscribe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()/1e3,n=e.start_time,r=e.preview_time,i=e.has_preview;return i&&t>r&&t<n},t.isInSeckill=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()/1e3,n=e.start_time,r=e.end_time;return t>n&&t<r},t.SeckillStatus=void 0,t.SeckillStatus=o,function(e){e[e.NOT_START=1]="NOT_START",e[e.IN_SUBSCRIBE=2]="IN_SUBSCRIBE",e[e.SECKILLING=3]="SECKILLING",e[e.END=4]="END"}(o||(t.SeckillStatus=o={}))},gNox:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CdkeyInit=function(e,t){(0,r.fetch)("/cgi-bin/tool/get_user_apply_info",{data:e}).then((function(){t&&t(e)}))};var r=n("F5LU")},gbBI:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getTestid=function(){var e="";try{e=i.default.get(u)||""}catch(e){}return l(""),e};var i=r(n("w7y4")),o=r(n("4qiJ")),a=r(n("fp7T")),u="tdw_data_testid",c="ke.qq.com",s="/";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i.default.setSession(u,e,c,s)}a.default.addListener((function(e,t){var n=t.target,r=o.default.closest(n,"[".concat("data-report-testid","]"));l(r&&r.getAttribute("data-report-testid")||"")}))},gliM:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseDataModel=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=r(n("INZq")),s=n("1rZ3"),l=n("2dtd"),d=n("P87J"),f=n("rRu0"),p=n("GYbC"),h=n("91me"),v=n("X7da"),g=n("1Jy+"),m=n("MQ1n"),y=n("cmcF"),_=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},w=function(){function e(t){(0,o.default)(this,e),this.opts=t,this.iap=!1,this.fetcher=new g.Fetcher(t),this.iapCheck=new s.IapCheck,this.productModel=new y.ProductModel,this.channelModel=new h.ChannelModel,this.discountModel=new v.DiscountModel,this.priceModel=new m.PriceModel}return(0,a.default)(e,[{key:"init",value:function(e){this.iap=e}},{key:"processData",value:function(){var e;return b(this,void 0,void 0,i.default.mark((function t(){var n,r,o,a,u,c,s,l,d,f;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initData();case 2:return t.next=4,this.discountModel.getDiscountMap();case 4:return n=t.sent,r=this.priceModel.getPriceInfo(),o=this.getAddressState(),a=this.channelModel.getChannelMap(r),u=this.productModel.getCurProduct(),c=this.getPhoneInfo(),s=this.getYqhInfo(),l=this.productModel.getProductList(),d=null===(e=this.payDetail)||void 0===e?void 0:e.user,f=this.getChannelState(),this.purchaseData={address:o,channel:f,channelMap:a,curProduct:u,discountMap:n,phoneInfo:c,priceInfo:r,productList:l,user:d,yqhInfo:s},t.abrupt("return",this.purchaseData);case 16:case"end":return t.stop()}}),t,this)})))}},{key:"getPurchaseData",value:function(){return this.purchaseData}},{key:"updateAgencyContactState",value:function(e){return this.agencyContactState=e,this.processData()}},{key:"updateAddressState",value:function(e){return this.addressState=e,this.processData()}},{key:"updateYqhInfo",value:function(e){return this.yqhInfo=e,this.processData()}},{key:"updateInstitutionDiscount",value:function(e){return b(this,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateDiscount(e,f.DiscountTypeStr.Institution);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"updatePlatformDiscount",value:function(e){return b(this,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateDiscount(e,f.DiscountTypeStr.Platform);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"updateChannel",value:function(e){return this.channel=e,this.processData()}},{key:"updateTerm",value:function(e){return b(this,void 0,void 0,i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.productModel.setCurTermIndex(e),n=this.productModel.getTidByInex(e),t.next=4,this.fetcher.fetchData({curTermId:n});case 4:return t.next=6,this.processData();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"updatePayDetail",value:function(){return b(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetcher.fetchBaseData();case 2:return this.payDetail=this.fetcher.getPayDetail(),e.next=5,this.processData();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"initData",value:function(){var e;return b(this,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.payDetail&&this.discountData){t.next=3;break}return t.next=3,null===(e=this.fetcher)||void 0===e?void 0:e.fetchData();case 3:return this.payDetail=this.fetcher.getPayDetail(),this.discountData=this.fetcher.getDiscountData(),this.sasGreyAuthMobileData=this.fetcher.getSasGreyAuthMobileData(),t.next=8,this.iapCheck.checkIAPForDisplay();case 8:this.displayConfig=t.sent,this.initModelData();case 10:case"end":return t.stop()}}),t,this)})))}},{key:"initModelData",value:function(){var e,t,n,r,i,o,a;this.productModel.initData(null===(e=this.payDetail)||void 0===e?void 0:e.detail,null===(t=this.payDetail)||void 0===t?void 0:t.ext,this.opts,this.displayConfig),this.channelModel.initData(null===(r=null===(n=this.discountData)||void 0===n?void 0:n.ke)||void 0===r?void 0:r.channels,this.iap),this.discountModel.initData(this.discountData),this.priceModel.initData(null===(i=this.payDetail)||void 0===i?void 0:i.balance,{final_price:(null===(o=this.discountData)||void 0===o?void 0:o.final_price)||0,original_price:(null===(a=this.discountData)||void 0===a?void 0:a.original_price)||0},this.iap)}},{key:"getPhoneInfo",value:function(){var e,t,n,r,i,o,a,u;return{agencyContactForceState:this.getAgencyAuthMobileState()||(0,p.isDistributeForcePhoneAuth)(),agencyContactState:this.getAgencyContactState(),agency_auth_flag:null===(t=null===(e=this.discountData)||void 0===e?void 0:e.ke)||void 0===t?void 0:t.agency_auth_flag,allow_agency_contact:null===(r=null===(n=this.discountData)||void 0===n?void 0:n.ke)||void 0===r?void 0:r.allow_agency_contact,national_code:null===(o=null===(i=this.payDetail)||void 0===i?void 0:i.user)||void 0===o?void 0:o.national_code,phone:null===(u=null===(a=this.payDetail)||void 0===a?void 0:a.user)||void 0===u?void 0:u.phone}}},{key:"getAddressState",value:function(){var e;return this.addressState?this.addressState:null===(e=this.payDetail)||void 0===e?void 0:e.address}},{key:"getYqhInfo",value:function(){if(this.yqhInfo)return this.yqhInfo}},{key:"getChannelState",value:function(){return this.channel?this.channel:f.ChannelType.DEFAULT}},{key:"getAgencyContactState",value:function(){var e,t;return void 0===this.agencyContactState&&(this.agencyContactState=null===(t=null===(e=this.discountData)||void 0===e?void 0:e.ke)||void 0===t?void 0:t.allow_agency_contact),this.agencyContactState}},{key:"getAgencyAuthMobileState",value:function(){return(0,p.getIsAgencyAuthMobileState)(this.payDetail,this.sasGreyAuthMobileData)}},{key:"updateDiscount",value:function(e,t){return b(this,void 0,void 0,i.default.mark((function n(){var r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.discountModel.getSelectDiscountParam(e,t),n.next=3,this.fetcher.fetchPriceData({select_discounters:r});case 3:return n.next=5,this.processData();case 5:c.default.tdw({action:"click",module:t,ver1:this.discountModel.getCurDiscountIndex(t)===e?1:0});case 6:case"end":return n.stop()}}),n,this)})))}}]),e}();t.PurchaseDataModel=w,_([(0,l.dealError)()],w.prototype,"processData",null),_([(0,d.log)("获取地址state")],w.prototype,"getAddressState",null)},"h/hq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPartnerShare=function(e){return!!e.share_flag},t.getPartnerNeedCount=function(e){return e.count-e.scan_count},t.getPartnerActId=function(e){return e.actid},t.getPartnerTotalCount=function(e){return e.count},t.getPartnerJoinCount=function(e){return e.scan_count},t.getPartnerEndTime=function(e){return e.endtime}},hJeN:function(e,t,n){"use strict";n("6Gce"),n("3kyo")},htin:function(e,t,n){var r=n("q+3g");e.exports=function(){var e="",t="",n=0,i=Number(r.get("uid_type"));return-1!==[2,1002,1008].indexOf(i)?(n=i,e=r.get("uid_uin")||"",t=r.get("uid_a2")||""):(e=r.get("p_luin")||r.get("p_uin")||"",t=r.get("p_lskey")||r.get("p_skey")||"",n=0,e&&(e=parseInt(e.substring(1,e.length),10))),{uid:e=String(e),skey:t,uid_type:n,isWeixinUser:2===n,isOpenPlatformUser:1008===n,isQQUser:2!==n}}},huhR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=function(){for(var e=["saleToken","flowToken","tuin","from"],t=0,n=e.length;t<n;t++){var i=e[t],o=(0,r.query)(i);if(o)return{sourcetype:i,sourcefrom:o}}return{}}(),n=+("0x"+((0,r.query)("tuin")||(0,r.getHash)("tuin"))).toString(10);return e.auin=e.auin||n||"-",e.sourcetype=e.sourcetype||t.sourcetype||"",e.sourcefrom=e.sourcefrom||t.sourcefrom||"",e};var r=n("pNy8")},i6SO:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.IAPChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("uIhe"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},l=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"check",value:function(e){return s(this,void 0,void 0,i.default.mark((function t(){var n,r,o,a,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.paylayerData.ext,r=n.price,o=void 0===r?0:r,a=n.isOnIOS,t.next=4,(0,u.isIAP)();case 4:if(s=t.sent,!(o>0&&!a&&s)){t.next=12;break}return t.next=8,(0,u.getMqq)();case 8:return t.sent.ui.showDialog({title:"温馨提示",text:"抱歉，该课程暂无法购买",cancelBtnText:"知道了",needOkBtn:!1},(function(){})),c.imlog.info("【支付模块】","【支付checkers iap校验失败】"),t.abrupt("return",{pass:!1,msg:"未上架IAP"});case 12:return c.imlog.info("【支付模块】","【支付checkers iap校验成功】"),t.abrupt("return",{pass:!0});case 14:case"end":return t.stop()}}),t)})))}},{key:"filter",value:function(){return(0,u.isIOS)()}}]),e}();t.IAPChecker=l},iGvY:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.MpPay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("uIhe"),s=n("1c9X"),l=n("DjHw"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},f=function(){function e(t){(0,o.default)(this,e),this.payInfo=t,this.orderHandler=new l.Order(t)}return(0,a.default)(e,[{key:"pay",value:function(){return d(this,void 0,void 0,i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.orderHandler.order({ext_msg:{save_order_offerid:"1450014245",save_order_uin_type:"wx_openid"}});case 3:t=e.sent,n=t.result&&t.result.token,r={pf:"midas_group_pay-1000-html5-1000",url_params:n.url_params,is_sandbox:n.is_sandbox},r=encodeURIComponent(JSON.stringify(r)),this.jumpWeAppPay(r,n.openid),c.imlog.info("【支付模块】","【小程序支付跳转】",r),c.imlog.monitor(34647630),e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(0),c.imlog.error("【支付模块】","【小程序支付失败】",e.t0),c.imlog.monitor(34647631),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,12]])})))}},{key:"jumpWeAppPay",value:function(e,t){var n=this,r=this.getPayUrl(e,t),i=this.getWx();i&&i.miniProgram?i.miniProgram&&i.miniProgram.navigateTo({url:r}):(0,u.loadScript)("//res.wx.qq.com/open/js/jweixin-1.3.2.js").then((function(){var e=n.getWx();e&&e.miniProgram.navigateTo(r)}))}},{key:"getWx",value:function(){return window.top&&window.top.window?window.top.wx:window.wx}},{key:"getPayUrl",value:function(e,t){var n=this.payInfo.productid,r=n.fid,i=n.type;return"/pages/".concat((0,u.isWeAppke)()?"":"home/","pay/pay?params=").concat(e,"&openid=").concat(t).concat(i===s.ProductType.Course?"&courseId=".concat(r):"&pkgId=".concat(r))}}]),e}();t.MpPay=f},iQ3l:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFreeLearningCourseCGIData=d,t.fetchFreeLearningCourseCGIDataCache=f,t.hasFreeLearningCourseBonus=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(this,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.apply(void 0,t).then((function(e){var t=(null==e?void 0:e.result)||{},n=t.is_study_course,r=t.has_gift_pack,i=t.is_study_card_expired;return Boolean(n&&r&&!i)})));case 1:case"end":return e.stop()}}),e)})))},t.getTitleText=function(e,t,n){var r;return(r={},(0,o.default)(r,p.init,""),(0,o.default)(r,p.unstart,"学满".concat(t,"分钟领取畅学大礼包")),(0,o.default)(r,p.studying,"再学".concat(n,"分钟领取畅学大礼包")),(0,o.default)(r,p.active,"恭喜你获得畅学大礼包奖励"),(0,o.default)(r,p.got,"已领取畅学大礼包"),(0,o.default)(r,p.none,"学满".concat(t,"分钟可免费获赠本课程")),(0,o.default)(r,p.course,"已免费获赠本课程"),r)[e]},t.getFreeLearningCourseBonusData=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(this,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.apply(void 0,t).then((function(e){var t;return v(null===(t=null==e?void 0:e.result)||void 0===t?void 0:t.reward)})));case 1:case"end":return e.stop()}}),e)})))},t.formatterCourseBonusData=v,t.getFreeLearningBonusCode=function(e,t){return l(this,void 0,void 0,a.default.mark((function n(){var r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.env.get("fetch"),n.abrupt("return",r("/cgi-proxy/cdkey/studycard/create",{body:{meta:t,term_id:e},method:"POST"}));case 2:case"end":return n.stop()}}),n)})))},t.getFreeLearningTeacherWeChat=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(this,void 0,void 0,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.apply(void 0,t).then((function(e){var t,n;return{id:(null===(t=null==e?void 0:e.result)||void 0===t?void 0:t.assistant_id)||"",image:(null===(n=null==e?void 0:e.result)||void 0===n?void 0:n.assistant_qr_code)||""}})));case 1:case"end":return e.stop()}}),e)})))},t.grantStudyCardCourse=function(e){return l(this,void 0,void 0,a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.env.get("fetch"),t.abrupt("return",n("/cgi-proxy/growth_activity/grant_study_card_course",{data:{term_id:e}}));case 2:case"end":return t.stop()}}),t)})))},t.defaultGap=t.defaultUnit=t.FreeLearningBonusCardTheme=t.FreeLearningState=t.FreeLearningBonusType=void 0;var i,o=r(n("aDhn")),a=r(n("gBQG")),u=n("uMWn"),c=n("MR6g"),s=n("9CSF"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.env.get("fetch");return n("/cgi-proxy/growth_activity/get_study_course_detail",Object.assign(Object.assign({},t),{data:{term_id:e}}))}function f(){var e="fetchFreeLearningCourseCGIData";return(i=i||new u.RequestCache).makeCache(d,null,e).apply(void 0,arguments)}t.FreeLearningBonusType={course:"course",dialog:"dialog",popup:"popup",player:"player"};var p={init:"init",unstart:"unstart",studying:"studying",active:"active",got:"got",none:"none",course:"course"};t.FreeLearningState=p;var h={gift:"gift",coupon:"coupon",course:"course"};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=null,n=null,r=null;e.forEach((function(e){var i,o,a,u,c,l,d,f,p,v,g,m,y,_,b,w,k,P,x;if((null==e?void 0:e.reward_type)!==s.RewardItemType.gift||t||(t={theme:h.gift,title:(null==e?void 0:e.material_name)||"",desc:(null==e?void 0:e.material_intro)||"",image:(null==e?void 0:e.material_pic)||""}),(null==e?void 0:e.reward_type)===s.RewardItemType.coupon&&!n){var C="pkg"===(null===(u=null===(a=null===(o=null===(i=null==e?void 0:e.coupon_info)||void 0===i?void 0:i.use_rule_list)||void 0===o?void 0:o[0])||void 0===a?void 0:a.pid)||void 0===u?void 0:u.type);n={theme:h.coupon,title:(null===(d=null===(l=null===(c=null==e?void 0:e.coupon_info)||void 0===c?void 0:c.use_rule_list)||void 0===l?void 0:l[0])||void 0===d?void 0:d.attr1)||"",value:"".concat((null===(f=null==e?void 0:e.coupon_info)||void 0===f?void 0:f.price)||0),courseId:C?"":(null===(m=null===(g=null===(v=null===(p=null==e?void 0:e.coupon_info)||void 0===p?void 0:p.use_rule_list)||void 0===v?void 0:v[0])||void 0===g?void 0:g.pid)||void 0===m?void 0:m.fid)||"",pkgId:C&&(null===(w=null===(b=null===(_=null===(y=null==e?void 0:e.coupon_info)||void 0===y?void 0:y.use_rule_list)||void 0===_?void 0:_[0])||void 0===b?void 0:b.pid)||void 0===w?void 0:w.fid)||"",couponId:(null==e?void 0:e.coupon_id)||""}}(null==e?void 0:e.reward_type)!==s.RewardItemType.course||r||(r={theme:h.course,title:(null===(k=null==e?void 0:e.training_info)||void 0===k?void 0:k.course_name)||"",value:"".concat((null===(P=e.training_info)||void 0===P?void 0:P.price)||0),courseId:"".concat(null===(x=e.training_info)||void 0===x?void 0:x.cid)||""})}));var i=[];return t&&i.push(t),n&&i.push(n),r&&i.push(r),i}t.FreeLearningBonusCardTheme=h;t.defaultUnit="¥";t.defaultGap=12},id1U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("O2te");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},igCg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("vyxa");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},ixpB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IGNORE_ERROR=t.NEED_SHOW_VERIFY_DIALOG=t.NEED_STUDENT_DIALOG=t.ASYNC_BREAK_NO_ERROR=t.errText=void 0;t.errText={errWordings:{12:"管理员不能报名",10004:"iOS系统暂不支持付费报名，<br/>报名请通过电脑登录ke.qq.com。",10005:"支付组件加载失败, 请刷新页面重试",10006:"支付取消",10007:"付费请通过电脑登录ke.qq.com",10008:"验证码取消",10009:"冲突取消",10010:"跳转米大师支付",10011:"iOS动态",101401:"未支持的商品类型",101403:"企业支付已经支付，请勿重复支付",101405:"机构不存在",166417:"上线和白名单课程才能支付",166418:"支付课程没有班级通",106632:"期不存在",106633:"机构被永久清退",106634:"该课程有配套寄送配套实物，请您填写接受配套实物的地址",113137:"优惠券不适用于本课程",113138:"确认付款失败，已经做了任务",114101:"折扣优惠不存在",114102:"折扣优惠不适合于本课程、班级",114104:"不在优惠的有效时间内",167001:"错误的会员类型",167002:"请使用全红包支付",1677013:"课程包不存在",1677014:"有待重试的订单在发货队列，拒绝支付",1677015:"已经支付过了课程，拒绝再次支付",1677016:"老师不能报名自己的授课",1677017:"红包使用时出错",1677018:"该班级被惩罚",1677021:"课点余额不足",106409:"您报名的课程已经结束！",166411:"此课程已经开始上课",166412:"请稍候重试",166415:"您已购买该课程，不需要再次付款！",166416:"免费课程请走免费的流程！",101404:"该课程已经下架！",101402:"您已经报名了此课程",106437:"超出直播类型最大500人的限制！",106446:"机构创建者不能报名此课程！",106438:"您选择的优惠券不存在，请重新尝试！",106439:"您选择的优惠券已被锁定，请重新尝试！",106440:"您选择的优惠券已被使用，请重新尝试！",106441:"您选择的优惠券已被删除，请重新尝试！",106442:"您选择的优惠券已过期，请重新尝试！",106447:"此课程的老师或助教不能报名！",106410:"您报名的课程为付费课程！",104100:"该课程未完成审核或审核不通过!",106631:"该班级名额已报满，请选择名额未满班级报名。",114103:"优惠名额已抢完，请重新购买。",1678136:"当前抢购人数过多，请稍后再试！",1678141:"团购系统错误，请稍后再试",1678142:"该团已超时失效，请重新开团参加学习吧",1678143:"该团已满员，请重新开团参加学习吧",1678144:"拼团优惠不能与其他优惠同时使用！",1678130:"该商品已下架",501006:"请检查姓名或手机号是否正确，如仍有问题可联系客服QQ800082734"},giftedErrWording:{106409:"课程已结束，无法接受赠送了!",101402:"已接受过赠送，无法再接受了!",106447:"您为该课程的老师、助教，无需赠送。!"}};t.ASYNC_BREAK_NO_ERROR=-111111;t.NEED_STUDENT_DIALOG=-188;t.NEED_SHOW_VERIFY_DIALOG=[106666,99999];t.IGNORE_ERROR=[111,-1001,1e5,100021]},jH5F:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=r(n("a3Zo")),l=n("cCMk");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var f=function(e){(0,a.default)(n,e);var t=d(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this)).discount=e,o.utils=r,o.current=l.CouponStatus.DEFAULT,o.utils,o.current,o.discount,o}return(0,o.default)(n,[{key:"getStatus",value:function(){return this.current}},{key:"listenStatus",value:function(e){this.on("status",e)}},{key:"removeListenStatus",value:function(e){this.off("status",e)}},{key:"emitStatus",value:function(e){this.emit("status",e)}}]),n}(s.default);t.Status=f},jJgn:function(e,t,n){var r=n("lSNA");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=n("xeH2"),u=n("Nfwl"),c=n("vzzd"),s=n("lJ4W"),l=n("c1NO"),d=n("kprn"),f=n("v3wa"),p=n("0HC3"),h=n("lSPl"),v=n("zeEe").openHomework,g=n("EY/S"),m=n("I5uA"),y=n("Mrro"),_=a(window),b=window.metaData||{},w=a.cookie.uin(),k="isHideMobileWatchTipsCourseDetail".concat(w);var P,x,C=!1,O=a("#js_float_tab");function A(e){var t=-1!==[4,5].indexOf(e.passcard_status)&&!e.can_accept_course_passcard;return(e.terms||[]).forEach((function(e){(function(e){return-1!==[4,5,101].indexOf(e.pay_status)&&!e.can_accept_course})(e)&&(t=!0)})),t?1:0}function T(){return P||(P=Math.ceil((new Date).getTime()/1e3),x=(new Date).getTime()),Math.ceil(((new Date).getTime()-x)/1e3)+P}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;e.each((function(){var e=a(this);e.on("mouseenter",(function(){var r=this,i=setTimeout((function(){e.data("timer",null),t.call(r,!0)}),n);e.data("timer",i)})).on("mouseleave",(function(){var n=e.data("timer");n&&(clearTimeout(n),t.call(this,!1))}))}))}T.setLastFetchedServerTime=function(e){P=e,x=(new Date).getTime()},e.exports={lazyCall:function(e,t){var n;return function(){var r=arguments,i=this;n&&clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}},initShare:function e(t,n,r){var i,o,c=null;if(!t){var s=u.decode(n.name),l=A(n).toString(),f=a(".js-share-panel");f.off(),f.share({content:"我在腾讯课堂学“".concat(s,"”课程哟，你也来看看吧~。好好学习，Day Day Up！"),pic:window.location.protocol+n.cover_url,url:"".concat(window.location,"&from_uin=").concat(w),title:s,summary:u.decode(n.summary),needRefresh:!0,agencyType:n.agency_type,isApplied:A(n).toString(),tdw:h.tdw}),f.on("mouseenter",(function(){h.tdw({action:"exposure",module:a(this).data("reportModule"),ver1:A(n).toString()})})),f.on("click",".tips--mobile-watch .go-app",(function(){h.tdw({action:"click",module:"watchonphone",ver1:l})})),f.on("click",".tips--share .download",(function(e){var t=a(e.target).data("to");h.tdw({module:"share_save",action:"click",ver3:{weappCodeSave:"wx",qrcodeSave:"qq"}[t],ver1:l})})),f.on("mouseenter",".js-mobile-watch-btn",(function(){c&&c.remove()})),f.on("mouseenter",(function(){window.showWeappCode&&window.showWeappCode.length&&(window.showWeappCode.forEach((function(e){e()})),window.showWeappCode.length=0)})),S(f,(function(e){e&&h.tdw({module:"js_share"===a(this).attr("id")?"share":"watchonphone",action:"hover",ver1:l})}))}w&&d.get(k)||(i=a('<div class="hover-tips text-tips">已支持一键打开手机观看课程，快来试下吧<a class="text-tips-close-btn" id="text_tips_btn"><i class="icon-font i-close"></i></a></div>'),(o=a("#js_mobile-watch")).children(".tips--mobile-watch").before(i),o.on("click","#text_tips_btn",(function(){w&&d.set(k,!0),i.remove()})),setTimeout((function(){i.remove()}),8e3),c=i),r&&a(document).on("updateShareInfo",(function(){e(t,n)}))},isLogin:function(e,t){return!!m.isLogin()||(m.show({succ:function(){f.save(e,t)}}),!1)},isCourseApply:A,checkVideo:s,showQrcode:function(){a(document).on("barReady",(function(){a("#js-qrcode-container").addClass("item-hover-tips__show").addClass("qr-code-detail")}))},disableLinkInPreviewMode:function(e){e&&a("a").attr("href","javascript:void(0);").attr("target","_self")},initTeacherList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(".js-teacher-intro").length&&(new l(o(o({},e),{},{container:a(".teacher-list-slide"),btnForward:".teacher-list-slide--left",btnNext:".teacher-list-slide--right",stepLength:330})),h.tdw({action:"exposure",module:"teacher_intro"}),e.afterSlide&&e.afterSlide())},strEllTeacher:function(){a(".js-teacher-intro").each((function(){var e=a(this),t=e.html().trim(),n=c.substring_plus(t,184,3,14);t!==n&&e.html(n)}))},showPersonNumber:function(){a(".js-item-num").each((function(e){var t=parseInt(a(this).attr("data-num"));0!=t&&a(this).html(function(e){return e?(e>1e7?e="".concat(Math.floor(e/1e7),"千万"):e>1e6?e="".concat(Math.floor(e/1e6),"百万"):e>1e4&&(e="".concat(Math.floor(e/1e4),"万")),e):0}(t))}))},checkFloatTab:function(){return _.scrollTop()>=a("#js_tab").offset().top?C||(C=!0,O.removeClass("hide"),y.show()):C&&(C=!1,O.addClass("hide"),y.hide()),C},getTermByID:function(e){for(var t=b.terms||[],n=0;n<t.length;n++)if(t[n].term_id===e)return t[n];return null},calServerTime:T,getJsonFromUrl:function(){var e=window.location.search,t={};return[void 0===e?"":e].forEach((function(e){(e=e.substr(1))&&e.split("&").forEach((function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}))})),t},genUrlFromParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"?",r="";return Object.keys(t).forEach((function(e){if(void 0!==t[e]){var n=t[e];n=encodeURIComponent(n),r+="&".concat(e,"=").concat(n)}})),r.length?e+n+r.slice(1):e},isIndustryCloud:function(){return"1000502001"===p.query("from")},isLiteCourse:function(){return"1"===(window.metaData&&window.metaData.course_bit_flag||0).toString(2).split("").reverse()[19]},isHomework:function(){var e=p.query("homeworkid");return e&&e.length>0},goToHomework:function(){var e=p.query("homeworkid"),t=b.default_term_info,n=void 0===t?{}:t;g.getInfo().then((function(t){v({homework_id:e,class_id:n.term_id,uid:t.uid,uname:t.nick_name,uid_type:t.uid_type}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isOpen,n=e.link;t||a.Dialog.alert({globalClass:"alert-online-tips",title:"提示",content:"请点击下方按钮，查看作业内容",confirmText:"查看作业",onAccept:function(){window.open(n,"_blank")}})}))}))},useHoverTimes:S}},jbfT:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.AgencyRechargePay=function(e){return l(this,void 0,void 0,i.default.mark((function t(){var n,r,o,l,p,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.imlog.info("【支付模块】","【机构充值】"),t.next=4,d(e);case 4:return f(n=t.sent),t.next=8,(0,a.fetch)("/cgi-bin/pay_access/paytoken",{body:n,method:"POST"});case 8:r=t.sent,u.imlog.info("【支付模块】","【机构充值成功】",r),u.imlog.monitor(34647636),o={orderId:e.orderId,productid:e.productId,type:"agency_recharge"},l=r.result,p=(void 0===l?{}:l).token,h=void 0===p?{}:p,new s.PCMidas(o).pay(h),t.next=22;break;case 17:throw t.prev=17,t.t0=t.catch(0),u.imlog.extra({retcode:t.t0&&t.t0.retcode,platform:(0,c.getPlatform)()}).error("【支付模块】","【机构充值失败】",t.t0),u.imlog.monitor(34647637),t.t0;case 22:case"end":return t.stop()}}),t,null,[[0,17]])})))};var i=r(n("gBQG")),o=r(n("INZq")),a=n("F5LU"),u=n("uIhe"),c=n("vqVK"),s=n("IvuC"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function d(e){return l(this,void 0,void 0,i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.getSource)();case 2:return n=t.sent,r=o.default.getReportData(),t.abrupt("return",{discountinfo:{},order_report:{extend:{unifiedplatform:parseInt(r.platform,10)||1}},report:{monitor:{platform:r.platform},platform:(0,c.getPlatform)()},productid:{fid:e.productId,sid:"".concat(e.orderId),type:"agency_recharge"},source:n});case 5:case"end":return t.stop()}}),t)})))}function f(e){e.report=JSON.stringify(e.report),e.productid=JSON.stringify(e.productid),e.order_report.extend=JSON.stringify(e.order_report.extend),e.order_report=JSON.stringify(e.order_report),e.discountinfo=JSON.stringify(e.discountinfo)}},jbgf:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="js-clndr "> <div class="clndr-mask"> </div> <div class="js-clndr-wrap clndr-wrap"></div></div>'),_$out_.join("")}}},jrWk:function(e,t,n){var r,i,o=n("cDf5"),a=window.document,u=window.location,c=window.jQuery,s=window.$,l={},d=[],f=d.concat,p=d.push,h=d.slice,v=d.indexOf,g=l.toString,m=l.hasOwnProperty,y="1.9.1".trim,_=function e(t,n){return new e.fn.init(t,n,i)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,P=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,O=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,T=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,S=/^-ms-/,E=/-([\da-z])/gi,I=function(e,t){return t.toUpperCase()},D=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(j(),_.ready())},j=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",D,!1),window.removeEventListener("load",D,!1)):(a.detachEvent("onreadystatechange",D),window.detachEvent("onload",D))};
/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */function R(e){var t=e.length,n=_.type(e);return!_.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}(_.fn=_.prototype={jquery:"1.9.1",constructor:_,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if((r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:P.exec(e))&&(r[1]||!t)){if(r[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),x.test(r[1])&&_.isPlainObject(t))for(r in t)_.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((i=a.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return n.find(e);this.length=1,this[0]=i}return this.context=a,this.selector=e,this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):_.isFunction(e)?n.ready(e):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),_.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return _.each(this,e,t)},ready:function(e){return _.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(_.map(this,(function(t,n){return e.call(t,n,t)})))},end:function(){return this.prevObject||this.constructor(null)},push:p,sort:[].sort,splice:[].splice}).init.prototype=_.fn,_.extend=_.fn.extend=function(){var e,t,n,r,i,a,u=arguments[0]||{},c=1,s=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[1]||{},c=2),"object"===o(u)||_.isFunction(u)||(u={}),s===c&&(u=this,--c);c<s;c++)if(null!=(i=arguments[c]))for(r in i)e=u[r],u!==(n=i[r])&&(l&&n&&(_.isPlainObject(n)||(t=_.isArray(n)))?(t?(t=!1,a=e&&_.isArray(e)?e:[]):a=e&&_.isPlainObject(e)?e:{},u[r]=_.extend(l,a,n)):void 0!==n&&(u[r]=n));return u},_.extend({noConflict:function(e){return window.$===_&&(window.$=s),e&&window.jQuery===_&&(window.jQuery=c),_},isReady:!1,readyWait:1,holdReady:function(e){e?_.readyWait++:_.ready(!0)},ready:function(e){if(!(!0===e?--_.readyWait:_.isReady)){if(!a.body)return setTimeout(_.ready);_.isReady=!0,!0!==e&&--_.readyWait>0||(r.resolveWith(a,[_]),_.fn.trigger&&_(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===_.type(e)},isArray:Array.isArray||function(e){return"array"===_.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"===o(e)||"function"==typeof e?l[g.call(e)]||"object":o(e)},isPlainObject:function(e){if(!e||"object"!==_.type(e)||e.nodeType||_.isWindow(e))return!1;try{if(e.constructor&&!m.call(e,"constructor")&&!m.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||m.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=x.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=_.buildFragment([e],t,i),i&&_(i).remove(),_.merge([],r.childNodes))},parseJSON:function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e):null===e?e:"string"==typeof e&&(e=_.trim(e))&&C.test(e.replace(A,"@").replace(T,"]").replace(O,""))?new Function("return ".concat(e))():void _.error("Invalid JSON: ".concat(e))},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||_.error("Invalid XML: ".concat(e)),t},noop:function(){},globalEval:function(e){e&&_.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},camelCase:function(e){return e.replace(S,"ms-").replace(E,I)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=R(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:y&&!y.call("\ufeff ")?function(e){return null==e?"":y.call(e)}:function(e){return null==e?"":"".concat(e).replace(k,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(R(Object(e))?_.merge(n,"string"==typeof e?[e]:e):p.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(v)return v.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;i<n;i++)e[r++]=t[i];else for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r=[],i=0,o=e.length;for(n=!!n;i<o;i++)n!==!!t(e[i],i)&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,o=e.length,a=[];if(R(e))for(;i<o;i++)null!=(r=t(e[i],i,n))&&(a[a.length]=r);else for(i in e)null!=(r=t(e[i],i,n))&&(a[a.length]=r);return f.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),_.isFunction(e))return n=h.call(arguments,2),r=function(){return e.apply(t||this,n.concat(h.call(arguments)))},r.guid=e.guid=e.guid||_.guid++,r},access:function(e,t,n,r,i,o,a){var u=0,c=e.length,s=null==n;if("object"===_.type(n))for(u in i=!0,n)_.access(e,t,u,n[u],!0,o,a);else if(void 0!==r&&(i=!0,_.isFunction(r)||(a=!0),s&&(a?(t.call(e,r),t=null):(s=t,t=function(e,t,n){return s.call(_(e),n)})),t))for(;u<c;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return i?e:s?t.call(e):c?t(e[0],n):o},now:function(){return(new Date).getTime()}}),_.ready.promise=function(e){if(!r)if(r=_.Deferred(),"complete"===a.readyState)setTimeout(_.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",D,!1),window.addEventListener("load",D,!1);else{a.attachEvent("onreadystatechange",D),window.attachEvent("onload",D);var t=!1;try{t=null==window.frameElement&&a.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!_.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}j(),_.ready()}}()}return r.promise(e)},_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){l["[object ".concat(t,"]")]=t.toLowerCase()})),i=_(a);var M={};_.Callbacks=function(e){var t,n,r,i,o,a;e="string"==typeof e?M[e]||function(e){var t=M[e]={};return _.each(e.match(w)||[],(function(e,n){t[n]=!0})),t}(e):_.extend({},e);var u=[],c=!e.once&&[],s=function s(d){for(n=e.memory&&d,r=!0,o=a||0,a=0,i=u.length,t=!0;u&&o<i;o++)if(!1===u[o].apply(d[0],d[1])&&e.stopOnFalse){n=!1;break}t=!1,u&&(c?c.length&&s(c.shift()):n?u=[]:l.disable())},l={add:function(){if(u){var r=u.length;!function t(n){_.each(n,(function(n,r){var i=_.type(r);"function"===i?e.unique&&l.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)}))}(arguments),t?i=u.length:n&&(a=r,s(n))}return this},remove:function(){return u&&_.each(arguments,(function(e,n){for(var r;(r=_.inArray(n,u,r))>-1;)u.splice(r,1),t&&(r<=i&&i--,r<=o&&o--)})),this},has:function(e){return e?_.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=c=n=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,n||l.disable(),this},locked:function(){return!c},fireWith:function(e,n){return n=[e,(n=n||[]).slice?n.slice():n],!u||r&&!c||(t?c.push(n):s(n)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},_.extend({Deferred:function(e){var t=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return _.Deferred((function(n){_.each(t,(function(t,o){var a=o[0],u=_.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=u&&u.apply(this,arguments);e&&_.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n["".concat(a,"With")](this===r?n.promise():this,u?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},i={};return r.pipe=r.then,_.each(t,(function(e,o){var a=o[2],u=o[3];r[o[1]]=a.add,u&&a.add((function(){n=u}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i["".concat(o[0],"With")](this===i?r:this,arguments),this},i["".concat(o[0],"With")]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=h.call(arguments),a=o.length,u=1!==a||e&&_.isFunction(e.promise)?a:0,c=1===u?e:_.Deferred(),s=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?h.call(arguments):i,r===t?c.notifyWith(n,r):--u||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&_.isFunction(o[i].promise)?o[i].promise().done(s(i,r,o)).fail(c.reject).progress(s(i,n,t)):--u;return u||c.resolveWith(r,o),c.promise()}}),_.support=function(){var e,t,n,r,i,u,c,s,l,d,f=a.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=f.getElementsByTagName("*"),n=f.getElementsByTagName("a")[0],!t||!n||!t.length)return{};c=(i=a.createElement("select")).appendChild(a.createElement("option")),r=f.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==f.className,leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!r.value,optSelected:c.selected,enctype:!!a.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===a.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,i.disabled=!0,e.optDisabled=!c.disabled;try{delete f.test}catch(t){e.deleteExpando=!1}for(d in(r=a.createElement("input")).setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),(u=a.createDocumentFragment()).appendChild(r),e.appendChecked=r.checked,e.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,f.attachEvent&&(f.attachEvent("onclick",(function(){e.noCloneEvent=!1})),f.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})f.setAttribute(s="on".concat(d),"t"),e["".concat(d,"Bubbles")]=s in window||!1===f.attributes[s].expando;return f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===f.style.backgroundClip,_((function(){var t,n,r,i="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=a.getElementsByTagName("body")[0];u&&((t=a.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(t).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(r=f.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=l&&0===r[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===f.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,window.getComputedStyle&&(e.pixelPosition="1%"!==(window.getComputedStyle(f,null)||{}).top,e.boxSizingReliable="4px"===(window.getComputedStyle(f,null)||{width:"4px"}).width,(n=f.appendChild(a.createElement("div"))).style.cssText=f.style.cssText=i,n.style.marginRight=n.style.width="0",f.style.width="1px",e.reliableMarginRight=!parseFloat((window.getComputedStyle(n,null)||{}).marginRight)),"undefined"!==o(f.style.zoom)&&(f.innerHTML="",f.style.cssText="".concat(i,"width:1px;padding:1px;display:inline;zoom:1"),e.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.innerHTML="<div></div>",f.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==f.offsetWidth,e.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(t),t=f=r=n=null)})),t=i=u=c=n=r=null,e}();var L,N,q=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,F=/([A-Z])/g;function U(e,t,n,r){if(_.acceptData(e)){var i,a,u=_.expando,c="string"==typeof t,s=e.nodeType,l=s?_.cache:e,f=s?e[u]:e[u]&&u;if(f&&l[f]&&(r||l[f].data)||!c||void 0!==n)return f||(s?e[u]=f=d.pop()||_.guid++:f=u),l[f]||(l[f]={},s||(l[f].toJSON=_.noop)),"object"!==o(t)&&"function"!=typeof t||(r?l[f]=_.extend(l[f],t):l[f].data=_.extend(l[f].data,t)),i=l[f],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[_.camelCase(t)]=n),c?null==(a=i[t])&&(a=i[_.camelCase(t)]):a=i,a}}function B(e,t,n){if(_.acceptData(e)){var r,i,o,a=e.nodeType,u=a?_.cache:e,c=a?e[_.expando]:_.expando;if(u[c]){if(t&&(o=n?u[c]:u[c].data)){for((r=0,i=(t=_.isArray(t)?t.concat(_.map(t,_.camelCase)):t in o||(t=_.camelCase(t))in o?[t]:t.split(" ")).length);r<i;r++)delete o[t[r]];if(!(n?$:_.isEmptyObject)(o))return}(n||(delete u[c].data,$(u[c])))&&(a?_.cleanData([e],!0):_.support.deleteExpando||u!=u.window?delete u[c]:u[c]=null)}}}function H(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-".concat(t.replace(F,"-$1").toLowerCase());if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:"".concat(+n)===n?+n:q.test(n)?_.parseJSON(n):n)}catch(e){}_.data(e,t,n)}else n=void 0}return n}function $(e){var t;for(t in e)if(("data"!==t||!_.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}_.extend({cache:{},expando:"jQuery".concat(("1.9.1"+Math.random()).replace(/\D/g,"")),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?_.cache[e[_.expando]]:e[_.expando])&&!$(e)},data:function(e,t,n){return U(e,t,n)},removeData:function(e,t){return B(e,t)},_data:function(e,t,n){return U(e,t,n,!0)},_removeData:function(e,t){return B(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&_.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),_.fn.extend({data:function(e,t){var n,r,i=this[0],a=0,u=null;if(void 0===e){if(this.length&&(u=_.data(i),1===i.nodeType&&!_._data(i,"parsedAttrs"))){for(n=i.attributes;a<n.length;a++)(r=n[a].name).indexOf("data-")||(r=_.camelCase(r.slice(5)),H(i,r,u[r]));_._data(i,"parsedAttrs",!0)}return u}return"object"===o(e)?this.each((function(){_.data(this,e)})):_.access(this,(function(t){if(void 0===t)return i?H(i,e,_.data(i,e)):null;this.each((function(){_.data(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){_.removeData(this,e)}))}}),_.extend({queue:function(e,t,n){var r;if(e)return t="".concat(t||"fx","queue"),r=_._data(e,t),n&&(!r||_.isArray(n)?r=_._data(e,t,_.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=_.queue(e,t=t||"fx"),r=n.length,i=n.shift(),o=_._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){_.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n="".concat(t,"queueHooks");return _._data(e,n)||_._data(e,n,{empty:_.Callbacks("once memory").add((function(){_._removeData(e,"".concat(t,"queue")),_._removeData(e,n)}))})}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each((function(){var n=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_.dequeue(this,e)}))},delay:function(e,t){return e=_.fx&&_.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=_.Deferred(),o=this,a=this.length,u=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=_._data(o[a],"".concat(e,"queueHooks")))&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var G=/[\t\r\n]/g,Y=/\r/g,J=/^(?:input|select|textarea|button|object)$/i,W=/^(?:a|area)$/i,Q=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,V=/^(?:checked|selected)$/i,z=_.support.getSetAttribute,X=_.support.input;_.fn.extend({attr:function(e,t){return _.access(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){_.removeAttr(this,e)}))},prop:function(e,t){return _.access(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return e=_.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(e){}}))},addClass:function(e){var t,n,r,i,o,a=0,u=this.length,c="string"==typeof e&&e;if(_.isFunction(e))return this.each((function(t){_(this).addClass(e.call(this,t,this.className))}));if(c)for(t=(e||"").match(w)||[];a<u;a++)if(r=1===(n=this[a]).nodeType&&(n.className?" ".concat(n.className," ").replace(G," "):" ")){for(o=0;i=t[o++];)r.indexOf(" ".concat(i," "))<0&&(r+="".concat(i," "));n.className=_.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,u=this.length,c=0===arguments.length||"string"==typeof e&&e;if(_.isFunction(e))return this.each((function(t){_(this).removeClass(e.call(this,t,this.className))}));if(c)for(t=(e||"").match(w)||[];a<u;a++)if(r=1===(n=this[a]).nodeType&&(n.className?" ".concat(n.className," ").replace(G," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" ".concat(i," "))>=0;)r=r.replace(" ".concat(i," ")," ");n.className=e?_.trim(r):""}return this},toggleClass:function(e,t){var n=o(e),r="boolean"==typeof t;return _.isFunction(e)?this.each((function(n){_(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var i,o=0,a=_(this),u=t,c=e.match(w)||[];i=c[o++];)u=r?u:!a.hasClass(i),a[u?"addClass":"removeClass"](i);else"undefined"!==n&&"boolean"!==n||(this.className&&_._data(this,"__className__",this.className),this.className=this.className||!1===e?"":_._data(this,"__className__")||"")}))},hasClass:function(e){for(var t=" ".concat(e," "),n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&" ".concat(this[n].className," ").replace(G," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];return arguments.length?(r=_.isFunction(e),this.each((function(t){var i,o=_(this);1===this.nodeType&&(null==(i=r?e.call(this,t,o.val()):e)?i="":"number"==typeof i?i+="":_.isArray(i)&&(i=_.map(i,(function(e){return null==e?"":"".concat(e)}))),(n=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,i,"value")||(this.value=i))}))):i?(n=_.valHooks[i.type]||_.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(i,"value"))?t:"string"==typeof(t=i.value)?t.replace(Y,""):null==t?"":t:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],u=o?i+1:r.length,c=i<0?u:o?i:0;c<u;c++)if(((n=r[c]).selected||c===i)&&(_.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!_.nodeName(n.parentNode,"optgroup"))){if(t=_(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=_.makeArray(t);return _(e).find("option").each((function(){this.selected=_.inArray(_(this).val(),n)>=0})),n.length||(e.selectedIndex=-1),n}}},attr:function(e,t,n){var r,i,a,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return"undefined"===o(e.getAttribute)?_.prop(e,t,n):((i=1!==u||!_.isXMLDoc(e))&&(t=t.toLowerCase(),r=_.attrHooks[t]||(Q.test(t)?N:L)),void 0===n?r&&i&&"get"in r&&null!==(a=r.get(e,t))?a:("undefined"!==o(e.getAttribute)&&(a=e.getAttribute(t)),null==a?void 0:a):null!==n?r&&i&&"set"in r&&void 0!==(a=r.set(e,n,t))?a:(e.setAttribute(t,"".concat(n)),n):void _.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)for(;n=o[i++];)r=_.propFix[n]||n,Q.test(n)?!z&&V.test(n)?e[_.camelCase("default-".concat(n))]=e[r]=!1:e[r]=!1:_.attr(e,n,""),e.removeAttribute(z?n:r)},attrHooks:{type:{set:function(e,t){if(!_.support.radioValue&&"radio"===t&&_.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!_.isXMLDoc(e))&&(t=_.propFix[t]||t,i=_.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):J.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:void 0}}}}),N={get:function(e,t){var n=_.prop(e,t),r="boolean"==typeof n&&e.getAttribute(t),i="boolean"==typeof n?X&&z?null!=r:V.test(t)?e[_.camelCase("default-".concat(t))]:!!r:e.getAttributeNode(t);return i&&!1!==i.value?t.toLowerCase():void 0},set:function(e,t,n){return!1===t?_.removeAttr(e,n):X&&z||!V.test(n)?e.setAttribute(!z&&_.propFix[n]||n,n):e[_.camelCase("default-".concat(n))]=e[n]=!0,n}},X&&z||(_.attrHooks.value={get:function(e,t){var n=e.getAttributeNode(t);return _.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:void 0},set:function(e,t,n){if(!_.nodeName(e,"input"))return L&&L.set(e,t,n);e.defaultValue=t}}),z||(L=_.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&("id"===t||"name"===t||"coords"===t?""!==n.value:n.specified)?n.value:void 0},set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},_.attrHooks.contenteditable={get:L.get,set:function(e,t,n){L.set(e,""!==t&&t,n)}},_.each(["width","height"],(function(e,t){_.attrHooks[t]=_.extend(_.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})}))),_.support.hrefNormalized||(_.each(["href","src","width","height"],(function(e,t){_.attrHooks[t]=_.extend(_.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null==n?void 0:n}})})),_.each(["href","src"],(function(e,t){_.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}))),_.support.style||(_.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText="".concat(t)}}),_.support.optSelected||(_.propHooks.selected=_.extend(_.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),_.support.enctype||(_.propFix.enctype="encoding"),_.support.checkOn||_.each(["radio","checkbox"],(function(){_.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}})),_.each(["radio","checkbox"],(function(){_.valHooks[this]=_.extend(_.valHooks[this],{set:function(e,t){if(_.isArray(t))return e.checked=_.inArray(_(e).val(),t)>=0}})}));var K=/^(?:input|select|textarea)$/i,Z=/^key/,ee=/^(?:mouse|contextmenu)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ne=/^([^.]*)(?:\.(.+)|)$/;function re(){return!0}function ie(){return!1}_.event={global:{},add:function(e,t,n,r,i){var a,u,c,s,l,d,f,p,h,v,g,m=_._data(e);if(m){for(n.handler&&(n=(s=n).handler,i=s.selector),n.guid||(n.guid=_.guid++),(u=m.events)||(u=m.events={}),(d=m.handle)||((d=m.handle=function(e){return"undefined"===o(_)||e&&_.event.triggered===e.type?void 0:_.event.dispatch.apply(d.elem,arguments)}).elem=e),c=(t=(t||"").match(w)||[""]).length;c--;)h=g=(a=ne.exec(t[c])||[])[1],v=(a[2]||"").split(".").sort(),l=_.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=_.event.special[h]||{},f=_.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&_.expr.match.needsContext.test(i),namespace:v.join(".")},s),(p=u[h])||((p=u[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,v,d)||(e.addEventListener?e.addEventListener(h,d,!1):e.attachEvent&&e.attachEvent("on".concat(h),d))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,f):p.push(f),_.event.global[h]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,u,c,s,l,d,f,p,h,v,g=_.hasData(e)&&_._data(e);if(g&&(l=g.events)){for(s=(t=(t||"").match(w)||[""]).length;s--;)if(p=v=(u=ne.exec(t[s])||[])[1],h=(u[2]||"").split(".").sort(),p){for(d=_.event.special[p]||{},f=l[p=(r?d.delegateType:d.bindType)||p]||[],u=u[2]&&new RegExp("(^|\\.)".concat(h.join("\\.(?:.*\\.|)"),"(\\.|$)")),c=o=f.length;o--;)a=f[o],!i&&v!==a.origType||n&&n.guid!==a.guid||u&&!u.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));c&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||_.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)_.event.remove(e,p+t[s],n,r,!0);_.isEmptyObject(l)&&(delete g.handle,_._removeData(e,"events"))}},trigger:function(e,t,n,r){var i,u,c,s,l,d,f,p=[n||a],h=m.call(e,"type")?e.type:e,v=m.call(e,"namespace")?e.namespace.split("."):[];if(c=d=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!te.test(h+_.event.triggered)&&(h.indexOf(".")>=0&&(v=h.split("."),h=v.shift(),v.sort()),u=h.indexOf(":")<0&&"on".concat(h),(e=e[_.expando]?e:new _.Event(h,"object"===o(e)&&e)).isTrigger=!0,e.namespace=v.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)".concat(v.join("\\.(?:.*\\.|)"),"(\\.|$)")):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:_.makeArray(t,[e]),l=_.event.special[h]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!_.isWindow(n)){for(s=l.delegateType||h,te.test(s+h)||(c=c.parentNode);c;c=c.parentNode)p.push(c),d=c;d===(n.ownerDocument||a)&&p.push(d.defaultView||d.parentWindow||window)}for(f=0;(c=p[f++])&&!e.isPropagationStopped();)e.type=f>1?s:l.bindType||h,(i=(_._data(c,"events")||{})[e.type]&&_._data(c,"handle"))&&i.apply(c,t),(i=u&&c[u])&&_.acceptData(c)&&i.apply&&!1===i.apply(c,t)&&e.preventDefault();if(e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(n.ownerDocument,t))&&("click"!==h||!_.nodeName(n,"a"))&&_.acceptData(n)&&u&&n[h]&&!_.isWindow(n)){(d=n[u])&&(n[u]=null),_.event.triggered=h;try{n[h]()}catch(e){}_.event.triggered=void 0,d&&(n[u]=d)}return e.result}},dispatch:function(e){var t,n,r,i,o;e=_.event.fix(e);var a=[],u=h.call(arguments),c=(_._data(this,"events")||{})[e.type]||[],s=_.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!s.preDispatch||!1!==s.preDispatch.call(this,e)){for(a=_.event.handlers.call(this,e,c),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((_.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,u))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return s.postDispatch&&s.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(i=[],o=0;o<u;o++)r=t[o],void 0===i[n="".concat(r.selector," ")]&&(i[n]=r.needsContext?_(n,this).index(c)>=0:_.find(n,this,null,[c]).length),i[n]&&i.push(r);i.length&&a.push({elem:c,handlers:i})}return u<t.length&&a.push({elem:this,handlers:t.slice(u)}),a},fix:function(e){if(e[_.expando])return e;var t,n,r,i=e.type,o=e,u=this.fixHooks[i];for(u||(this.fixHooks[i]=u=ee.test(i)?this.mouseHooks:Z.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new _.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,u=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||a).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?t.toElement:u),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(_.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==a.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===a.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=_.extend(new _.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?_.event.trigger(i,null,t):_.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},_.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on".concat(t);e.detachEvent&&("undefined"===o(e[r])&&(e[r]=null),e.detachEvent(r,n))},(_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?re:ie):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||_.now(),this[_.expando]=!0}).prototype={isDefaultPrevented:ie,isPropagationStopped:ie,isImmediatePropagationStopped:ie,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=re,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=re,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=re,this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||_.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),_.support.submitBubbles||(_.event.special.submit={setup:function(){if(_.nodeName(this,"form"))return!1;_.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=_.nodeName(t,"input")||_.nodeName(t,"button")?t.form:void 0;n&&!_._data(n,"submitBubbles")&&(_.event.add(n,"submit._submit",(function(e){e._submit_bubble=!0})),_._data(n,"submitBubbles",!0))}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&_.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(_.nodeName(this,"form"))return!1;_.event.remove(this,"._submit")}}),_.support.changeBubbles||(_.event.special.change={setup:function(){if(K.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(_.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),_.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),_.event.simulate("change",this,e,!0)}))),!1;_.event.add(this,"beforeactivate._change",(function(e){var t=e.target;K.test(t.nodeName)&&!_._data(t,"changeBubbles")&&(_.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||_.event.simulate("change",this.parentNode,e,!0)})),_._data(t,"changeBubbles",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return _.event.remove(this,"._change"),!K.test(this.nodeName)}}),_.support.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=0,r=function(e){_.event.simulate(t,e.target,_.event.fix(e),!0)};_.event.special[t]={setup:function(){0==n++&&a.addEventListener(e,r,!0)},teardown:function(){0==--n&&a.removeEventListener(e,r,!0)}}})),_.fn.extend({on:function(e,t,n,r,i){var a,u;if("object"===o(e)){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=ie;else if(!r)return this;return 1===i&&(u=r,(r=function(e){return _().off(e),u.apply(this,arguments)}).guid=u.guid||(u.guid=_.guid++)),this.each((function(){_.event.add(this,e,r,n,t)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,_(e.delegateTarget).off(r.namespace?"".concat(r.origType,".").concat(r.namespace):r.origType,r.selector,r.handler),this;if("object"===o(e)){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ie),this.each((function(){_.event.remove(this,e,n,t)}))},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each((function(){_.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){var n,r,i,a,u,c,s,l,d,f,p,h,v,g,m,y,b,w="sizzle".concat(-new Date),k=e.document,P={},x=0,C=0,O=ne(),A=ne(),T=ne(),S=o(void 0),E=[],I=E.pop,D=E.push,j=E.slice,R=E.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},M="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=L.replace("w","w#"),q="\\[".concat(M,"*(").concat(L,")").concat(M,"*(?:").concat("([*^$|!~]?=)").concat(M,"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(").concat(N,")|)|)").concat(M,"*\\]"),F=":(".concat(L,")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|").concat(q.replace(3,8),")*)|.*)\\)|)"),U=new RegExp("^".concat(M,"+|((?:^|[^\\\\])(?:\\\\.)*)").concat(M,"+$"),"g"),B=new RegExp("^".concat(M,"*,").concat(M,"*")),H=new RegExp("^".concat(M,"*([\\x20\\t\\r\\n\\f>+~])").concat(M,"*")),$=new RegExp(F),G=new RegExp("^".concat(N,"$")),Y={ID:new RegExp("^#(".concat(L,")")),CLASS:new RegExp("^\\.(".concat(L,")")),NAME:new RegExp("^\\[name=['\"]?(".concat(L,")['\"]?\\]")),TAG:new RegExp("^(".concat(L.replace("w","w*"),")")),ATTR:new RegExp("^".concat(q)),PSEUDO:new RegExp("^".concat(F)),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(".concat(M,"*(even|odd|(([+-]|)(\\d*)n|)").concat(M,"*(?:([+-]|)").concat(M,"*(\\d+)|))").concat(M,"*\\)|)"),"i"),needsContext:new RegExp("^".concat(M,"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(").concat(M,"*((?:-\\d)?\\d*)").concat(M,"*\\)|)(?=[^-]|$)"),"i")},J=/[\x20\t\r\n\f]*[+~]/,W=/^[^{]+\{\s*\[native code/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,V=/^(?:input|select|textarea|button)$/i,z=/^h\d$/i,X=/'|\\/g,K=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Z=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ee=function(e,t){var n="0x".concat(t)-65536;return n!=n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{j.call(k.documentElement.childNodes,0)[0].nodeType}catch(e){j=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}function te(e){return W.test("".concat(e))}function ne(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function re(e){return e[w]=!0,e}function ie(e){var t=f.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}}function oe(e,t,n,r){var o,a,u,s,l,p,g,m,_,b;if((t?t.ownerDocument||t:k)!==f&&d(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||f).nodeType)&&9!==s)return[];if(!h&&!r){if(o=Q.exec(e))if(u=o[1]){if(9===s){if(!(a=t.getElementById(u))||!a.parentNode)return n;if(a.id===u)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(u))&&y(t,a)&&a.id===u)return n.push(a),n}else{if(o[2])return D.apply(n,j.call(t.getElementsByTagName(e),0)),n;if((u=o[3])&&P.getByClassName&&t.getElementsByClassName)return D.apply(n,j.call(t.getElementsByClassName(u),0)),n}if(P.qsa&&!v.test(e)){if(g=!0,m=w,_=t,b=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(p=le(e),(g=t.getAttribute("id"))?m=g.replace(X,"\\$&"):t.setAttribute("id",m),m="[id='".concat(m,"'] "),l=p.length;l--;)p[l]=m+de(p[l]);_=J.test(e)&&t.parentNode||t,b=p.join(",")}if(b)try{return D.apply(n,j.call(_.querySelectorAll(b),0)),n}catch(e){}finally{g||t.removeAttribute("id")}}}return function(e,t,n,r){var o,a,u,s,l,d=le(e);if(!r&&1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!h&&i.relative[a[1].type]){if(!(t=i.find.ID(u.matches[0].replace(Z,ee),t)[0]))return n;e=e.slice(a.shift().value.length)}for(o=Y.needsContext.test(e)?0:a.length;o--&&(u=a[o],!i.relative[s=u.type]);)if((l=i.find[s])&&(r=l(u.matches[0].replace(Z,ee),J.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),!(e=r.length&&de(a)))return D.apply(n,j.call(r,0)),n;break}}return c(e,d)(r,t,h,n,J.test(e)),n}(e.replace(U,"$1"),t,n,r)}function ae(e,t){var n=t&&e,r=n&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ce(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function se(e){return re((function(t){return t=+t,re((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}for(n in u=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=oe.setDocument=function(e){var t=e?e.ownerDocument||e:k;return t!==f&&9===t.nodeType&&t.documentElement?(f=t,p=t.documentElement,h=u(t),P.tagNameNoComments=ie((function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length})),P.attributes=ie((function(e){e.innerHTML="<select></select>";var t=o(e.lastChild.getAttribute("multiple"));return"boolean"!==t&&"string"!==t})),P.getByClassName=ie((function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)})),P.getByName=ie((function(e){e.id=w+0,e.innerHTML="<a name='".concat(w,"'></a><div name='").concat(w,"'></div>"),p.insertBefore(e,p.firstChild);var n=t.getElementsByName&&t.getElementsByName(w).length===2+t.getElementsByName(w+0).length;return P.getIdNotName=!t.getElementById(w),p.removeChild(e),n})),i.attrHandle=ie((function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&o(e.firstChild.getAttribute)!==S&&"#"===e.firstChild.getAttribute("href")}))?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},P.getIdNotName?(i.find.ID=function(e,t){if(o(t.getElementById)!==S&&!h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,t){if(o(t.getElementById)!==S&&!h){var n=t.getElementById(e);return n?n.id===e||o(n.getAttributeNode)!==S&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=o(e.getAttributeNode)!==S&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=P.tagNameNoComments?function(e,t){if(o(t.getElementsByTagName)!==S)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},i.find.NAME=P.getByName&&function(e,t){if(o(t.getElementsByName)!==S)return t.getElementsByName(name)},i.find.CLASS=P.getByClassName&&function(e,t){if(o(t.getElementsByClassName)!==S&&!h)return t.getElementsByClassName(e)},g=[],v=[":focus"],(P.qsa=te(t.querySelectorAll))&&(ie((function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\[".concat(M,"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")),e.querySelectorAll(":checked").length||v.push(":checked")})),ie((function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&v.push("[*^$]=".concat(M,"*(?:\"\"|'')")),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(P.matchesSelector=te(m=p.matchesSelector||p.mozMatchesSelector||p.webkitMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ie((function(e){P.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",F)})),v=new RegExp(v.join("|")),g=new RegExp(g.join("|")),y=te(p.contains)||p.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},b=p.compareDocumentPosition?function(e,n){var r;return e===n?(s=!0,0):(r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===t||y(k,e)?-1:n===t||y(k,n)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,a=n.parentNode,u=[e],c=[n];if(e===n)return s=!0,0;if(!o||!a)return e===t?-1:n===t?1:o?-1:a?1:0;if(o===a)return ae(e,n);for(r=e;r=r.parentNode;)u.unshift(r);for(r=n;r=r.parentNode;)c.unshift(r);for(;u[i]===c[i];)i++;return i?ae(u[i],c[i]):u[i]===k?-1:c[i]===k?1:0},s=!1,[0,0].sort(b),P.detectDuplicates=s,f):f},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&d(e),t=t.replace(K,"='$1']"),P.matchesSelector&&!h&&(!g||!g.test(t))&&!v.test(t))try{var n=m.call(e,t);if(n||P.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return oe(t,f,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==f&&d(e),y(e,t)},oe.attr=function(e,t){var n;return(e.ownerDocument||e)!==f&&d(e),h||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):h||P.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&!0===e[t]?t:n&&n.specified?n.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: ".concat(e))},oe.uniqueSort=function(e){var t,n=[],r=1,i=0;if(s=!P.detectDuplicates,e.sort(b),s){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},a=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},i=oe.selectors={cacheLength:50,createPseudo:re,match:Y,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" ".concat(e[3]," ")),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return Y.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&$.test(n)&&(t=le(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(Z,ee).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=O["".concat(e," ")];return t||(t=new RegExp("(^|".concat(M,")").concat(e,"(").concat(M,"|$)")))&&O(e,(function(e){return t.test(e.className||o(e.getAttribute)!==S&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?" ".concat(i," ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)==="".concat(n,"-")))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var s,l,d,f,p,h,v=o!==a?"nextSibling":"previousSibling",g=t.parentNode,m=u&&t.nodeName.toLowerCase(),y=!c&&!u;if(g){if(o){for(;v;){for(d=t;d=d[v];)if(u?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(p=(s=(l=g[w]||(g[w]={}))[e]||[])[0]===x&&s[1],f=s[0]===x&&s[2],d=p&&g.childNodes[p];d=++p&&d&&d[v]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){l[e]=[x,p,f];break}}else if(y&&(s=(t[w]||(t[w]={}))[e])&&s[0]===x)f=s[1];else for(;(d=++p&&d&&d[v]||(f=p=0)||h.pop())&&((u?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++f||(y&&((d[w]||(d[w]={}))[e]=[x,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: ".concat(e));return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?re((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=R.call(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:re((function(e){var t=[],n=[],r=c(e.replace(U,"$1"));return r[w]?re((function(e,t,n,i){for(var o,a=r(e,null,i,[]),u=e.length;u--;)(o=a[u])&&(e[u]=!(t[u]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}})),has:re((function(e){return function(t){return oe(e,t).length>0}})),contains:re((function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}})),lang:re((function(e){return G.test(e||"")||oe.error("unsupported lang: ".concat(e)),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=h?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return(n=n.toLowerCase())===e||0===n.indexOf("".concat(e,"-"))}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return z.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:se((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=ue(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=ce(n);function le(e,t){var n,r,o,a,u,c,s,l=A["".concat(e," ")];if(l)return t?0:l.slice(0);for(u=e,c=[],s=i.preFilter;u;){for(a in n&&!(r=B.exec(u))||(r&&(u=u.slice(r[0].length)||u),c.push(o=[])),n=!1,(r=H.exec(u))&&(n=r.shift(),o.push({value:n,type:r[0].replace(U," ")}),u=u.slice(n.length)),i.filter)!(r=Y[a].exec(u))||s[a]&&!(r=s[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?oe.error(e):A(e,c).slice(0)}function de(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function fe(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,u){var c,s,l,d="".concat(x," ").concat(a);if(u){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,u))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if((s=(l=t[w]||(t[w]={}))[i])&&s[0]===d){if(!0===(c=s[1])||c===r)return!0===c}else if((s=l[i]=[d])[1]=e(t,n,u)||r,!0===s[1])return!0}}function pe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function he(e,t,n,r,i){for(var o,a=[],u=0,c=e.length,s=null!=t;u<c;u++)(o=e[u])&&(n&&!n(o,r,i)||(a.push(o),s&&t.push(u)));return a}function ve(e,t,n,r,i,o){return r&&!r[w]&&(r=ve(r)),i&&!i[w]&&(i=ve(i,o)),re((function(o,a,u,c){var s,l,d,f=[],p=[],h=a.length,v=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||"*",u.nodeType?[u]:u,[]),g=!e||!o&&t?v:he(v,f,e,u,c),m=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,m,u,c),r)for(s=he(m,p),r(s,[],u,c),l=s.length;l--;)(d=s[l])&&(m[p[l]]=!(g[p[l]]=d));if(o){if(i||e){if(i){for(s=[],l=m.length;l--;)(d=m[l])&&s.push(g[l]=d);i(null,m=[],s,c)}for(l=m.length;l--;)(d=m[l])&&(s=i?R.call(o,d):f[l])>-1&&(o[s]=!(a[s]=d))}}else m=he(m===a?m.splice(h,m.length):m),i?i(null,a,m,c):D.apply(a,m)}))}function ge(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],u=a||i.relative[" "],c=a?1:0,s=fe((function(e){return e===t}),u,!0),d=fe((function(e){return R.call(t,e)>-1}),u,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?s(e,n,r):d(e,n,r))}];c<o;c++)if(n=i.relative[e[c].type])f=[fe(pe(f),n)];else{if((n=i.filter[e[c].type].apply(null,e[c].matches))[w]){for(r=++c;r<o&&!i.relative[e[r].type];r++);return ve(c>1&&pe(f),c>1&&de(e.slice(0,c-1)).replace(U,"$1"),n,c<r&&ge(e.slice(c,r)),r<o&&ge(e=e.slice(r)),r<o&&de(e))}f.push(n)}return pe(f)}function me(){}c=oe.compile=function(e,t){var n,o=[],a=[],u=T["".concat(e," ")];if(!u){for(t||(t=le(e)),n=t.length;n--;)(u=ge(t[n]))[w]?o.push(u):a.push(u);u=T(e,function(e,t){var n=0,o=t.length>0,a=e.length>0,u=function(u,c,s,d,p){var h,v,g,m=[],y=0,_="0",b=u&&[],w=null!=p,k=l,P=u||a&&i.find.TAG("*",p&&c.parentNode||c),C=x+=null==k?1:Math.random()||.1;for(w&&(l=c!==f&&c,r=n);null!=(h=P[_]);_++){if(a&&h){for(v=0;g=e[v++];)if(g(h,c,s)){d.push(h);break}w&&(x=C,r=++n)}o&&((h=!g&&h)&&y--,u&&b.push(h))}if(y+=_,o&&_!==y){for(v=0;g=t[v++];)g(b,m,c,s);if(u){if(y>0)for(;_--;)b[_]||m[_]||(m[_]=I.call(d));m=he(m)}D.apply(d,m),w&&!u&&m.length>0&&y+t.length>1&&oe.uniqueSort(d)}return w&&(x=C,l=k),b};return o?re(u):u}(a,o))}return u},i.pseudos.nth=i.pseudos.eq,i.filters=me.prototype=i.pseudos,i.setFilters=new me,d(),oe.attr=_.attr,_.find=oe,(_.expr=oe.selectors)[":"]=_.expr.pseudos,_.unique=oe.uniqueSort,_.text=oe.getText,_.isXMLDoc=oe.isXML,_.contains=oe.contains}(window);var oe=/Until$/,ae=/^(?:parents|prev(?:Until|All))/,ue=/^.[^:#\[\.,]*$/,ce=_.expr.match.needsContext,se={children:!0,contents:!0,next:!0,prev:!0};function le(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function de(e,t,n){if(_.isFunction(t=t||0))return _.grep(e,(function(e,r){return!!t.call(e,r,e)===n}));if(t.nodeType)return _.grep(e,(function(e){return e===t===n}));if("string"==typeof t){var r=_.grep(e,(function(e){return 1===e.nodeType}));if(ue.test(t))return _.filter(t,r,!n);t=_.filter(t,r)}return _.grep(e,(function(e){return _.inArray(e,t)>=0===n}))}function fe(e){var t=ge.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}_.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(_(e).filter((function(){for(t=0;t<i;t++)if(_.contains(r[t],this))return!0})));for(n=[],t=0;t<i;t++)_.find(e,this[t],n);return(n=this.pushStack(i>1?_.unique(n):n)).selector=(this.selector?"".concat(this.selector," "):"")+e,n},has:function(e){var t,n=_(e,this),r=n.length;return this.filter((function(){for(t=0;t<r;t++)if(_.contains(this,n[t]))return!0}))},not:function(e){return this.pushStack(de(this,e,!1))},filter:function(e){return this.pushStack(de(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?ce.test(e)?_(e,this.context).index(this[0])>=0:_.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?_(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:_.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?_.unique(o):o)},index:function(e){return e?"string"==typeof e?_.inArray(this[0],_(e)):_.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?_(e,t):_.makeArray(e&&e.nodeType?[e]:e),r=_.merge(this.get(),n);return this.pushStack(_.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.fn.andSelf=_.fn.addBack,_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _.dir(e,"parentNode")},parentsUntil:function(e,t,n){return _.dir(e,"parentNode",n)},next:function(e){return le(e,"nextSibling")},prev:function(e){return le(e,"previousSibling")},nextAll:function(e){return _.dir(e,"nextSibling")},prevAll:function(e){return _.dir(e,"previousSibling")},nextUntil:function(e,t,n){return _.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return _.dir(e,"previousSibling",n)},siblings:function(e){return _.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return _.sibling(e.firstChild)},contents:function(e){return _.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:_.merge([],e.childNodes)}},(function(e,t){_.fn[e]=function(n,r){var i=_.map(this,t,n);return oe.test(e)||(r=n),r&&"string"==typeof r&&(i=_.filter(r,i)),i=this.length>1&&!se[e]?_.unique(i):i,this.length>1&&ae.test(e)&&(i=i.reverse()),this.pushStack(i)}})),_.extend({filter:function(e,t,n){return n&&(e=":not(".concat(e,")")),1===t.length?_.find.matchesSelector(t[0],e)?[t[0]]:[]:_.find.matches(e,t)},dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!_(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var pe,he,ve,ge="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:null|\d+)"/g,ye=new RegExp("<(?:".concat(ge,")[\\s/>]"),"i"),_e=/^\s+/,be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,we=/<([\w:]+)/,ke=/<tbody/i,Pe=/<|&#?\w+;/,xe=/<(?:script|style|link)/i,Ce=/^(?:checkbox|radio)$/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^$|\/(?:java|ecma)script/i,Te=/^true\/(.*)/,Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ee={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:_.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ie=fe(a).appendChild(a.createElement("div"));function De(e){var t=e.getAttributeNode("type");return e.type="".concat(t&&t.specified,"/").concat(e.type),e}function je(e){var t=Te.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Re(e,t){for(var n,r=0;null!=(n=e[r]);r++)_._data(n,"globalEval",!t||_._data(t[r],"globalEval"))}function Me(e,t){if(1===t.nodeType&&_.hasData(e)){var n,r,i,o=_._data(e),a=_._data(t,o),u=o.events;if(u)for(n in delete a.handle,a.events={},u)for(r=0,i=u[n].length;r<i;r++)_.event.add(t,n,u[n][r]);a.data&&(a.data=_.extend({},a.data))}}function Le(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!_.support.noCloneEvent&&t[_.expando]){for(r in(i=_._data(t)).events)_.removeEvent(t,r,i.handle);t.removeAttribute(_.expando)}"script"===n&&t.text!==e.text?(De(t).text=e.text,je(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),_.support.html5Clone&&e.innerHTML&&!_.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ce.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Ne(e,t){var n,r,i=0,a="undefined"!==o(e.getElementsByTagName)?e.getElementsByTagName(t||"*"):"undefined"!==o(e.querySelectorAll)?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||_.nodeName(r,t)?a.push(r):_.merge(a,Ne(r,t));return void 0===t||t&&_.nodeName(e,t)?_.merge([e],a):a}function qe(e){Ce.test(e.type)&&(e.defaultChecked=e.checked)}Ee.optgroup=Ee.option,Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,_.fn.extend({text:function(e){return _.access(this,(function(e){return void 0===e?_.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))}),null,e,arguments.length)},wrapAll:function(e){if(_.isFunction(e))return this.each((function(t){_(this).wrapAll(e.call(this,t))}));if(this[0]){var t=_(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return _.isFunction(e)?this.each((function(t){_(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=_.isFunction(e);return this.each((function(n){_(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)})).end()},append:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(e)}))},prepend:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(e,this.firstChild)}))},before:function(){return this.domManip(arguments,!1,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,!1,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||_.filter(e,[n]).length>0)&&(t||1!==n.nodeType||_.cleanData(Ne(n)),n.parentNode&&(t&&_.contains(n.ownerDocument,n)&&Re(Ne(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&_.cleanData(Ne(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&_.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _.clone(this,e,t)}))},html:function(e){return _.access(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(me,""):void 0;if("string"==typeof e&&!xe.test(e)&&(_.support.htmlSerialize||!ye.test(e))&&(_.support.leadingWhitespace||!_e.test(e))&&!Ee[(we.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(be,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(Ne(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(e){return _.isFunction(e)||"string"==typeof e||(e=_(e).not(this).detach()),this.domManip([e],!0,(function(e){var t=this.nextSibling,n=this.parentNode;n&&(_(this).remove(),n.insertBefore(e,t))}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){var r,i,o,a,u,c;e=f.apply([],e);var s,l,d=0,p=this.length,h=this,v=p-1,g=e[0],m=_.isFunction(g);if(m||!(p<=1||"string"!=typeof g||_.support.checkClone)&&Oe.test(g))return this.each((function(r){var i=h.eq(r);m&&(e[0]=g.call(this,r,t?i.html():void 0)),i.domManip(e,t,n)}));if(p&&(r=(c=_.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===c.childNodes.length&&(c=r),r)){for(t=t&&_.nodeName(r,"tr"),o=(a=_.map(Ne(c,"script"),De)).length;d<p;d++)i=c,d!==v&&(i=_.clone(i,!0,!0),o&&_.merge(a,Ne(i,"script"))),n.call(t&&_.nodeName(this[d],"table")?(s=this[d],l="tbody",s.getElementsByTagName(l)[0]||s.appendChild(s.ownerDocument.createElement(l))):this[d],i,d);if(o)for(u=a[a.length-1].ownerDocument,_.map(a,je),d=0;d<o;d++)i=a[d],Ae.test(i.type||"")&&!_._data(i,"globalEval")&&_.contains(u,i)&&(i.src?_.ajax({url:i.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):_.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Se,"")));c=r=null}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){_.fn[e]=function(e){for(var n,r=0,i=[],o=_(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),_(o[r])[t](n),p.apply(i,n.get());return this.pushStack(i)}})),_.extend({clone:function(e,t,n){var r,i,o,a,u,c=_.contains(e.ownerDocument,e);if(_.support.html5Clone||_.isXMLDoc(e)||!ye.test("<".concat(e.nodeName,">"))?o=e.cloneNode(!0):(Ie.innerHTML=e.outerHTML,Ie.removeChild(o=Ie.firstChild)),!(_.support.noCloneEvent&&_.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(r=Ne(o),u=Ne(e),a=0;null!=(i=u[a]);++a)r[a]&&Le(i,r[a]);if(t)if(n)for(u=u||Ne(e),r=r||Ne(o),a=0;null!=(i=u[a]);a++)Me(i,r[a]);else Me(e,o);return(r=Ne(o,"script")).length>0&&Re(r,!c&&Ne(e,"script")),r=u=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,u,c,s,l,d=e.length,f=fe(t),p=[],h=0;h<d;h++)if((o=e[h])||0===o)if("object"===_.type(o))_.merge(p,o.nodeType?[o]:o);else if(Pe.test(o)){for(u=u||f.appendChild(t.createElement("div")),c=(we.exec(o)||["",""])[1].toLowerCase(),l=Ee[c]||Ee._default,u.innerHTML=l[1]+o.replace(be,"<$1></$2>")+l[2],i=l[0];i--;)u=u.lastChild;if(!_.support.leadingWhitespace&&_e.test(o)&&p.push(t.createTextNode(_e.exec(o)[0])),!_.support.tbody)for(i=(o="table"!==c||ke.test(o)?"<table>"!==l[1]||ke.test(o)?0:u:u.firstChild)&&o.childNodes.length;i--;)_.nodeName(s=o.childNodes[i],"tbody")&&!s.childNodes.length&&o.removeChild(s);for(_.merge(p,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=f.lastChild}else p.push(t.createTextNode(o));for(u&&f.removeChild(u),_.support.appendChecked||_.grep(Ne(p,"input"),qe),h=0;o=p[h++];)if((!r||-1===_.inArray(o,r))&&(a=_.contains(o.ownerDocument,o),u=Ne(f.appendChild(o),"script"),a&&Re(u),n))for(i=0;o=u[i++];)Ae.test(o.type||"")&&n.push(o);return u=null,f},cleanData:function(e,t){for(var n,r,i,a,u=0,c=_.expando,s=_.cache,l=_.support.deleteExpando,f=_.event.special;null!=(n=e[u]);u++)if((t||_.acceptData(n))&&(a=(i=n[c])&&s[i])){if(a.events)for(r in a.events)f[r]?_.event.remove(n,r):_.removeEvent(n,r,a.handle);s[i]&&(delete s[i],l?delete n[c]:"undefined"!==o(n.removeAttribute)?n.removeAttribute(c):n[c]=null,d.push(i))}}});var Fe=/alpha\([^)]*\)/i,Ue=/opacity\s*=\s*([^)]*)/,Be=/^(top|right|bottom|left)$/,He=/^(none|table(?!-c[ea]).+)/,$e=/^margin/,Ge=new RegExp("^(".concat(b,")(.*)$"),"i"),Ye=new RegExp("^(".concat(b,")(?!px)[a-z%]+$"),"i"),Je=new RegExp("^([+-])=(".concat(b,")"),"i"),We={BODY:"block"},Qe={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:0,fontWeight:400},ze=["Top","Right","Bottom","Left"],Xe=["Webkit","O","Moz","ms"];function Ke(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Xe.length;i--;)if((t=Xe[i]+n)in e)return t;return r}function Ze(e,t){return"none"===_.css(e=t||e,"display")||!_.contains(e.ownerDocument,e)}function et(e,t){for(var n,r,i,o=[],a=0,u=e.length;a<u;a++)(r=e[a]).style&&(o[a]=_._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ze(r)&&(o[a]=_._data(r,"olddisplay",it(r.nodeName)))):o[a]||(i=Ze(r),(n&&"none"!==n||!i)&&_._data(r,"olddisplay",i?n:_.css(r,"display"))));for(a=0;a<u;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function tt(e,t,n){var r=Ge.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function nt(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=_.css(e,n+ze[o],!0,i)),r?("content"===n&&(a-=_.css(e,"padding".concat(ze[o]),!0,i)),"margin"!==n&&(a-=_.css(e,"border".concat(ze[o],"Width"),!0,i))):(a+=_.css(e,"padding".concat(ze[o]),!0,i),"padding"!==n&&(a+=_.css(e,"border".concat(ze[o],"Width"),!0,i)));return a}function rt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=he(e),a=_.support.boxSizing&&"border-box"===_.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=ve(e,t,o))<0||null==i)&&(i=e.style[t]),Ye.test(i))return i;r=a&&(_.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return"".concat(i+nt(e,t,n||(a?"border":"content"),r,o),"px")}function it(e){var t=a,n=We[e];return n||("none"!==(n=ot(e,t))&&n||((t=((pe=(pe||_("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||pe[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=ot(e,t),pe.detach()),We[e]=n),n}function ot(e,t){var n=_(t.createElement(e)).appendTo(t.body),r=_.css(n[0],"display");return n.remove(),r}_.fn.extend({css:function(e,t){return _.access(this,(function(e,t,n){var r,i,o={},a=0;if(_.isArray(t)){for(i=he(e),r=t.length;a<r;a++)o[t[a]]=_.css(e,t[a],!1,i);return o}return void 0!==n?_.style(e,t,n):_.css(e,t)}),e,t,arguments.length>1)},show:function(){return et(this,!0)},hide:function(){return et(this)},toggle:function(e){var t="boolean"==typeof e;return this.each((function(){(t?e:Ze(this))?_(this).show():_(this).hide()}))}}),_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ve(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:_.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,u,c=_.camelCase(t),s=e.style;if(t=_.cssProps[c]||(_.cssProps[c]=Ke(s,c)),u=_.cssHooks[t]||_.cssHooks[c],void 0===n)return u&&"get"in u&&void 0!==(i=u.get(e,!1,r))?i:s[t];if(!("string"===(a=o(n))&&(i=Je.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(_.css(e,t)),a="number"),null==n||"number"===a&&isNaN(n)||("number"!==a||_.cssNumber[c]||(n+="px"),_.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(s[t]="inherit"),u&&"set"in u&&void 0===(n=u.set(e,n,r)))))try{s[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,u=_.camelCase(t);return t=_.cssProps[u]||(_.cssProps[u]=Ke(e.style,u)),(a=_.cssHooks[t]||_.cssHooks[u])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=ve(e,t,r)),"normal"===o&&t in Ve&&(o=Ve[t]),""===n||n?(i=parseFloat(o),!0===n||_.isNumeric(i)?i||0:o):o},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i}}),window.getComputedStyle?(he=function(e){return window.getComputedStyle(e,null)},ve=function(e,t,n){var r,i,o,a=n||he(e),u=a?a.getPropertyValue(t)||a[t]:void 0,c=e.style;return a&&(""!==u||_.contains(e.ownerDocument,e)||(u=_.style(e,t)),Ye.test(u)&&$e.test(t)&&(r=c.width,i=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=u,u=a.width,c.width=r,c.minWidth=i,c.maxWidth=o)),u}):a.documentElement.currentStyle&&(he=function(e){return e.currentStyle},ve=function(e,t,n){var r,i,o,a=n||he(e),u=a?a[t]:void 0,c=e.style;return null==u&&c&&c[t]&&(u=c[t]),Ye.test(u)&&!Be.test(t)&&(r=c.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),c.left="fontSize"===t?"1em":u,u="".concat(c.pixelLeft,"px"),c.left=r,o&&(i.left=o)),""===u?"auto":u}),_.each(["height","width"],(function(e,t){_.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&He.test(_.css(e,"display"))?_.swap(e,Qe,(function(){return rt(e,t,r)})):rt(e,t,r)},set:function(e,n,r){var i=r&&he(e);return tt(0,n,r?nt(e,t,r,_.support.boxSizing&&"border-box"===_.css(e,"boxSizing",!1,i),i):0)}}})),_.support.opacity||(_.cssHooks.opacity={get:function(e,t){return Ue.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?"".concat(.01*parseFloat(RegExp.$1)):t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=_.isNumeric(t)?"alpha(opacity=".concat(100*t,")"):"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===_.trim(o.replace(Fe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Fe.test(o)?o.replace(Fe,i):"".concat(o," ").concat(i))}}),_((function(){_.support.reliableMarginRight||(_.cssHooks.marginRight={get:function(e,t){if(t)return _.swap(e,{display:"inline-block"},ve,[e,"marginRight"])}}),!_.support.pixelPosition&&_.fn.position&&_.each(["top","left"],(function(e,t){_.cssHooks[t]={get:function(e,n){if(n)return n=ve(e,t),Ye.test(n)?"".concat(_(e).position()[t],"px"):n}}}))})),_.expr&&_.expr.filters&&(_.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!_.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||_.css(e,"display"))},_.expr.filters.visible=function(e){return!_.expr.filters.hidden(e)}),_.each({margin:"",padding:"",border:"Width"},(function(e,t){_.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ze[r]+t]=o[r]||o[r-2]||o[0];return i}},$e.test(e)||(_.cssHooks[e+t].set=tt)}));var at,ut,ct=/%20/g,st=/\[\]$/,lt=/\r?\n/g,dt=/^(?:submit|button|image|reset|file)$/i,ft=/^(?:input|select|textarea|keygen)/i;function pt(e,t,n,r){var i;if(_.isArray(t))_.each(t,(function(t,i){n||st.test(e)?r(e,i):pt("".concat(e,"[").concat("object"===o(i)?t:"","]"),i,n,r)}));else if(n||"object"!==_.type(t))r(e,t);else for(i in t)pt("".concat(e,"[").concat(i,"]"),t[i],n,r)}_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&ft.test(this.nodeName)&&!dt.test(e)&&(this.checked||!Ce.test(e))})).map((function(e,t){var n=_(this).val();return null==n?null:_.isArray(n)?_.map(n,(function(e){return{name:t.name,value:e.replace(lt,"\r\n")}})):{name:t.name,value:n.replace(lt,"\r\n")}})).get()}}),_.param=function(e,t){var n,r=[],i=function(e,t){t=_.isFunction(t)?t():null==t?"":t,r[r.length]="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))};if(void 0===t&&(t=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,(function(){i(this.name,this.value)}));else for(n in e)pt(n,e[n],t,i);return r.join("&").replace(ct,"+")},_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){_.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),_.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var ht=_.now(),vt=/\?/,gt=/#.*$/,mt=/([?&])_=[^&]*/,yt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,_t=/^(?:GET|HEAD)$/,bt=/^\/\//,wt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kt=_.fn.load,Pt={},xt={},Ct="*/".concat("*");try{ut=u.href}catch(e){(ut=a.createElement("a")).href="",ut=ut.href}function Ot(e){return function(t,n){var r;"string"!=typeof t&&(n=t,t="*");var i=0,o=t.toLowerCase().match(w)||[];if(_.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function At(e,t,n,r){var i={},o=e===xt;function a(u){var c;return i[u]=!0,_.each(e[u]||[],(function(e,u){var s=u(t,n,r);return"string"!=typeof s||o||i[s]?o?!(c=s):void 0:(t.dataTypes.unshift(s),a(s),!1)})),c}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Tt(e,t){var n,r,i=_.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&_.extend(!0,e,n),e}at=wt.exec(ut.toLowerCase())||[],_.fn.load=function(e,t,n){if("string"!=typeof e&&kt)return kt.apply(this,arguments);var r,i,a,u=this,c=e.indexOf(" ");return c>=0&&(r=e.slice(c,e.length),e=e.slice(0,c)),_.isFunction(t)?(n=t,t=void 0):t&&"object"===o(t)&&(a="POST"),u.length>0&&_.ajax({url:e,type:a,dataType:"html",data:t}).done((function(e){i=arguments,u.html(r?_("<div>").append(_.parseHTML(e)).find(r):e)})).complete(n&&function(e,t){u.each(n,i||[e.responseText,t,e])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){_.fn[t]=function(e){return this.on(t,e)}})),_.each(["get","post"],(function(e,t){_[t]=function(e,n,r,i){return _.isFunction(n)&&(i=i||r,r=n,n=void 0),_.ajax({url:e,type:t,dataType:i,data:n,success:r})}})),_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(at[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ct,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Tt(Tt(e,_.ajaxSettings),t):Tt(_.ajaxSettings,e)},ajaxPrefilter:Ot(Pt),ajaxTransport:Ot(xt),ajax:function(e,t){var n,r,i,a,u,c,s,l;"object"===o(e)&&(t=e,e=void 0);var d=_.ajaxSetup({},t=t||{}),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?_(f):_.event,h=_.Deferred(),v=_.Callbacks("once memory"),g=d.statusCode||{},m={},y={},b=0,k="canceled",P={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!l)for(l={};t=yt.exec(a);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,m[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else P.always(e[P.status]);return this},abort:function(e){var t=e||k;return s&&s.abort(t),x(0,t),this}};if(h.promise(P).complete=v.add,P.success=P.done,P.error=P.fail,d.url="".concat(e||d.url||ut).replace(gt,"").replace(bt,"".concat(at[1],"//")),d.type=t.method||t.type||d.method||d.type,d.dataTypes=_.trim(d.dataType||"*").toLowerCase().match(w)||[""],null==d.crossDomain&&(n=wt.exec(d.url.toLowerCase()),d.crossDomain=!(!n||n[1]===at[1]&&n[2]===at[2]&&(n[3]||("http:"===n[1]?80:443))==(at[3]||("http:"===at[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=_.param(d.data,d.traditional)),At(Pt,d,t,P),2===b)return P;for(r in(c=d.global)&&0==_.active++&&_.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!_t.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(vt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=mt.test(i)?i.replace(mt,"$1_=".concat(ht++)):"".concat(i+(vt.test(i)?"&":"?"),"_=").concat(ht++))),d.ifModified&&(_.lastModified[i]&&P.setRequestHeader("If-Modified-Since",_.lastModified[i]),_.etag[i]&&P.setRequestHeader("If-None-Match",_.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&P.setRequestHeader("Content-Type",d.contentType),P.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", ".concat(Ct,"; q=0.01"):""):d.accepts["*"]),d.headers)P.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(!1===d.beforeSend.call(f,P,d)||2===b))return P.abort();for(r in k="abort",{success:1,error:1,complete:1})P[r](d[r]);if(s=At(xt,d,t,P)){P.readyState=1,c&&p.trigger("ajaxSend",[P,d]),d.async&&d.timeout>0&&(u=setTimeout((function(){P.abort("timeout")}),d.timeout));try{b=1,s.send(m,x)}catch(e){if(!(b<2))throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,n,r){var o,l,m,y,w,k=t;2!==b&&(b=2,u&&clearTimeout(u),s=void 0,a=r||"",P.readyState=e>0?4:0,n&&(y=function(e,t,n){var r,i,o,a,u=e.contents,c=e.dataTypes,s=e.responseFields;for(a in s)a in n&&(t[s[a]]=n[a]);for(;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in u)if(u[a]&&u[a].test(i)){c.unshift(a);break}if(c[0]in n)o=c[0];else{for(a in n){if(!c[0]||e.converters["".concat(a," ").concat(c[0])]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==c[0]&&c.unshift(o),n[o]}(d,P,n)),e>=200&&e<300||304===e?(d.ifModified&&((w=P.getResponseHeader("Last-Modified"))&&(_.lastModified[i]=w),(w=P.getResponseHeader("etag"))&&(_.etag[i]=w)),204===e?(o=!0,k="nocontent"):304===e?(o=!0,k="notmodified"):(k=(o=function(e,t){var n,r,i,o,a={},u=0,c=e.dataTypes.slice(),s=c[0];e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(c[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=c[++u];)if("*"!==r){if("*"!==s&&s!==r){if(!(i=a["".concat(s," ").concat(r)]||a["* ".concat(r)]))for(n in a)if((o=n.split(" "))[1]===r&&(i=a["".concat(s," ").concat(o[0])]||a["* ".concat(o[0])])){!0===i?i=a[n]:!0!==a[n]&&(r=o[0],c.splice(u--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from ".concat(s," to ").concat(r)}}}s=r}return{state:"success",data:t}}(d,y)).state,l=o.data,o=!(m=o.error))):(m=k,!e&&k||(k="error",e<0&&(e=0))),P.status=e,P.statusText="".concat(t||k),o?h.resolveWith(f,[l,k,P]):h.rejectWith(f,[P,k,m]),P.statusCode(g),g=void 0,c&&p.trigger(o?"ajaxSuccess":"ajaxError",[P,d,o?l:m]),v.fireWith(f,[P,k]),c&&(p.trigger("ajaxComplete",[P,d]),--_.active||_.event.trigger("ajaxStop")))}return P},getScript:function(e,t){return _.get(e,void 0,t,"script")},getJSON:function(e,t,n){return _.get(e,t,n,"json")}}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),_.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=a.head||_("head")[0]||a.documentElement;return{send:function(r,i){(t=a.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var St,Et,It=[],Dt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=It.pop()||"".concat(_.expando,"_").concat(ht++);return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",(function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Dt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=_.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Dt,"$1".concat(r)):!1!==e.jsonp&&(e.url+="".concat((vt.test(e.url)?"&":"?")+e.jsonp,"=").concat(r)),e.converters["script json"]=function(){return o||_.error("".concat(r," was not called")),o[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){o=arguments},n.always((function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,It.push(r)),o&&_.isFunction(i)&&i(o[0]),o=i=void 0})),"script"}));var jt,Rt,Mt=0,Lt=window.ActiveXObject&&function(){var e;for(e in St)St[e](void 0,!0)};function Nt(){try{return new window.XMLHttpRequest}catch(e){}}_.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&Nt()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:Nt,Et=_.ajaxSettings.xhr(),_.support.cors=!!Et&&"withCredentials"in Et,(Et=_.support.ajax=!!Et)&&_.ajaxTransport((function(e){var t;if(!e.crossDomain||_.support.cors)return{send:function(n,r){var i,o,a=e.xhr();if(e.username?a.open(e.type,e.url,e.async,e.username,e.password):a.open(e.type,e.url,e.async),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(o in n)a.setRequestHeader(o,n[o])}catch(e){}a.send(e.hasContent&&e.data||null),t=function(n,o){var u,c,s,l;try{if(t&&(o||4===a.readyState))if(t=void 0,i&&(a.onreadystatechange=_.noop,Lt&&delete St[i]),o)4!==a.readyState&&a.abort();else{l={},u=a.status,c=a.getAllResponseHeaders(),"string"==typeof a.responseText&&(l.text=a.responseText);try{s=a.statusText}catch(e){s=""}u||!e.isLocal||e.crossDomain?1223===u&&(u=204):u=l.text?200:404}}catch(e){o||r(-1,e)}l&&r(u,s,l,c)},e.async?4===a.readyState?setTimeout(t):(i=++Mt,Lt&&(St||(St={},_(window).unload(Lt)),St[i]=t),a.onreadystatechange=t):t()},abort:function(){t&&t(void 0,!0)}}}));var qt=/^(?:toggle|show|hide)$/,Ft=new RegExp("^(?:([+-])=|)(".concat(b,")([a-z%]*)$"),"i"),Ut=/queueHooks$/,Bt=[function(e,t,n){var r,i,o,a,u,c,s,l,d,f=this,p=e.style,h={},v=[],g=e.nodeType&&Ze(e);n.queue||(null==(l=_._queueHooks(e,"fx")).unqueued&&(l.unqueued=0,d=l.empty.fire,l.empty.fire=function(){l.unqueued||d()}),l.unqueued++,f.always((function(){f.always((function(){l.unqueued--,_.queue(e,"fx").length||l.empty.fire()}))})));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===_.css(e,"display")&&"none"===_.css(e,"float")&&(_.support.inlineBlockNeedsLayout&&"inline"!==it(e.nodeName)?p.zoom=1:p.display="inline-block"));n.overflow&&(p.overflow="hidden",_.support.shrinkWrapBlocks||f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})));for(i in t)if(a=t[i],qt.exec(a)){if(delete t[i],c=c||"toggle"===a,a===(g?"hide":"show"))continue;v.push(i)}if(o=v.length){"hidden"in(u=_._data(e,"fxshow")||_._data(e,"fxshow",{}))&&(g=u.hidden),c&&(u.hidden=!g),g?_(e).show():f.done((function(){_(e).hide()})),f.done((function(){var t;for(t in _._removeData(e,"fxshow"),h)_.style(e,t,h[t])}));for(i=0;i<o;i++)r=v[i],s=f.createTween(r,g?u[r]:0),h[r]=u[r]||_.style(e,r),r in u||(u[r]=s.start,g&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}],Ht={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Ft.exec(t),a=i.cur(),u=+a||0,c=1,s=20;if(o){if(n=+o[2],"px"!==(r=o[3]||(_.cssNumber[e]?"":"px"))&&u){u=_.css(i.elem,e,!0)||n||1;do{u/=c=c||".5",_.style(i.elem,e,u+r)}while(c!==(c=i.cur()/a)&&1!==c&&--s)}i.unit=r,i.start=u,i.end=o[1]?u+(o[1]+1)*n:n}return i}]};function $t(){return setTimeout((function(){jt=void 0})),jt=_.now()}function Gt(e,t,n){var r,i,o=0,a=Bt.length,u=_.Deferred().always((function(){delete c.elem})),c=function(){if(i)return!1;for(var t=jt||$t(),n=Math.max(0,s.startTime+s.duration-t),r=1-(n/s.duration||0),o=0,a=s.tweens.length;o<a;o++)s.tweens[o].run(r);return u.notifyWith(e,[s,r,n]),r<1&&a?n:(u.resolveWith(e,[s]),!1)},s=u.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:jt||$t(),duration:n.duration,tweens:[],createTween:function(t,n){var r=_.Tween(e,s.opts,t,n,s.opts.specialEasing[t]||s.opts.easing);return s.tweens.push(r),r},stop:function(t){var n=0,r=t?s.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)s.tweens[n].run(1);return t?u.resolveWith(e,[s,t]):u.rejectWith(e,[s,t]),this}}),l=s.props;for(!function(e,t){var n,r,i,o,a;for(i in e)if(r=_.camelCase(i),o=t[r],n=e[i],_.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),(a=_.cssHooks[r])&&"expand"in a)for(i in n=a.expand(n),delete e[r],n)i in e||(e[i]=n[i],t[i]=o);else t[r]=o}(l,s.opts.specialEasing);o<a;o++)if(r=Bt[o].call(s,e,l,s.opts))return r;return function(e,t){_.each(t,(function(t,n){for(var r=(Ht[t]||[]).concat(Ht["*"]),i=0,o=r.length;i<o;i++)if(r[i].call(e,t,n))return}))}(s,l),_.isFunction(s.opts.start)&&s.opts.start.call(e,s),_.fx.timer(_.extend(c,{elem:e,anim:s,queue:s.opts.queue})),s.progress(s.opts.progress).done(s.opts.done,s.opts.complete).fail(s.opts.fail).always(s.opts.always)}function Yt(e,t,n,r,i){return new Yt.prototype.init(e,t,n,r,i)}function Jt(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin".concat(n=ze[i])]=r["padding".concat(n)]=e;return t&&(r.opacity=r.width=e),r}function Wt(e){return _.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}_.Animation=_.extend(Gt,{tweener:function(e,t){var n;_.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r=0,i=e.length;r<i;r++)n=e[r],Ht[n]=Ht[n]||[],Ht[n].unshift(t)},prefilter:function(e,t){t?Bt.unshift(e):Bt.push(e)}}),_.Tween=Yt,Yt.prototype={constructor:Yt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var e=Yt.propHooks[this.prop];return e&&e.get?e.get(this):Yt.propHooks._default.get(this)},run:function(e){var t,n=Yt.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yt.propHooks._default.set(this),this}},Yt.prototype.init.prototype=Yt.prototype,Yt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[_.cssProps[e.prop]]||_.cssHooks[e.prop])?_.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yt.propHooks.scrollTop=Yt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.each(["toggle","show","hide"],(function(e,t){var n=_.fn[t];_.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Jt(t,!0),e,r,i)}})),_.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ze).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=_.isEmptyObject(e),o=_.speed(t,n,r),a=function t(){var n=Gt(this,_.extend({},e),o);t.finish=function(){n.stop(!0)},(i||_._data(this,"finish"))&&n.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&"".concat(e,"queueHooks"),o=_.timers,a=_._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ut.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||_.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=_._data(this),r=n["".concat(e,"queue")],i=n["".concat(e,"queueHooks")],o=_.timers,a=r?r.length:0;for(n.finish=!0,_.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),_.each({slideDown:Jt("show"),slideUp:Jt("hide"),slideToggle:Jt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){_.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),_.speed=function(e,t,n){var r=e&&"object"===o(e)?_.extend({},e):{complete:n||!n&&t||_.isFunction(e)&&e,duration:e,easing:n&&t||t&&!_.isFunction(t)&&t};return r.duration=_.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in _.fx.speeds?_.fx.speeds[r.duration]:_.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_.isFunction(r.old)&&r.old.call(this),r.queue&&_.dequeue(this,r.queue)},r},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},_.timers=[],(_.fx=Yt.prototype.init).tick=function(){var e,t=_.timers,n=0;for(jt=_.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||_.fx.stop(),jt=void 0},_.fx.timer=function(e){e()&&_.timers.push(e)&&_.fx.start()},_.fx.interval=13,_.fx.start=function(){Rt||(Rt=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Rt),Rt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fx.step={},_.expr&&_.expr.filters&&(_.expr.filters.animated=function(e){return _.grep(_.timers,(function(t){return e===t.elem})).length}),_.fn.offset=function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_.offset.setOffset(this,e,t)}));var t,n,r={top:0,left:0},i=this[0],a=i&&i.ownerDocument;return a?(t=a.documentElement,_.contains(t,i)?("undefined"!==o(i.getBoundingClientRect)&&(r=i.getBoundingClientRect()),n=Wt(a),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},_.offset={setOffset:function(e,t,n){var r=_.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=_(e),u=a.offset(),c=_.css(e,"top"),s=_.css(e,"left"),l={},d={};("absolute"===r||"fixed"===r)&&_.inArray("auto",[c,s])>-1?(i=(d=a.position()).top,o=d.left):(i=parseFloat(c)||0,o=parseFloat(s)||0),_.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(l.top=t.top-u.top+i),null!=t.left&&(l.left=t.left-u.left+o),"using"in t?t.using.call(e,l):a.css(l)}},_.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===_.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),_.nodeName(e[0],"html")||(n=e.offset()),n.top+=_.css(e[0],"borderTopWidth",!0),n.left+=_.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-_.css(r,"marginTop",!0),left:t.left-n.left-_.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||a.documentElement;e&&!_.nodeName(e,"html")&&"static"===_.css(e,"position");)e=e.offsetParent;return e||a.documentElement}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);_.fn[e]=function(r){return _.access(this,(function(e,r,i){var o=Wt(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?_(o).scrollLeft():i,n?i:_(o).scrollTop()):e[r]=i}),e,r,arguments.length,null)}})),_.each({Height:"height",Width:"width"},(function(e,t){_.each({padding:"inner".concat(e),content:t,"":"outer".concat(e)},(function(n,r){_.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return _.access(this,(function(t,n,r){var i;return _.isWindow(t)?t.document.documentElement["client".concat(e)]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll".concat(e)],i["scroll".concat(e)],t.body["offset".concat(e)],i["offset".concat(e)],i["client".concat(e)])):void 0===r?_.css(t,n,a):_.style(t,n,r,a)}),t,o?r:void 0,o,null)}}))})),window.jQuery=window.$=_,e.exports=_},jtbN:function(e,t,n){var r=n("xeH2"),i=n("1RNr"),o=n("bFh4"),a=r("#js_logout_outer_agency, #js_logout_outer").find(".icon-red-circle");function u(){a.show()}function c(e){var t=[".js-live-course",".js-fav",".js-coupon",".js-course-plan",".js-signup"],n=[];e.total_num>0&&n.push(t[1]),e.coupon_red_flag>0&&n.push(t[2]),(1===e.present_vedio_red_flag||e.commodity_red_flag>0)&&n.push(t[4]),r(t.join(",")).removeClass("indicate-remind"),n.length>0?(u(),r(n.join(",")).addClass("indicate-remind")):1===e.service_expired_red_flag?u():a.hide()}i.extend({notification:i.httpMethod({url:"/cgi-bin/identity/notification",noNeedLogin:!0})}),i.notification({param:{},succ:function(e){var t=e.result;t&&(!function(e){e.is_cdkey_owner&&r("#js_logout_outer").find(".js-et-course").removeClass("hide"),e.is_wt_agency&&r(".mod-header__mailbox").removeClass("hide")}(t),c(t),o.trigger("redpoint",t))},err:function(e){return!0}}),o.listen("redpoint.refresh",(function(e){c(e)})),e.exports=function(){}},kI29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("gEte");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("M1Pb");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("qiTZ");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n("8HNs");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var u=n("1h83");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var c=n("ZqXq");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}))},"kIk/":function(e,t,n){var r=n("xeH2"),i=n("OSA0"),o=n("jbgf"),a=n("fl4e");n("uLkJ");new Date,window.GLOBAL_DATA,r(window);var u,c=r("body"),s={};function l(){u&&(u.remove(),u=null)}e.exports={show:function(e){u?u.show():(!function(e){var t=e.exam_time_list;r.each(t,(function(e,t){s[i(t).format("YYYY-MM-DD")]=1}))}(e),c.append(o()),(u=r(".js-clndr")).find(".js-clndr-wrap").clndr({startWithMonth:i().format("YYYY-MM-DD"),numberOfRows:6,forceSixRows:!0,weekOffset:1,daysOfTheWeek:["SUN","MON","TUE","WED","THU","FRI","SAT"],render:function(e){return function(e){var t=e.days;r.each(t,(function(t,n){var r=n.date;if(r.month()===e.monthIndex){var o=r.format("YYYY-MM-DD");s[o]&&!r.isBefore(i(),"day")&&(n._selected=!0)}else n._otherMonth=!0}))}(e),a(e)}}),u.on("click",".js-clndr-close",l))},hide:function(){u&&u.hide()},remove:l}},kSUm:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Pay=void 0;var i,o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=n("F5LU"),s=n("D215"),l=n("P87J"),d=n("rRu0"),f=n("+Sx3"),p=n("9F93"),h=n("+Q1X"),v=n("1rjL"),g=n("q87w"),m=n("fdd6"),y=n("pgcf"),_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};!function(e){e.IAP="IAP",e.RECHARGE="RECHARGE",e.BALANCE="BALANCE",e.JD="JD",e.YQH="YQH",e.MINIPROGRAM="MINIPROGRAM",e.MIDAS="MIDAS"}(i||(i={}));var b=function(){function e(t){(0,a.default)(this,e),this.payOpts=t,this.recharge=new g.Recharge(t),this.balancePay=new f.BalancePay(t),this.midasPay=new h.MidasPay(t),this.jdPay=new p.JdPay(t),this.yqhPay=new m.YqhPay(t),this.mpPay=new v.MpPay(t),this.payHook=s.PayHook.getInstance(),this.beforePayChecker=new y.BeforePayChecker}return(0,u.default)(e,[{key:"pay",value:function(e){return _(this,void 0,void 0,o.default.mark((function t(){var n,r,i,a,u;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.payHook.exec("beforePayCheck");case 2:return t.next=4,this.beforePayChecker.check(this.payOpts,e);case 4:if(n=t.sent,r=n.pass,i=n.noError,a=n.msg,u=n.retcode,r){t.next=13;break}if(i){t.next=12;break}throw{msg:a,retcode:u};case 12:return t.abrupt("return");case 13:return t.next=15,this.selectPay();case 15:case"end":return t.stop()}}),t,this)})))}},{key:"selectPay",value:function(){return _(this,void 0,void 0,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getPayChannelType(),l.imlog.extra({addition1:t,platform:(0,c.getLoggerPlatform)()}).info("【支付模块】","【支付渠道选择】",t),t!==i.RECHARGE){e.next=4;break}return e.abrupt("return",this.recharge.jumpRecharge());case 4:if(t!==i.BALANCE){e.next=6;break}return e.abrupt("return",this.balancePay.pay());case 6:if(t!==i.JD){e.next=8;break}return e.abrupt("return",this.jdPay.pay());case 8:if(t!==i.YQH){e.next=10;break}return e.abrupt("return",this.yqhPay.pay());case 10:if(t!==i.MINIPROGRAM){e.next=12;break}return e.abrupt("return",this.mpPay.pay());case 12:return e.abrupt("return",this.midasPay.pay());case 13:case"end":return e.stop()}}),e,this)})))}},{key:"getPayChannelType",value:function(){var e,t,n,r,o;return(null===(e=this.payOpts)||void 0===e?void 0:e.isIAP)?this.needRecharge()?i.RECHARGE:i.BALANCE:(null===(t=this.payOpts)||void 0===t?void 0:t.channel)===d.ChannelType.Jd?i.JD:(null===(n=this.payOpts)||void 0===n?void 0:n.channel)===d.ChannelType.Yqh?i.YQH:(null===(o=null===(r=this.payOpts)||void 0===r?void 0:r.priceInfo)||void 0===o?void 0:o.isAllBalance)?i.BALANCE:(0,c.isMiniProgram)()?i.MINIPROGRAM:i.MIDAS}},{key:"needRecharge",value:function(){var e,t;return!(null===(t=null===(e=this.payOpts)||void 0===e?void 0:e.priceInfo)||void 0===t?void 0:t.isAllBalance)}}]),e}();t.Pay=b},kTN6:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ApplyChecker=void 0;var i=r(n("gBQG")),o=r(n("ZeZv")),a=r(n("EAVL")),u=r(n("oywu")),c=n("uIhe"),s=n("vqVK"),l=n("i6SO"),d=n("/NmI"),f=n("ZODy"),p=n("YRie"),h=n("//88");function v(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},y=function(){function e(t){(0,a.default)(this,e),this.opts=t}return(0,u.default)(e,[{key:"checkParams",value:function(){var e=this.opts,t=(0,s.getCid)(e),n=(0,s.getPid)(e);if(!t&&!n){var r=new Error("必传参数：cid或pid！");throw e.err&&e.err(r),r}return!0}},{key:"check",value:function(e){return m(this,void 0,void 0,i.default.mark((function t(){var n,r,a,u,s,g,m,y,_,b,w;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.imlog.info("【支付模块】","【支付checkers开始】"),this.checkParams(),n=this.opts,r=[new h.StudentNameChecker,new d.LoginChecker,new l.IAPChecker,new f.PhoneChecker,new p.PunishChecker],a=[].concat(r,(0,o.default)(n.checkProcessors||[])),u=v(a),t.prev=6,u.s();case 8:if((s=u.n()).done){t.next=24;break}if(!(g=s.value).filter||g.filter()){t.next=12;break}return t.abrupt("continue",22);case 12:return t.next=14,g.check(e,n);case 14:if(m=t.sent,y=m.pass,_=m.msg,b=m.retcode,w=m.noError,y){t.next=22;break}return c.imlog.info("【支付模块】","【支付checkers失败】",{msg:_,noError:w,pass:y,retcode:b}),t.abrupt("return",{pass:y,msg:_,retcode:b,noError:w});case 22:t.next=8;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(6),u.e(t.t0);case 29:return t.prev=29,u.f(),t.finish(29);case 32:return c.imlog.info("【支付模块】","【支付checkers成功】"),t.abrupt("return",{pass:!0});case 34:case"end":return t.stop()}}),t,this,[[6,26,29,32]])})))}}]),e}();t.ApplyChecker=y},"kU/c":function(e,t,n){"use strict";var r=n("TqRt"),i=r(n("rePB")),o=n("r7Uw"),a=n("F5LU"),u=r(n("lSPl"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("8QpS");var l=n("Tlmh"),d={};function f(e){var t=JSON.stringify(e);return d[t]?Promise.resolve(d[t]):(0,o.fetchWxAccountComponentInfo)((0,o.getReqParams)(s(s({},e),{},{loginUin:(0,a.getUin)()}))).then((function(e){return d[t]=e,e}))}e.exports={checkState:function(e){return f(s({},e)).then((function(e){return e.show_flag===o.SHOW_FLAG_TYPE.show})).catch((function(){return!1}))},render:function(e,t){f(t).then((function(t){e.html(l(t.popUp_info)),u.default.tdw({action:"exposure",module:"followgzh_pop",ver1:t.component_id,ver2:"enroll"})}))}}},kW22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=i,t.getQQUin=o,t.getWeixinUin=a,t.isWeixinAccount=u,t.getUin=function(){if(u())return a()||o();return o()||a()},t.base64Encode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){var n=parseInt(t,16);return String.fromCharCode(n)})))},t.getSafariVer=function(){var e=navigator.userAgent.match(/Version\/([\d.]+).*Safari/);if(e)return parseInt(e[1],10);return!1};var r={getUA:function(){var e="undefined"!=typeof document?window.navigator.userAgent:window.request.headers["user-agent"];return e=e.toLowerCase()},isMobile:function(){return/Android|iPhone|iPod|BlackBerry|IEMobile/i.test(r.getUA())},isApp:function(){return-1!==r.getUA().indexOf("educationapp")||-1!==r.getUA().indexOf("eduapp")},isWeixin:function(){return-1!==r.getUA().indexOf("micromessenger")}};function i(e){if("undefined"==typeof document)return window.request.cookies[e];var t=new RegExp("(^| )".concat(e,"=([^;]*)(;|$)")),n=document.cookie.match(t);return n?decodeURIComponent(n[2]):""}function o(){var e=i("p_uin")||i("uin");return e?parseInt(e.substring(1),10):null}function a(){return i("uid_uin")}function u(){var e=r.isApp(),t=r.isWeixin(),n=+i("uid_type");return t||e&&(2===n||1001===n)}},kkc5:function(e,t,n){var r=n("m9bP"),i=/[^|]+/gi,o=/(^|&)?([^&=]*)=([^&]*)(&|$)/gi,a=/(?:^|&)([^&=]*)=([^&]*)(?:&|$)/i;r.parseReportAttr=function(e){if(e){var t,n,r,u,c=e.match(i);if(c){t=[];for(var s=0,l=c.length;s<l;s++)if(r=c[s].match(o)){n={};for(var d=0,f=r.length;d<f;d++)r[d]&&(u=r[d].match(a))[1]&&(n[u[1]]=u[2]||"");t.push(n)}}return t}},e.exports=r},kprn:function(e,t){var n,r=function(){var e,t,n=document.getElementsByTagName("head")[0],r=window.location.hostname||"edu_database",i=new Date;if(n.addBehavior){try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window;<\/script><iframe src="/favicon.ico"></frame>'),t.close(),e=t.w.frames[0].document}catch(t){e=document}n=e.createElement("head"),e.appendChild(n),i.setDate(i.getDate()+30),n.addBehavior("#default#userData"),n.expires=i.toUTCString(),n.load(r);var o=n.XMLDocument.documentElement,a=o.attributes,u=/^[-\d]/,c=new RegExp("^prefix_____hack__"),s=function(e){return u.test(e)?"prefix_____hack__"+e:e};return{length:a.length,notNativeCode:!0,getItem:function(e){return(a.getNamedItem(s(e))||{nodeValue:null}).nodeValue||o.getAttribute(s(e))},setItem:function(e,t){o.setAttribute(s(e),t),n.save(r),this.length=a.length},removeItem:function(e){o.removeAttribute(s(e)),n.save(r),this.length=a.length},clear:function(){for(;a.length;)this.removeItem(a[0].nodeName);this.length=0},key:function(e){return a[e]?function(e){return e.replace(c,"")}(a[e].nodeName):void 0}}}};try{(n=window.localStorage)||(n=r())}catch(e){n=r()}var i=function(e){var t=function(){return null};return e?{set:function(t,n){void 0!==this.get(t)&&this.remove(t);try{e.setItem(t,n)}catch(e){this.clear()}},get:function(t){var n=e.getItem(t);return null===n?void 0:n},remove:function(t){e.removeItem(t)},clear:function(){e.clear()},each:function(e){var t,n=this.obj(),r=e||function(){};for(t in n)if(!1===r.call(this,t,this.get(t)))break},obj:function(){var t,n,r={},i=0;if(e.isVirtualObject)r=e.key(-1);else for(t=e.length;i<t;i++)r[n=e.key(i)]=this.get(n);return r},filter:function(t){var n,r,i=[],o=0;if(e.isVirtualObject)i=[];else for(n=e.length;o<n;o++)r=e.key(o),t.test(r)&&i.push({key:r,value:this.get(r)});return i}}:{set:t,get:t,remove:t,clear:t,each:t,obj:t,filter:t}}(n);e.exports=i},l6KN:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("ROju"),u=n("mAAe"),c=function(){function e(t){(0,i.default)(this,e),this.bargain=t}return(0,o.default)(e,[{key:"isBargainBottomPrice",value:function(){var e,t;return null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_info)||void 0===t?void 0:t.is_bottom_price}},{key:"isBargainActJoin",value:function(){return!!this.getBargainId()}},{key:"getBargainId",value:function(){var e=this.formatExt(),t=null==e?void 0:e.bargain_info;return+((null==t?void 0:t.bargain_id)||(null==t?void 0:t.bargin_id)||0)}},{key:"getBargainPrice",value:function(){var e,t;return null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_info)||void 0===t?void 0:t.curr_price}},{key:"getBargainActId",value:function(){var e,t;return null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_detail)||void 0===t?void 0:t.act_id}},{key:"getBargainBottomPrice",value:function(){var e,t;return null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_detail)||void 0===t?void 0:t.bottom_price}},{key:"getBargainOriginPrice",value:function(){var e,t;return null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_detail)||void 0===t?void 0:t.origin_price}},{key:"getBargainPeriod",value:function(){var e,t;return null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_detail)||void 0===t?void 0:t.period}},{key:"getBargainCreateTs",value:function(){var e,t;return null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_info)||void 0===t?void 0:t.init_ts}},{key:"getBargainCurTs",value:function(){var e,t;return null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_info)||void 0===t?void 0:t.cur_ts}},{key:"getBargainEndTs",value:function(){var e,t,n=this.getBargainCreateTs()+this.getBargainPeriod(),r=null===(t=null===(e=this.bargain)||void 0===e?void 0:e.bargain_detail)||void 0===t?void 0:t.end_time;return n?Math.min(n,r):r}},{key:"hasBargainInfo",value:function(){return!!this.bargain.bargain_info}},{key:"getDecrPrice",value:function(){var e;return(null===(e=this.bargain)||void 0===e?void 0:e.decr_price)||0}},{key:"formatExt",value:function(){try{return JSON.parse(this.bargain.discount_results[0].ext)}catch(e){return this.bargain}}},{key:"getBargainStatus",value:function(){return(0,u.getSvrTime)()>=this.getBargainEndTs()?a.BargainStatus.ENDED:this.isBargainBottomPrice()?a.BargainStatus.FINISHED:this.hasBargainInfo()?a.BargainStatus.INPROGRESS:a.BargainStatus.DEFAULT}}]),e}();t.Utils=c},lDRF:function(e,t,n){var r=n("284h");$(window).load((function(){!function(){var e=document.createElement("script"),t=window.location.protocol.split(":")[0];e.src="https"===t?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}();var e=window.TRecord;e&&e.report&&window.TAuto&&e.report(null,{delay:1e3}),window.top===window&&Promise.resolve().then((function(){return r(n("TgsD"))}))}))},lJ4W:function(e,t,n){var r=n("xeH2"),i=n("eFtk"),o=n("nvsS").default,a=n("MuZe"),u={pay:1,showend:0,searchbar:0,searchpanel:0,playertype:11,follow:0};function c(e,t){return i.encode(JSON.stringify({course_id:e,term_id:t,type:2,action:2,source:1,cookie:(n=document.cookie,o=new RegExp("(^| )(".concat(["uid_uin","uid_a2","uid_type","_guest_type","uuid","uin","luin","skey","lskey","pSkey","p_skey","p_uin","uid_appid","p_lskey","p_luin"].join("|"),")=([^;]*)(;|$)"),"g"),a=n.match(o)||[],r.trim(a.join("")))}));var n,o,a}function s(e,t){new Promise((function(e,t){if(window.Txplayer)return e();a("//vm.gtimg.cn/tencentvideo/txp/js/txplayer.js",(function(n){return n&&t(n),e()}))})).then((function(){var n=t.vid,i="js_video_player_".concat(n);e.replaceWith('<div id="'.concat(i,'" class="announcement-player"></div>'));var o=c(t.cid,t.curTermId),a="test"===window.ENV_NAME||r.bom.query("test"),s={containerId:i,vid:n,width:t.width||"100%",height:t.height||"100%",authfrom:a?"260005":"260001",authext:c(t.cid,t.curTermId),flashvar:Object.assign(u,{eduext:o,loadingswf:"http://vm.gtimg.cn/minivideo_v1/vd/res/skins/ke_loading.swf"}),autoplay:!1,isUsePreload:!0};new window.Txplayer(s)}))}e.exports=function(e,t,n){n=n||{};var i=r("video"),a=e.cid||e.id,u=e.cid?2:3,c=!e.cid;if(0!==i.length){var l=Math.min(parseInt(i.attr("width"),10)||500,r(t).width()),d=parseInt(i.attr("height"),10)||450,f=+i.data("txcloud"),p=i.data("vid"),h=i.attr("poster");if(f){var v="js_video_player_".concat(p),g='<div id="$1" style="width: $2px; height: $3px"></div>'.replace("$1",v).replace("$2",l).replace("$3",d);i.replaceWith(g);new o({containerId:v,fileId:p,cid:a,vodType:u},{poster:{style:"default",src:h}})}else c||c?i.remove():s(i,{cid:a,curTermId:0,width:l,height:d,vid:p,poster:h})}}},lSPl:function(e,t,n){var r=n("xeH2");n("g+5x");var i=n("tx2r").default,o=n("ZHP+"),a=o.reportExposure,u=o.reportCourseExposure,c=o.reportCourseFun,s=n("4cTz").default,l=n("4qiJ").default,d=r(document),f=r(window);i.config({platform:l.getPlatform()}),i.reportExposure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(i,Object.assign({$doc:d,$win:f},e))},i.reportCourseExposure=function(e){return u(i,Object.assign({$doc:d,$win:f},e))},i.reportCourseFun=c,s.init(i),e.exports=i},lj85:function(e,t,n){var r=n("cDf5");window.badjs=window.Badjs=function(e,t,n,r,i){var o={};r&&(o.msid=r),window.BJ_REPORT.report({msg:e,ext:o,level:i||4})},BJ_REPORT.tryJs().spyAll();var i,o,a,u,c={stringify:function(){var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)},n={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},i=function(e){return n[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},o=/[\\"\u0000-\u001F\u2028\u2029]/g;return function n(a){if(null==a)return"null";if("number"==typeof a)return isFinite(a)?a.toString():"null";if("boolean"==typeof a)return a.toString();if("object"===r(a)){if("function"==typeof a.toJSON)return n(a.toJSON());if(t(a)){for(var u="[",c=0;c<a.length;c++)u+=(c?", ":"")+n(a[c]);return u+"]"}if("[object Object]"===e.call(a)){var s=[];for(var l in a)a.hasOwnProperty(l)&&s.push(n(l)+": "+n(a[l]));return"{"+s.join(", ")+"}"}}return'"'+a.toString().replace(o,i)+'"'}}()},s=function(e){var t,n=[];e&&(t=e,"[object Array]"===Object.prototype.toString.call(t)?n=e:n.push(e),n.length&&((new Image).src="//tmapp.qq.com/cgi-bin/activity_platform/report/report_vm?monitors=["+n.join(",")+"]&_t="+(new Date).getTime()))};function l(e,t,n){n=n||1,t=t||0,window.BJ_REPORT&&window.BJ_REPORT.report({msg:e,level:n,_force_report_:!0,ext:{msid:t}})}BJ_REPORT.whiteList=["url.cn","qq.com","gtimg.cn","idqqimg.com"],i=window,o=location.hostname,a=navigator.userAgent,u=[],!/qq\.com/i.test(o)&&!/url\.cn/.test(o)&&u.push("ignore host:"+o),/MSIE [67]\./i.test(a)&&u.push("ignore ie67"),(/Firefox\/6\.0\.2/i.test(a)||/Baiduspider/i.test(a)||/@\s*ozilla\/5\.0/i.test(a))&&u.push("ignore spider:"+a),i.__DIST_MODE__&&"dist"!==i.__DIST_MODE__&&u.push("ignore dev mode"),u.length?BJ_REPORT.closed="badjs_closed:"+u.join(";"):BJ_REPORT.closed=null,function(e){if(e=e||function(){},n("+AKE").isGreyUser)return e(!1,"Script error");var t=new Image,r=!1;t.onreadystatechange=t.onload=t.onerror=function(){if(!r){r=!0;var t=window.onerror;window.onerror=function(n){return window.onerror=t,window.currentError=null,e(!/script error/i.test(n),n),!0},__support_crossorigin.xxx.xxx}},t.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}((function(e,t){l(e?"support crossorigin:"+t:"not support crossorigin,"+t+";"+navigator.userAgent,e?"2204593":"2204594"),e||(BJ_REPORT.closed?BJ_REPORT.closed+=";not support crossorigin":BJ_REPORT.closed="badjs_closed:not support crossorigin")})),window.__getScripts=function(){for(var e=document.getElementsByTagName("script"),t=[],n=0;n<e.length&&n<50;n++){var r=e[n].outerHTML;e[n].src?t.push(e[n].src.substr&&e[n].src.substr(0,100)+"["+e[n].src.length+"]"):r&&r.substr&&t.push(r.substr(0,30)+"["+r.length+"]")}return t};BJ_REPORT.init({id:function(){for(var e=[{regexp:/ke\.qq\.com\/agency\//,id:1452}],t=0;t<e.length;t++){var n=e[t].regexp,r=location.href||"";if(n instanceof RegExp&&n.test(r))return e[t].id}return 1162}(),repeat:100,ignore:[function(e,t){if(e._force_report_)return!1;if(e.ext&&e.ext.msid)return s(e.ext.msid),!0;if(e.level<4)return!1;if(n("+AKE").isGreyUser&&l("grey_user:"+t,0,2),BJ_REPORT.closed)return l(BJ_REPORT.closed,2204606),!0;if(function(e){if(!BJ_REPORT.whiteList||0===BJ_REPORT.whiteList.length)return!1;for(var t=function(e){var t,n=[];if(!e)return n;var r=e.match(/https?:\/\/[-a-zA-Z0-9_]{1,62}\.[-a-zA-Z0-9\._]+?(:\d+)?\//gi);if(!r)return n;for(var i=0;i<r.length;i++)t=r[i].match(/([-a-zA-Z0-9]{1,62}\.[-a-zA-Z0-9]+?)(:\d+)?\/$/).shift().replace(/\//,""),!~n.indexOf(t)&&n.push(t);return n}(e),n=0;n<t.length;n++)if(!~BJ_REPORT.whiteList.indexOf(t[n]))return!0;return!1}(t))return l(t,2204605,2),!0;if(/Firefox\/6\.0\.2/i.test(navigator.userAgent))return!0;if(/无法重新定义不可配置的属性“width”/.test(e.msg))return!0;if(e&&e.msg&&/define is not defined/i.test(e.msg)){var r="";if(window.__getScripts){Math.random()<1&&(r+=";"+JSON.stringify(window.__getScripts()))}e.level=1,e.msg+=r}return!1},/ironman\.taosem\.com/i,/OnExtensionsChanged/,/Object\.eval/i,/targetDocument\.getElementsByTagName/i,/document\.getElementsByName\('viewport'\)\[0\]\.content/i,/Can't\sfind\svariable:\sbds/i,/reloadGame/i,/https?:\/\/[\w\-\.]*?\.cnzz\.com/i,/https?:\/\/www\.qqjs\.com/i,/https?:\/\/[\w\-\.]*?\.hai33\.com/i,/https?:\/\/[\w\-\.]*?\.sndo\.com/i,/__tv_keydown/i,/\/\/[\w\-\.]*?\.hgddt\.com/i,/\/\/[\w\-\.]*?\.taotaosou\.com/i,/\/\/[\w\-\.]*?\.bang5mai\.com/i,/se-extension:\/\/[^\s]*?\.js/i,/chrome-extension:\/\//i,/\/\/hm\.baidu\.com/i,/www\.tuozhe8\.com/i,/YoukuAntiAds/i],fulllink:!0,url:"//report.edu.qq.com/data_report/web_report",customStringify:c.stringify})},lueo:function(e,t,n){"use strict";var r=n("A3sk"),i=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getLoggerPlatform=h,t.Logger=t.LogType=void 0;var o,a,u=i(n("ZeZv")),c=i(n("aDhn")),s=i(n("EAVL")),l=i(n("oywu")),d=r(n("HO9c")),f=n("XOiT");t.LogType=o,function(e){e.Debug="debug",e.Warn="warn",e.Info="info",e.Error="error"}(o||(t.LogType=o={})),function(e){e.PC="PC",e.H5="H5",e.MP="MINI_PROGRAM",e.ANDROID_APP="ANDROID_APP",e.IOS_APP="IOS_APP",e.IOS="IOS",e.ANDROID="ANDROID"}(a||(a={}));var p=function(){function e(t){(0,s.default)(this,e),this.channel=t.channel,this.moduleName=t.moduleName,this.monitorPoints=t.monitorPoints,this.MonitorType=t.MonitorType,this.ignoreErr=t.ignoreErr,this.imlog=this.getImlog()}return(0,l.default)(e,[{key:"monitor",value:function(e){var t=this.monitorPoints[e],n=this.getPlatform(),r=t&&t[n];r&&this.imlog.monitor(r)}},{key:"getInstance",value:function(e){var t,n=this,r=e[o.Info],i=e[o.Debug],a=e[o.Warn],u=e[o.Error],s=(t={},(0,c.default)(t,o.Info,(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];null==r||r.apply(e,n.buildMsg(i))})),(0,c.default)(t,o.Debug,(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null==i||i.apply(e,n.buildMsg(r))})),(0,c.default)(t,o.Warn,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];null==a||a.apply(e,n.buildMsg(r))})),(0,c.default)(t,o.Error,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];null==u||u.apply(e,n.buildMsg(r))})),t);return Object.assign(e,s),e}},{key:"getImlog",value:function(){var e=console;return"undefined"!=typeof document&&(e=d.default.createReportor(this.channel)).config({logger:{autoUpload:d.LEVELS.info,keep:7}}),this.getInstance(e)}},{key:"log",value:function(e,t,n){var r=this;return function(i,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=i.constructor.name,c="".concat(u,".").concat(o),s=null==a?void 0:a.value,l=r;a.value=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];l.imlog.info(e,c,"函数进入",l.formatFnResult(i),l.getImlogPrefix());var a=s.call.apply(s,[this].concat(i));return a&&a.then?(a.then((function(n){return l.imlog.info(e,c,"函数结束",l.formatFnResult(i,n),l.getImlogPrefix(null==n?void 0:n.retcode)),t&&l.monitor(t),n})).catch((function(t){var r=null==t?void 0:t.retcode;if(!l.isIgnoreRetcode(r))throw l.imlog.error(e,c,"函数异常",l.formatFnResult(i,l.dealErr(t)),l.getImlogPrefix(r)),n&&l.monitor(n),t})),a):(l.imlog.info(e,c,"函数结束",l.formatFnResult(i,a)),a)}}}},{key:"getPlatform",value:function(){return(0,f.isPC)()?a.PC:a.H5}},{key:"isIgnoreRetcode",value:function(e){return!!this.ignoreErr&&this.ignoreErr.indexOf(e)>-1}},{key:"dealErr",value:function(e){if(e instanceof Error){var t=e||{},n=t.retcode,r=void 0===n?0:n,i=t.message,o=void 0===i?"":i,a=t.name,u=void 0===a?"":a,c=t.stack;return{message:o,name:u,retcode:r,stack:void 0===c?"":c}}return e}},{key:"formatFnResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{args:e,result:t}}},{key:"buildMsg",value:function(e){return[this.moduleName].concat((0,u.default)(e)).map(this.formatMsg)}},{key:"formatMsg",value:function(e){var t=["【","】"];if("string"==typeof e){var n=t[0],r=t[1];return 0===e.indexOf(n)?e:"".concat(n).concat(e).concat(r)}return e}},{key:"getImlogPrefix",value:function(e){return{retcode:e,platform:h()}}}]),e}();function h(){return(0,f.isMiniProgram)()?a.MP:(0,f.isPC)()?a.PC:(0,f.isApp)()?(0,f.isAndroid)()?a.ANDROID_APP:a.IOS_APP:(0,f.isAndroid)()?a.ANDROID:a.IOS}t.Logger=p},m52p:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendVerifyCode=function(e){return(0,i.fetch)("/cgi-proxy/promotion/send_verify_code",{data:e}).then((function(e){var t=e.result;return t.code?Promise.reject(t):t}))},t.SendVerifyCodeType=void 0;var r,i=n("/m0i");t.SendVerifyCodeType=r,function(e){e[e.message=1]="message",e[e.vocal=2]="vocal"}(r||(t.SendVerifyCodeType=r={}))},m9bP:function(e,t,n){var r=n("HYRq"),i=n("xeH2"),o=n("dX8M"),a={};r.config({opername:"Edu"},{table:"dc00149",pr_ip:"obj3",pr_t:"ts",slicer:4}),r.initLocal&&r.initLocal({whiteDomain:["ke.qq.com"],crossProxy:"//ke.qq.com/storage_proxy.html",crossDomain:!0}),a.tdw=function(e,t){r[t?"reportSync":"report"](e)},a.toreport=function(){},a.config=function(e){r.config(i.extend({},e||{}))},a.getReportData=r.getCommonData,o(a),e.exports=a},mAAe:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.millisecondsToSeconds=a,t.isSeconds=u,t.forceToSeconds=c,t.getSvrTime=function(){return a(Date.now())+o},t.setSvrTime=function(e){o=c(e)-a(Date.now())},t.current=s,t.isToday=function(e){return(0,i.default)(1e3*s()).isSame(1e3*c(e),"day")},t.isTomorrow=function(e){var t=(0,i.default)(1e3*s()).hour(0).minute(0).second(0).valueOf();return(0,i.default)(1e3*c(e)).hour(0).minute(0).second(0).valueOf()-t==864e5},t.getDiffTime=function(){return o},t.SECONDS_OF_DAY=t.SECONDS_OF_HOUR=t.SECONDS_OF_MINUTE=void 0;var i=r(n("fGgE")),o=0;t.SECONDS_OF_MINUTE=60;t.SECONDS_OF_HOUR=3600;function a(e){return Math.floor(e/1e3)}function u(e){return"".concat(e).length<13}function c(e){return u(e)?e:a(e)}function s(){return(0,i.default)().unix()+o}t.SECONDS_OF_DAY=86400},mQ5F:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.ApplyChecker=void 0;var i=r(n("gBQG")),o=r(n("ZeZv")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("FO6Z")),s=n("2dtd"),l=n("P87J"),d=n("GYbC"),f=n("G8ho"),p=n("Q2Ko"),h=n("rb4s"),v=n("y8Ek"),g=n("DVBd"),m=n("ygJm"),y=n("XwTY");function _(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,c.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},k=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},P=function(){function e(t){(0,a.default)(this,e),this.opts=t}return(0,u.default)(e,[{key:"checkParams",value:function(){var e=this.opts,t=(0,d.getCid)(e),n=(0,d.getPid)(e);if(!t&&!n){var r=new Error("必传参数：cid或pid！");throw e.err&&e.err(r),r}return!0}},{key:"check",value:function(e,t){return k(this,void 0,void 0,i.default.mark((function n(){var r,a,u,c,d,b,w;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",(0,y.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.InitCheckFail)));case 2:this.checkParams(),r=this.opts,a=[new v.LoginChecker,new f.AccountChecker(e),new h.IAPChecker(e),new p.ApplyStatusChecker(e,r),new m.StudentNameChecker(e,r),new g.PhoneChecker(e,r,t)],u=[].concat(a,(0,o.default)(r.checkProcessors||[])),c=_(u),n.prev=7,c.s();case 9:if((d=c.n()).done){n.next=21;break}if(!(b=d.value).filter||b.filter()){n.next=13;break}return n.abrupt("continue",19);case 13:return n.next=15,b.check();case 15:if((null==(w=n.sent)?void 0:w.pass)||!w.retcode){n.next=19;break}return l.imlog.info("支付checkers失败",w),n.abrupt("return",(0,y.getPassResult)(!1,(0,s.getApplyFrontError)(w.retcode)));case 19:n.next=9;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(7),c.e(n.t0);case 26:return n.prev=26,c.f(),n.finish(26);case 29:return n.abrupt("return",(0,y.getPassResult)(!0));case 30:case"end":return n.stop()}}),n,this,[[7,23,26,29]])})))}}]),e}();t.ApplyChecker=P,w([(0,l.log)("支付checkers")],P.prototype,"check",null)},mSuR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("99me");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("5Qq2");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},mTyC:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt"),o=n("L27N"),a=n("yBst"),u=i(n("xeH2")),c=i(n("m9bP")),s=i(n("lSPl")),l=n("F5LU"),d=n("r7Uw"),f=n("jJgn"),p=r(n("kU/c")),h=r(n("0Khh")),v=window.metaData||{};function g(e,t){v.terms.forEach((function(n){n.term_id===e&&(n.pay_status=t,2===v.source&&(v.source=0),n.is_small_term&&(n.remain_num--,(0,u.default)("#js_small_term_remain").html(n.remain_num)),4!==t&&5!==t||(n.try_study=0))}))}function m(){!function(e){var t=u.default.bom.query("qz_gdt");if(t){var r={product_id:v.cid,click_id:t,source_id:v.aid,conv_time:parseInt(+new Date/1e3)},i=new Image,o=[],a=u.default.extend(e,r);for(var c in a)o.push("".concat(c,"=").concat(a[c]));var s=n("bgUF");i.src=s("http://t.gdt.qq.com/conv/src/38/conv?")+o.join("&")}}({conv_type:0!==v.price?75:74})}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v,r=n.cid,i=v.cur_term_id,l={cid:r,curTermId:i,payParam:t.payParam,succ:function(){g(i,5),(0,f.isHomework)()?(0,f.goToHomework)():(0,o.showApplySuccess)({cid:r,customOfficialAccount:!0,renderOfficialAccount:_,onRendered:function(e){s.default.tdw({action:"exposure",module:"apply_succ_dialog",ver3:e.flag?1:0})},onAuthed:function(e){s.default.tdw({action:"click",module:"apply_succ_auth",ver3:e?1:0})},onManage:function(){s.default.tdw({action:"click",module:"apply_succ_manage"})},onHoverQrcode:function(e){s.default.tdw({action:"hover",module:"apply_succ_focus",ver3:e?1:0})},onStudy:function(){s.default.tdw({action:"click",module:"apply_succ_study"},!0)},onClose:function(){s.default.tdw({action:"click",module:"apply_succ_close"})}}),m(),c.default.tdw({opername:"Edu",action:"ApplySuccess",module:"course",uin:u.default.cookie.uin(),ver1:r,ver2:v.has_record?2:1}),e&&e(i)}};(0,a.wrapApply)(l)}function _(e){var t=function(){e.children(".js-official-account-default").eq(0).removeClass("hide")},n={cid:v.cid,entranceId:d.ENTRANCE_TYPE.apply};(0,l.isWeixinAccount)()?p.checkState(n).then((function(r){r?p.render(e,n):h.init(v.cid,{isInApplySucc:!0,$container:e,onErr:t})})):h.init(v.cid,{isInApplySucc:!0,$container:e,onErr:t})}(0,o.checkUrlAndRender)({customOfficialAccount:!0,renderOfficialAccount:_}),e.exports={selectTerm:function(e,t){return t=t||{},1===(v=window.metaData).payid?y(e,t):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v.cur_term_id,r=u.default.bom.query("saleToken")||u.default.bom.query("token"),i={cid:v.cid,curTermId:n,autoGetCouId:t.autoGetCouId,sourceBuy:t.sourceBuy,payParam:t.payParam||{},succ:function(){g(n,5),m(),e&&e(n)},err:function(e){if(e=e||{},v.price&&c.default.tdw({action:"paid"}),0!==v.price){var t={action:"paid-result",ver1:"0",ver2:v.cid};e&&(e.ec||e.retcode)&&(t.ver3=e.ec),c.default.tdw(t)}return!0}};if(r&&(i.payParam.pay_channel=parseInt(r,10)),t&&t.isGroup){var o={group_id:t.group_id,groupPrice:t.group_price};i.discountInfo={price:o.groupPrice,type:"group_buy",payParam:{group_id:o.group_id},id:o.group_id},(0,a.wrapApply)(i)}else i.discountFilter=["group_buy","bargain_info","partner_plan"],(0,a.wrapApply)(i);s.default.tdw({module:"pay_layer",action:"exposure",ver1:"0",courseid:v.cid,termid:v.cur_term_id})}(e,t)},selectFree:y,accept:function(e,t){var n=v.cid,r=e.curTermId,i={cid:n,curTermId:r,succ:function(){g(r,5),(0,o.showApplySuccess)({cid:n,customOfficialAccount:!0,renderOfficialAccount:_}),m(),c.default.tdw({module:"accept_present",action:"click",obj1:"accept_present_accept",ver1:n,ver2:r}),t&&t(r)}};e.addressId&&(i.addressId=e.addressId),(0,a.wrapApply)(i)},restudy:function(e,t){var n=v.cid,r=e.curTermId,i={cid:n,curTermId:r,succ:function(){g(r,5),(0,o.showApplySuccess)({cid:n,customOfficialAccount:!0,renderOfficialAccount:_}),m(),c.default.tdw({module:"accept_restudy",action:"click",obj1:"accept_restudy_accept",ver1:n,ver2:r}),t&&t(r)}};(0,a.wrapApply)(i)},updatePayStatus:g}},mn89:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Partner=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("CGIb"),u=function(){function e(t){(0,i.default)(this,e),this.discount=t,this.type=a.DiscountType.Partner}return(0,o.default)(e,[{key:"getData",value:function(){return Object.assign({},this.discount)}},{key:"getId",value:function(){return+this.discount.actid}},{key:"getPrice",value:function(){return 0}}]),e}();t.Partner=u},mymt:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.CourseConflict=void 0;var i=r(n("gBQG")),o=r(n("FO6Z")),a=r(n("EAVL")),u=r(n("oywu")),c=n("F5LU"),s=n("uIhe"),l=n("1c9X"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},f=function(){function e(t){(0,a.default)(this,e),this.payInfo=t}return(0,u.default)(e,[{key:"checkConflict",value:function(){return d(this,void 0,void 0,i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.payInfo.productid,(0,c.isPC)()){e.next=3;break}return e.abrupt("return",!0);case 3:if("object"===(0,o.default)(t)){e.next=5;break}return e.abrupt("return",!0);case 5:if(t.type===l.ProductType.CoursePackage){e.next=7;break}return e.abrupt("return",!0);case 7:return e.prev=7,e.next=10,(0,c.fetch)("/cgi-bin/user/check_signed_course_in_pkg",{data:{pkg_id:t.fid}});case 10:n=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),s.imlog.info("【支付模块】","【课程时间冲突检测失败】",e.t0);case 16:if(!(n&&n.result&&n.result.signed_course||[]).length){e.next=19;break}return e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this,[[7,13]])})))}}]),e}();t.CourseConflict=f},"n/qM":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.JdPay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("uIhe"),s=n("DjHw"),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},d=function(){function e(t){(0,o.default)(this,e),this.orderHandler=new s.Order(t)}return(0,a.default)(e,[{key:"pay",value:function(){return l(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o,a,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.orderHandler.order();case 3:t=e.sent,n=t.result||{},r=n.jd_info,o=r&&r.h5_url,a=r&&r.pc_url,s=r&&r.url_param,(0,u.isPC)()?this.pcPay(a,s):this.h5pay(o,s),c.imlog.info("【支付模块】","【京东支付跳转】",r),c.imlog.monitor(34647622),e.next=19;break;case 14:throw e.prev=14,e.t0=e.catch(0),c.imlog.error("【支付模块】","【京东支付失败】",e.t0),c.imlog.monitor(34647623),e.t0;case 19:case"end":return e.stop()}}),e,this,[[0,14]])})))}},{key:"pcPay",value:function(e,t){var n=t.split("&"),r={};n.forEach((function(e){var t=e.indexOf("=");r[e.substr(0,t)]=e.substr(t+1,e.length)}));var i,o=document.getElementsByClassName("js-jd-form");for(var a in 0!==o.length?i=o[0]:((i=document.createElement("form")).className="js-jd-form",document.getElementsByTagName("body")[0].appendChild(i)),i.innerHTML="",i.setAttribute("action",e),i.setAttribute("method","post"),r)if(r.hasOwnProperty(a)){var u=r[a],c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",a),c.value=u,i.appendChild(c)}i.submit()}},{key:"h5pay",value:function(e,t){if(!e||!t)throw new Error("illegal jd return: "+e+JSON.stringify(t));t=t.replace(/\s+/g,"");var n=(0,u.queryToString)({url:e,param:t}),r="//m.ke.qq.com/jdPay.html?"+encodeURIComponent(n);u.Jumper.jump(r,{noBuild:!0})}}]),e}();t.JdPay=d},n6ej:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("tUwb")),o=r(n("4qiJ")),a="report_position_key_lastpage",u="report_position_key_lasturl",c=["ui.ptlogin2.qq.com/cgi-bin/login","open.weixin.qq.com/connect/oauth2/authorize"];var s=function(e){var t=document.createElement("a");return t.href=e,{domain:t.hostname,pathname:t.pathname,search:t.search,hash:t.hash}}(document.referrer),l=s.domain+s.pathname,d={get:function(){var e;this.del();try{e=i.default.get(a),e=JSON.parse(e)}catch(e){}return e},set:function(e){var t=location.href;i.default.set(a,JSON.stringify(e)),i.default.set(u,encodeURIComponent(t))},del:function(){this.shouldClear()&&i.default.del(a)},shouldClear:function(){var e,t,n=location.href,r=i.default.get(u);return e=n,t=r,!(o.default.delParam(e,"tuin")===o.default.delParam(t,"tuin")||c.indexOf(l)>=0)}};t.default=d},nCBb:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PayHook=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=n("uIhe");function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,a.default)(n,e);var t=l(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"exec",value:function(e){var t;try{s.imlog.info("【支付模块】","".concat(e," Hook执行】"));for(var n=this[e],r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return null===(t=n)||void 0===t?void 0:t.apply(this,i)}catch(t){s.imlog.error("【支付模块】","".concat(e,"Error: "),t)}}}],[{key:"getInstance",value:function(){return n.payHook}}]),n}(n("UiSp").ActHook);t.PayHook=d,d.payHook=new d},ni0a:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="side-widget dlapp-widget"> <span class="dlapp-widget-main" style="right: -',it.img_main.position_x,"px; bottom: ",it.img_main.position_y,'px;" > <img class="dlapp-widget-main-bg" src="',it.img_main.url,'"/> </span> <img class="dlapp-widget-entry" src="',it.img_entry.url,'" style="right: -',it.img_entry.position_x,"px; bottom: ",it.img_entry.position_y,'px;" /></div>'),_$out_.join("")}}},nkB6:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getAuthTicket=d,t.openHomework=function(e){return s(this,void 0,void 0,i.default.mark((function t(){var n,r,s,f;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d();case 3:if(n=t.sent,r=Object.assign(Object.assign({},e),{ticket:null==n?void 0:n.auth_ticket}),s="".concat(l,"?").concat(u.default.stringify(r)),!(0,c.isClient)()){t.next=10;break}return t.abrupt("return",(0,o.default)("EduShowWebPage",{id:Math.floor(100*Math.random()),url:"".concat(s,"&client=1"),title:"作业详情",width:1050,height:600,top:0,left:0,showMaxBtn:(0,c.isMac)()?0:1,showMinBtn:1,noParent:1,showCloseBtn:1,hideTitleBar:0,hideIfLoseFocus:0,centerParent:1,titleBarColor:"0xffc933",titleColor:"0xffffff",backgroundColor:"0xffffff",linkTitle:1,linkTitleUrl:s,sizeChangeable:!0}));case 10:return f=window.open(s,"_blank"),t.abrupt("return",Promise.resolve({isOpen:!!f,link:s}));case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),a.default.error("【homework】打开作业君链接失败",e,t.t0),t.abrupt("return",Promise.reject(t.t0));case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))};var i=r(n("gBQG")),o=r(n("Dg0a")),a=r(n("HO9c")),u=r(n("KsQx")),c=n("F5LU"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},l="https://homework.study.qq.com/task/student/homework/detail";function d(){return(0,c.fetch)("//ke.qq.com/cgi-proxy/homework/get_auth_ticket").then((function(e){var t=e.result;return void 0===t?{}:t}))}"test"===window.ENV_NAME&&(l="https://eduhomeworkweb.sparta.html5.qq.com/task/student/homework/detail")},nvsS:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("1OyB")),o=r(n("vuIU")),a=r(n("h4RQ")),u=n("1cwk"),c=n("EwS5"),s=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(this,e),this.opts=Object.assign({},u.DEFUALT_OPTS,t),(0,c.loadDependices)().then((function(){n.initPlay(n.opts,r)}))}return(0,o.default)(e,[{key:"onListen",value:function(e){var t=this.opts,n=t.onReady,r=void 0===n?function(){}:n,i=t.onError,o=void 0===i?function(){}:i,a=t.onPause,u=void 0===a?function(){}:a,c=t.onPlaying,s=void 0===c?function(){}:c,l=t.onFullscreenChange,d=void 0===l?function(){}:l,f=t.onPlayEnd,p=void 0===f?function(){}:f;switch(e.type){case"overtime":case"error":o("timeout");break;case"load":r();break;case"playing":s();break;case"pause":u();break;case"fullscreen":d(e&&e.detail&&e.detail.isFullscreen);break;case"ended":p()}}},{key:"getM3U8List",value:function(e){var t=e.fileId;try{return(0,c.getUrlToken)(e).then((function(e){return(0,c.getPlayInfo)(t,e)})).then((function(t){return(0,c.getPlayListWithToken)(t,e)})).catch((function(e){}))}catch(e){return null}}},{key:"getPlayer",value:function(){return this.player}},{key:"initPlay",value:function(e,t){var n=this;return e.fileId?this.getM3U8List(e).then((function(r){if(r&&r.m3u8){var i=Object.assign(r,{width:"100%",height:"100%",autoplay:!1,poster:{style:"stretch"},wording:{2:"网络错误，请检查网络配置或者刷新重试"},report:u.REPORT_CONFIG,systemFullscreen:!0,listener:function(e){n.onListen(e)}},t);n.imwebTcplayer=new a.default(e.containerId,i),n.player=n.imwebTcplayer.tcplayer}})):null}}]),e}();t.default=s},nwoF:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.checkBinded=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,void 0,void 0,o.default.mark((function t(){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,(new l.User).getUserPhone();case 3:if(!t.sent){t.next=6;break}return t.abrupt("return",i.BINDED);case 6:return t.abrupt("return",i.UNBINDED);case 7:if((0,s.isLoginByCookie)()&&(0,s.getStorage)("mobileBindInfo_lastLoginTime")){t.next=9;break}return t.abrupt("return",i.NO_CHECK);case 9:if((0,s.removeStorage)("mobileBindInfo_lastLoginTime"),"1"!==(0,s.getStorage)("mobileBindInfo_jump")){t.next=13;break}return(0,s.removeStorage)("mobileBindInfo_jump"),t.abrupt("return",i.NO_CHECK);case 13:if((0,s.formatStandardDate)(+(0,s.getStorage)("mobileBindInfo_lastDailogTime"))!==(0,s.formatStandardDate)(+new Date)){t.next=15;break}return t.abrupt("return",i.NO_CHECK);case 15:return t.next=17,(new l.User).getUserPhone();case 17:if(!t.sent){t.next=20;break}return t.abrupt("return",i.BINDED);case 20:return t.next=22,(new h).fetchTelCollectPage();case 22:if(n=t.sent,!v(n)){t.next=27;break}return(0,s.setStorage)("mobileBindInfo_lastDailogTime",+new Date),t.abrupt("return",i.COLLECT);case 27:return t.abrupt("return",i.UNBINDED);case 28:case"end":return t.stop()}}),t)})))},t.BindedStatus=void 0;var i,o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=r(n("FO6Z")),s=n("F5LU"),l=n("YHBh"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,c.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p="//sas.qq.com/cgi-bin/ke_operation_telCollectPage",h=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,[{key:"fetchTelCollectPage",value:function(){return(0,s.fetch)(p).then((function(e){var t=e.result,n=void 0===t?{}:t,r=n.h5,i=void 0===r?[]:r,o=n.pc,a=void 0===o?[]:o;return i.concat(a)})).catch((function(){return[]}))}}]),e}();function v(e){var t=location.host+location.pathname;return e.some((function(e){return/^\/[^\/].*\/$/.test(e.url)?new RegExp(e.url.slice(1,-1),"i").test(location.href):t===e.url.replace(/^(https?\:)?\/\//,"")}))}d([(0,s.cache)(p)],h.prototype,"fetchTelCollectPage",null),t.BindedStatus=i,function(e){e[e.NO_CHECK=-1]="NO_CHECK",e[e.UNBINDED=0]="UNBINDED",e[e.BINDED=1]="BINDED",e[e.COLLECT=2]="COLLECT"}(i||(t.BindedStatus=i={}))},nzmE:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.OperateChecker=t.PAGE_TYPE_TO_NAME=t.PageTypes=t.ActType=void 0;var i,o,a,u=r(n("EAVL")),c=r(n("aDhn"));t.ActType=o,function(e){e.Obn="obn",e.AgencyRace="agencyRace",e.Partition="partition",e.PendantAct="pendantAct",e.IndexDialog="indexDialog",e.NewcomerWelfare="newcomerWelfare",e.CashBack="cashBack",e.ActSubscribe="actSubscribe",e.Act20201111="act20201111",e.FreeLeaning="freeLeaning",e.Lnh="lnh"}(o||(t.ActType=o={})),t.PageTypes=a,function(e){e[e.INDEX=0]="INDEX",e[e.CATE=1]="CATE",e[e.LIST=2]="LIST",e[e.COURSE=3]="COURSE",e[e.PACKAGE=4]="PACKAGE",e[e.MIME=5]="MIME",e[e.PLAN=6]="PLAN"}(a||(t.PageTypes=a={}));var s=(i={},(0,c.default)(i,a.INDEX,"index"),(0,c.default)(i,a.CATE,"cateList"),(0,c.default)(i,a.LIST,"list"),(0,c.default)(i,a.COURSE,"course"),(0,c.default)(i,a.PACKAGE,"package"),(0,c.default)(i,a.MIME,"web_center"),(0,c.default)(i,a.PLAN,"personalcenter"),i);t.PAGE_TYPE_TO_NAME=s;t.OperateChecker=function e(){(0,u.default)(this,e)}},oAW5:function(e,t,n){var r=n("xeH2");e.exports={check:function(e){try{if("/storage_proxy.html"===location.pathname)return}catch(e){}var t,n=r.ajax({url:e.url,timeout:3e3,headers:{"X-Tgw-Sc":e.pageFlag},error:function(e,n,r){t={result:0,err:"timeout"===n?1:4,rsp_len:0,rsp_code:e.status,rsp_text:""}},success:function(e){t={result:1-(213===(e=e||"").length),err:0,rsp_len:e.length,rsp_code:200,rsp_text:e}}}).always((function(){var i={};r.extend(i,t,{product:e.product,url:e.url,location:"",rsp_server:n.getResponseHeader("server")||""}),function(e,t){var n=r('<iframe name="scIframe" id="scIframe" src="about:blank">');n.appendTo("body"),n.css("display","none");var i=r("<form></form>");for(var o in i.attr("action",e),i.attr("method","post"),i.attr("target","scIframe"),t){var a=r("<input type='hidden' name='"+o+"' />");a.attr("value",t[o]),i.append(a)}i.appendTo("body"),i.css("display","none"),i.submit(),setTimeout((function(){i.remove(),n.remove(),n=i=null}),500)}("//tgwsc.qq.com/sc",i),n=null}))}}},oDCV:function(e,t,n){"use strict";var r=n("TqRt")(n("lSPl")),i=$("#topic-list-seo"),o=i.find(".js-topic-item");e.exports={init:function(){!function(){if(!i.length)return;r.default.tdw({module:"topic",action:"exposure"}),r.default.reportExposure({$reportModule:o,reportFun:function(e,t){t.data("hasReport",!0),r.default.tdw({module:"topic_tab",action:"exposure",position:t.index()+1,ver1:t.text()})}}),i.on("click",".js-topic-item",(function(){var e=$(this);r.default.tdw({module:"topic_tab",action:"click",position:e.index()+1,ver1:e.text(),ver3:e.data("type")})}))}(),$(".tab-bar-item").on("click",(function(){var e=$(this).index();$(".tab-bar-item").eq(e).addClass("active").siblings().removeClass("active"),$(".tab-content-item").eq(e).show().siblings().hide(),r.default.tdw({module:"topic",action:"click",position:e+1})}))}}},oP4h:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.distributePhoneInstance=t.DistributePhone=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("F5LU"),u=n("8p0i"),c=function(){function e(){(0,i.default)(this,e),this.requestCache=new u.RequestCache,this.getSasData=this.getSasCacheFn(),this.info=null}return(0,o.default)(e,[{key:"load",value:function(){var e=this;return this.getSasData().then((function(t){var n=t.result;return e.info=n,n}))}},{key:"setInfo",value:function(e){this.info=e}},{key:"getInfo",value:function(){return this.info}},{key:"isDistributeForcePhoneAuth",value:function(e,t){var n=this.info,r=(0,a.getQuery)("saleToken");if(!n||!r)return!1;var i=(n.aid||"").replace("，",",").split(","),o=(n.cid||"").replace("，",",").split(",");return!n.is_grey||t&&i.indexOf("".concat(t))>=0||o.indexOf("".concat(e))>=0}},{key:"getSasCacheFn",value:function(){return this.requestCache.makeCache(this.fetchSasData,this,"ke_operation_distributePhoneAuth")}},{key:"fetchSasData",value:function(){return(0,a.fetch)("//sas.qq.com/cgi-bin/ke_operation_distributePhoneAuth")}}]),e}();t.DistributePhone=c;var s=new c;t.distributePhoneInstance=s},oRpG:function(e,t,n){n("q+3g");var r=n("xeH2");e.exports={isWeixinUser:function(){return 2==r.cookie.get("uid_type")}}},oZAU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=void 0;var i=n("Psbu");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n("1RQl");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n("5RR2");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=i.StaticImgRetry;t.default=u},ofZE:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("4XZU")),c=r(n("ypeV")),s=r(n("e4x/")),l=r(n("Udhi")),d=r(n("okMe")),f=r(n("a3Zo")),p=n("I+bn"),h=n("J9Yu");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},m=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var r,i;(0,o.default)(this,n),(r=t.call(this)).emitCache=new Map,r.props={termId:""},r.needSecond=0,r.shouldCountDown=!0,r.reportInterval=h.REPORT_INTERVAL,r.loading=!1,r.onStart=function(){r.timer&&(clearInterval(r.timer),r.timer=void 0),r.needSecond<=0||!r.shouldCountDown||(r.isFirstPlay&&(r.isFirstPlay=0),r.timer=setInterval((function(){r.needSecond-=1,r.reportInterval-=1,r.needSecond<=0?(n.logger("【畅学卡】完成学习时长，转为可领取状态"),r.grantCourse(),r.emit("change",{type:h.RECEIVE_STATE.DONE}),r.emit("active",!0),r.setActiveTimeout(),clearInterval(r.timer),r.timer=void 0):(n.reportRecord&&0===r.reportInterval&&(n.reportRecord(),r.reportInterval=h.REPORT_INTERVAL),r.emit("change",{type:h.RECEIVE_STATE.DOING,sec:r.needSecond}))}),1e3))},r.onPause=function(){clearInterval(r.timer),r.timer=void 0};var a=n.instance,c=null!=e?e:{},s=c.termId,d=void 0===s?"":s;return!a||(null===(i=a.props)||void 0===i?void 0:i.termId)!==d&&d?(r.props=c,r.on("start",r.onStart),r.on("pause",r.onPause),r.init(),n.instance=(0,u.default)(r),(0,l.default)(r,(0,u.default)(r))):(a.courseState?a.initHandle(a.courseState):a.loading||a.init(),(0,l.default)(r,a))}return(0,a.default)(n,[{key:"init",value:function(){var e;return g(this,void 0,void 0,i.default.mark((function t(){var r,o,a,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!==(e=this.props)&&void 0!==e?e:{},o=r.termId,a=void 0===o?"":o,t.prev=1,this.loading=!0,this.emit("loading",!0),t.next=6,(0,p.fetchFreeLearningCourseCGIData)("".concat(a),{tryLogin:!1});case 6:u=t.sent,this.courseState=u.result,this.loading=!1,this.emit("loading",!1),this.setNeedSecond(u.result),this.initHandle(u.result),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(1),n.logger("【畅学卡】获取畅学卡课程信息失败 - ".concat(JSON.stringify(t.t0))),this.loading=!1,this.emit("loading",!1),this.emit("data",{error:!0,result:t.t0});case 20:case"end":return t.stop()}}),t,this,[[1,14]])})))}},{key:"setNeedSecond",value:function(e){var t=e.need_study_sec,n=void 0===t?0:t,r=e.already_study_sec,i=void 0===r?0:r,o=e.is_first_play;this.needSecond=n-i,this.isFirstPlay=o}},{key:"initHandle",value:function(e){var t=this,r=e.is_study_course,i=e.is_granted,o=e.gift_pack_granted,a=e.has_gift_pack;if(this.emit("data",e),!r)return this.emit("init",{type:h.RECEIVE_STATE.NOT_STUDY_COURSE}),this.shouldCountDown=!1,void n.logger("【畅学卡】该课程不是畅学卡课程");if(i&&(a&&o||!a))return this.emit("init",{type:h.RECEIVE_STATE.GOT,hasGiftPack:!!a}),this.shouldCountDown=!1,void n.logger("【畅学卡】已领取过该课程");if(this.isFirstPlay)this.emit("init",{type:h.RECEIVE_STATE.FIRST,sec:this.needSecond||0,hasGiftPack:!!a}),n.logger("【畅学卡】展示首次播放的提示，需学".concat(this.needSecond,"S")),this.emit("active",!0),this.setActiveTimeout((function(){t.emit("change",{type:h.RECEIVE_STATE.DOING,sec:t.needSecond})}));else{var u=this.needSecond;u>0?(n.logger("【畅学卡】本次还需学".concat(u,"S")),this.emit("init",{type:h.RECEIVE_STATE.DOING,sec:u,hasGiftPack:!!a})):(this.emit("init",{type:h.RECEIVE_STATE.DONE,hasGiftPack:!!a}),this.shouldCountDown=!1,n.logger("【畅学卡】初始为可领取状态"),this.emit("active",!0),this.setActiveTimeout())}}},{key:"setActiveTimeout",value:function(e){var t=this;setTimeout((function(){t.emit("active",!1),e&&e()}),h.ACTIVE_DURATION)}},{key:"getCurrentSec",value:function(){return this.needSecond}},{key:"getFormatCurrentSec",value:function(){var e=this.paddingZero(Math.floor(this.needSecond/60)),t=this.paddingZero(this.needSecond%60);return"".concat(e,":").concat(t)}},{key:"paddingZero",value:function(e){return e<10?"0".concat(e):"".concat(e)}},{key:"grantCourse",value:function(){var e;return g(this,void 0,void 0,i.default.mark((function t(){var r,o,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.beforeReceive,o=!0,!r){t.next=7;break}return t.next=5,Promise.resolve(r());case 5:a=t.sent,o=!!a;case 7:(0,p.grantStudyCardCourse)("".concat(null===(e=this.props)||void 0===e?void 0:e.termId)).then((function(){n.logger("【畅学卡】领取课程成功")})).catch((function(e){n.logger("【畅学卡】领取课程失败 - ".concat(JSON.stringify(e)))})),o||n.logger("【畅学卡】上报学习进度失败，可能造成领课失败");case 9:case"end":return t.stop()}}),t,this)})))}},{key:"on",value:function(e,t){if("function"!=typeof t)throw new Error("cb参数必须是一个回调函数");(0,c.default)((0,d.default)(n.prototype),"on",this).call(this,e,t);var r=this.emitCache.get(e);return r&&(this.emit(e,r),this.emitCache.set(e,void 0)),this}},{key:"once",value:function(e,t){if("function"!=typeof t)throw new Error("cb参数必须是一个回调函数");(0,c.default)((0,d.default)(n.prototype),"once",this).call(this,e,t);var r=this.emitCache.get(e);return r&&(this.emit(e,r),this.emitCache.set(e,void 0)),this}},{key:"emit",value:function(e,t){var r=(0,c.default)((0,d.default)(n.prototype),"emit",this).call(this,e,t);return!r&&t&&this.emitCache.set(e,t),r}}],[{key:"emit",value:function(e,t){var r=n.instance;r&&r.emit(e,t)}},{key:"setLogger",value:function(e){"function"==typeof e&&(n.logger=e)}}]),n}(f.default);t.default=m,m.logger=function(){},m.instance=null},onpD:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={InstitutionCouponImp:!0};t.InstitutionCouponImp=void 0;var o=r(n("EAVL")),a=r(n("oywu")),u=r(n("e4x/")),c=r(n("Udhi")),s=r(n("okMe")),l=n("sPX+"),d=n("cCMk");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=function(e){(0,u.default)(n,e);var t=f(n);function n(){var e;return(0,o.default)(this,n),(e=t.apply(this,arguments)).type=l.InstitutionDiscountType.Coupon,e.desc="机构优惠券",e}return(0,a.default)(n,[{key:"getPayParam",value:function(){return this.getId()?{cou_id:this.getId()}:{}}}]),n}(d.BaseCouponImp);t.InstitutionCouponImp=p},or4B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configEnv=function(e){r=e.request},t.fetchWxAccountComponentInfo=function(e){return r("/cgi-proxy/basic_info/get_wx_account_component_info",{data:e}).then((function(e){return e.result}))},t.getReqParams=function(e){var t,n=e.cid,r=e.pkgId,o=e.entranceId,a=e.componentIds,u=e.loginUin;switch(o){case i.ENTRANCE_TYPE.apply:t={entrance_id:o,course_id:n||r,is_pkg:n?0:r?1:0};break;case i.ENTRANCE_TYPE.act:t={entrance_id:o,component_id:JSON.stringify(a)};break;default:t={entrance_id:o}}u&&Object.assign(t,{login_uin:u});return t};var r,i=n("4Zsq")},ow7X:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneCheck=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=n("F5LU"),c=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},s={852:/^[5,6,9]\d{7}$/,853:/^6\d{7}$/,86:/^1\d{10}$/,886:/^0{0,1}[6,7,9](?:\d{7}|\d{8}|\d{10})$/,default:/^\d{1,14}$/},l=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"getPhoneDesc",value:function(){return(0,u.fetch)("//sas.qq.com/cgi-bin/ke_data_intlTelDialingCode")}},{key:"checkPhone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"86";return s[t]?s[t].test(e):s.default.test(e)}}]),e}();t.PhoneCheck=l,c([(0,u.cache)("//sas.qq.com/cgi-bin/ke_data_intlTelDialingCode")],l.prototype,"getPhoneDesc",null)},p4kF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applySmsCode=function(e){return(0,i.fetch)("/cgi-bin/tool/apply_sms_code",{data:e})},t.getApplySmsCodeRetcodeText=function(e){switch(e){case 120011:return(0,o.getErrorText)(103);case 106502:return(0,o.getErrorText)(301);default:return(0,o.getErrorText)(300)}},t.ApplySmsCodeParamUnionCheck=void 0;var r,i=n("/m0i"),o=n("/3d5");t.ApplySmsCodeParamUnionCheck=r,function(e){e[e.Normal=0]="Normal",e[e.Union=1]="Union"}(r||(t.ApplySmsCodeParamUnionCheck=r={}))},p6on:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PayCashBackAct=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=n("1Pex"),u=n("NnY6"),c=function(){function e(){(0,i.default)(this,e),this.cashBackAct=new u.CashBackAct}return(0,o.default)(e,[{key:"isAct",value:function(e){return this.cashBackAct.isAct.call(this.cashBackAct,e)}},{key:"getLowerPayPrice",value:function(){return this.cashBackAct.getLowerPayPrice.call(this.cashBackAct)}},{key:"getCallbackUrlParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getPayPrice(null==e?void 0:e.payPrice,null==e?void 0:e.price);return n<t?null:{actType:a.ActType.CashBack}}},{key:"getPayPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return window.__CASH_BACK_TEST__?t:e}}]),e}();t.PayCashBackAct=c},p9Rg:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="consult-wrapper"> <p class="consult-txt js-contact-btn" data-position="bar"> '),isQidian?_$out_.push(' <i class="icon-font i-qq-new"></i> '):_$out_.push(' <i class="icon-font i-comment"></i> '),_$out_.push(' 咨询 </p> <div class="consult-tip"> <i class="btn-close icon-font i-close"></i> <ul> <li>了解课程？</li> <li>价格优惠？</li> <li>学习服务？</li> </ul> <span class="consult-btn js-contact-btn" data-position="tips">点击咨询解答</span> </div></div>'),_$out_.join("")}}},pCHF:function(e,t,n){var r=n("xeH2"),i=n("m9bP"),o=n("MQkb");r(document).on("click doReport","*[report-tdw]",(function(e,t){var n=r(this),a=n.attr("report-tdw"),u=n.attr("report-close");if(u=u?+u:0,a){var c;if((c=n.data("DATA_REPORT"))||(c=i.parseReportAttr(a)||[]),t&&(t.isCloseReport&&(u=t.isCloseReport,n.attr("report-close",+!!t.isCloseReport)),t.data))for(var s in t.data)for(var l,d=0,f=c.length;d<f;d++)l=c[d]||(c[d]={}),t.data.hasOwnProperty(s)&&(l[s]=t.data[s]);n.data("DATA_REPORT",c),(!u&&"click"===e.type||"doReport"===e.type)&&(i.tdw&&i.tdw(c),o.addRecord(n))}})),e.exports=i},pEdQ:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PaylayerTerm=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("Q86Y")),u=n("siOb"),c=n("uIhe"),s=n("1c9X"),l=n("vqVK"),d=function(){function e(t,n,r){(0,i.default)(this,e),this.opts=t,this.prefetchData=n,this.displayConfig=r}return(0,o.default)(e,[{key:"getTermInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if(!(0,l.isCourse)(this.opts))return null;var n=this.addTermDesc(this.getTerms(e,t)),r={curTermId:e,terms:n};return c.imlog.info("【支付模块】","【组装paylayer班级信息】",r),r}},{key:"addTermDesc",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){var n=t&&t.term||{},r=t.start_time,i=t.end_time,o=e.getTermDesc(r,i);return{term_name:n.term_name,tid:n.tid,desc:o,order:t.order}}))}},{key:"getTermDesc",value:function(e,t){var n;if(!(null===(n=this.displayConfig)||void 0===n?void 0:n.dateShow))return"";var r=e?(0,a.default)(1e3*e).format("YYYY-M-D"):"随到随学";return t&&(r+=" 至 ".concat((0,a.default)(1e3*t).format("YYYY-M-D"))),r}},{key:"getTerms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=this.opts,r=this.prefetchData&&this.prefetchData.paylayerData||{},i=r.detail,o=void 0===i?[]:i,a=(0,l.isCourse)(n)&&n.from===s.PageFrom.Order,c=t&&t.type===u.DiscountType.Group;return a||c?o.filter((function(t){return(t&&t.term||{}).tid===e})):o}}]),e}();t.PaylayerTerm=d},pNy8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.query=function(e){var t=window.location.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(&|$)"));return t?decodeURIComponent(t[2]):""},t.getHash=function(e){var t=window.location.hash.match(new RegExp("(#|&)"+e+"=([^&]*)(&|$)"));return t?decodeURIComponent(t[2]):""}},pgcf:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.BeforePayChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("2dtd"),s=n("P87J"),l=n("XwTY"),d=n("CGe6"),f=n("E/0V"),p=n("yPQY"),h=n("RA84"),v=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},m=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"check",value:function(e,t){return g(this,void 0,void 0,i.default.mark((function n(){var r,o,a,u,s;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=[new h.AddressChecker,new f.RechargeChecker(e),new p.TimeConflitChecker,new d.CourseConflitChecker],o=0,a=r;case 2:if(!(o<a.length)){n.next=12;break}return u=a[o],n.next=6,u.check(e,t);case 6:if((null==(s=n.sent)?void 0:s.pass)||!s.retcode){n.next=9;break}return n.abrupt("return",(0,l.getPassResult)(!1,Object.assign(Object.assign({},(0,c.getApplyFrontError)(s.retcode)),s)));case 9:o++,n.next=2;break;case 12:return n.abrupt("return",(0,l.getPassResult)(!0));case 13:case"end":return n.stop()}}),n)})))}}]),e}();t.BeforePayChecker=m,v([(0,s.log)("支付前置checkers")],m.prototype,"check",null)},pjSC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ansStuffFormater=function(e){var t=e.ans_stuff;return delete e.ans_stuff,Object.assign(Object.assign({},e),t)},t.exerciseStuffFormater=function(e){var t=e.ex_stuff;return delete e.ex_stuff,Object.assign(Object.assign({},e),t)},t.getAttachmentType=function(e){var t=e.title.toLocaleLowerCase();switch(!0){case i.test(t):return r.FILE_TYPE.IMG;case o.test(t):return r.FILE_TYPE.VIDEO;case c.test(t):return r.FILE_TYPE.AUDIO;case a.test(t):return r.FILE_TYPE.WORD;case u.test(t):return r.FILE_TYPE.PDF}return r.FILE_TYPE.UNKNOWN};var r=n("1OfD"),i=/(.*)\.(jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga|jfif)$/,o=/(.*)\.(mp4|m4v|mov|qt|avi|flv|wmv|asf|mpeg|mpg|vob|mkv|asf|wmv|rm|rmvb)$/,a=/(.*)\.(doc|docm|docx)$/,u=/(.*)\.(pdf)$/,c=/(.*)\.(cda|wav|mp3|mid|wma|m4a)$/},plXc:function(e,t,n){var r=n("Yb2d"),i=n("FE3Q"),o=n("f5oH"),a=n("htin"),u=n("faRn"),c=n("AvUf"),s=o.get(),l=a(),d=["skey","uid","uid_type"],f=function e(){if(e.isLoading)return e.promise;e.isLoading=!0;var t=r.Deferred();return e.promise=t.promise(),u().then((function(e){i.updateInfo(r.extend({},a(),e)),t.resolve(i.getInfoSync())}),t.reject),e.promise},p=r.Deferred(),h=p.promise(),v=i.getInfoSync();if(l.skey&&l.uid)if(function(e,t){for(var n=0;n<d.length;n++)if(e[d[n]]!==t[d[n]])return!1;return!0}(l,s)){i.updateInfo(s);var g=v.role_type;p.resolve(v),f().then((function(e){e.is_login&&v.is_login&&g&&e.role_type!==g&&c.alert("您的账号身份角色发生变化，请刷新页面后重试！").onClose((function(){window.location.reload()}))}))}else i.updateInfo(l),f().then(p.resolve,p.reject);else p.resolve(v);e.exports={asyncCache:function(){return h},asyncCGI:function(){return f.promise},isUidChanged:function(){var e=a();return!("1097244880"===e.uid)&&e.uid!==v.uid||e.skey!==v.skey},isLogin:function(){var e=a();return v.is_login&&e.skey&&e.uid}}},prms:function(e,t,n){},pukQ:function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadStatus=t.PLATFORM_TYPE=void 0,t.PLATFORM_TYPE=r,function(e){e[e.PC=1]="PC",e[e.H5=2]="H5"}(r||(t.PLATFORM_TYPE=r={})),t.LoadStatus=i,function(e){e[e.LOADING=0]="LOADING",e[e.SUCCESS=1]="SUCCESS",e[e.FAILURE=2]="FAILURE"}(i||(t.LoadStatus=i={}))},"q+3g":function(e,t,n){var r=n("xeH2"),i=n("w7y4");r.cookie=i,r.reset_own_cookie=function(){r.cookie=i},e.exports=i},q6zo:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.AutoGetCoupon=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=n("F5LU"),c=n("P87J"),s=n("cfQT"),l=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},d=function(){function e(t){(0,i.default)(this,e),this.purchase=t}return(0,o.default)(e,[{key:"autoGetCoupon",value:function(e){var t=this,n=e.split(",").filter((function(e){return Boolean(e)}));return Promise.all(n.map((function(e){return(0,u.fetch)("/cgi-bin/coupon/get_coupon",t.formatReqParam(e))})))}},{key:"init",value:function(){var e=this,t=(0,u.getQuery)("autoGetCouId");return t?this.autoGetCoupon(t).then((function(e){return c.imlog.info("自动领券成功",t),e})).catch((function(t){113134!==(null==t?void 0:t.retcode)&&(113135===(null==t?void 0:t.retcode)&&(t.msg=t.msg||"抱歉，优惠券已被抢光~"),e.purchase.emit(s.Purchase.Events.autoGetCouponError,t))})):null}},{key:"formatReqParam",value:function(e){return{body:{cou_id:e},method:"POST"}}}]),e}();t.AutoGetCoupon=d,l([(0,c.log)("自动领取优惠券")],d.prototype,"autoGetCoupon",null),l([(0,c.log)("自动领取优惠券参数获取")],d.prototype,"formatReqParam",null)},q87w:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Recharge=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("INZq")),c=n("F5LU"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},l=function(){function e(t){(0,o.default)(this,e),this.payOpts=t}return(0,a.default)(e,[{key:"checkIAPBalance",value:function(e){return s(this,void 0,void 0,i.default.mark((function t(){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.priceInfo||{realPrice:0},r=n.realPrice,t.next=4,(0,c.isIAP)();case 4:if(!(t.sent&&Number(r)>0)){t.next=7;break}return t.abrupt("return",!1);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})))}},{key:"jumpRecharge",value:function(){var e,t;return u.default.tdw({action:"click",module:"deposit"},!0),null===(t=(e=this.payOpts).beforePay)||void 0===t||t.call(e,this.payOpts),c.Jumper.jumpRecharge()}}]),e}();t.Recharge=l},qGYQ:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getMqq=m,t.getAppVersion=function(){return new Promise((function(e,t){if(!(0,u.isApp)()&&!(0,u.isSpeedApp)())return e(0);m().then((function(n){n.invoke("edu","getVersionCode",(function(n){try{var r=JSON.parse(n);e(r.versionCode)}catch(e){t(new Error(n))}}))}))}))},t.compairVersionString=b,t.weixinJSBridgeReadyCall=w,t.getNetworkType=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(f&&!t)return e(f);(0,u.isWeixin)()?w((function(){window.WeixinJSBridge.invoke("getNetworkType",{},(function(t){switch(f=-1,t.err_msg){case"network_type:edge":f=2;break;case"network_type:wwan":f=3;break;case"network_type:wifi":f=1}e(f)}))})):m().then((function(t){O(t)?t.device.getNetworkType((function(t){e(f=t)})):e(f=-1)}))},t.getCallingStatus=function(e){return new Promise((function(t){(0,u.isApp)()&&(k||e)?m().then((function(e){e.invoke("media","getIsVideoChat",{callback:e.callback((function(e){k=!0,t(e)}))})})):t(0)}))},t.launchUrlInQQ=P,t.openUrlInQQ=function(e){if(!(0,u.isWeixin)())return P(e);var t=(0,u.getWeiXinVersion)(),n=e;n=(0,u.isAndroid)()?"mqqapi://forward/url?plg_auth=1&url_prefix="+window.btoa(e):"mqqapi://forward/url?version=1&src_type=web&url_prefix="+window.btoa(e);b(t,"6.5.6")>=1&&window.WeixinJSBridge?window.WeixinJSBridge.invoke("launchApplication",{schemeUrl:n}):document.addEventListener("WeixinJSBridgeReady",(function(){setTimeout((function(){window.WeixinJSBridge.invoke("launchApplication",{schemeUrl:n})}),500)}))},t.openWeixin=function(){m().then((function(e){(0,u.isAndroid)()?e.app.launchApp("com.tencent.mm"):e.app.launchApp("weixin://dl/",{type:2})}))},t.setTitle=function(e){if(document.title=e,u.isIOS&&(0,u.isQQ)())return m().then((function(e){e.ui.refreshTitle(),e.invoke("edu","refreshTitle",{})}));return null},t.dealWithIAPWinName=function(){var e=(0,a.getUrlParameter)("from");/dongtai/.test(e||"")&&x()&&a.winname.set("iap","1")},t.isIAP=x,t.withIap=function(e){var t=e;a.winname.get("iap")&&!/isIAP=1/.test(e)&&(e.indexOf("?")>-1?t+="&isIAP=1":t+="?isIAP=1");return t},t.isValidMQQ=O,t.getReportEnv=function(){return(0,u.isQQ)()?"QQ":(0,u.isMiniProgram)()?"miniprogram":(0,u.isWeixin)()?"WX":(0,u.isBaiduApp)()?"BaiDu":(0,u.isWeiboApp)()?"Sina":(0,u.isApp)()?"edu_APP":"other"},Object.defineProperty(t,"isSvr",{enumerable:!0,get:function(){return u.isServer}});var i=r(n("gBQG")),o=r(n("FO6Z")),a=n("bhbm"),u=n("XOiT"),c=n("dgVY"),s=n("/m0i");function l(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f,p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},h=!1,v=[],g=null;function m(){if((0,c.isIframe)()&&window.parent&&window.parent.mqq)return Promise.resolve(window.parent.mqq);if(window.mqq)return Promise.resolve(window.mqq);var e=new Promise((function(e,t){v.push({resolve:e,reject:t})}));return h||(h=!0,g||(g=setTimeout((function(){_(new Error("mqq time out."))}),5e3)),(0,s.loadScript)("//7.idqqimg.com/edu/static/mqq/index.js").then((function(){!function(){var e,t=l(v);try{for(t.s();!(e=t.n()).done;){e.value.resolve(window.mqq)}}catch(e){t.e(e)}finally{t.f()}y()}()})).catch((function(e){_(e)}))),e}function y(){h=!1,clearTimeout(g),g=null}function _(e){var t,n=l(v);try{for(n.s();!(t=n.n()).done;){t.value.reject(e)}}catch(e){n.e(e)}finally{n.f()}y()}function b(e,t){for(var n=(e||"").split("."),r=(t||"").split("."),i=0,o=n.length;i<o;++i){var a=parseInt(n[i],10),u=parseInt(r[i],10);if(a>u)return 1;if(a<u)return-1}return r.length>n.length?-1:0}function w(e){"object"===(0,o.default)(window.WeixinJSBridge)&&"function"==typeof window.WeixinJSBridge.invoke?e():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e))}var k=!1;function P(e){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.src="mqqapi://forward/url?src_type=web&version=1&url_prefix="+window.btoa(e)}function x(){return p(this,void 0,void 0,i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isIOS)()&&!(0,u.isIPad)()||!(0,u.isApp)()){e.next=2;break}return e.abrupt("return",!0);case 2:if(!(0,a.getUrlParameter)("ignoreIAP")){e.next=4;break}return e.abrupt("return",!1);case 4:if(!(0,a.getUrlParameter)("isIAP")){e.next=6;break}return e.abrupt("return",!0);case 6:if("undefined"!=typeof document){e.next=8;break}return e.abrupt("return",!1);case 8:if(!(0,u.isIOS)()&&!(0,u.isIPad)()||!(0,u.isQQ)()){e.next=27;break}if("1"!==a.winname.get("iap")&&!(0,a.getUrlParameter)("iap")){e.next=11;break}return e.abrupt("return",!0);case 11:return e.prev=11,e.next=14,m();case 14:return t=e.sent,e.next=17,C(t);case 17:if(n=e.sent,!/group|friend|discussGroup/.test(n&&n.env_type)){e.next=22;break}if(-1===["2658655094","2029033910"].indexOf(n.friend_uin)){e.next=21;break}return e.abrupt("return",!0);case 21:return e.abrupt("return",!1);case 22:e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(11),e.abrupt("return",!0);case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,null,[[11,24]])})))}function C(e){var t,n=null;return t?Promise.resolve(t):new Promise((function(r,i){clearTimeout(n),n=setTimeout((function(){i()}),2e3),e.data.getWebRunEnv((function(e){t=e,clearTimeout(n),r(e)}))}))}function O(e){return e&&0!==parseInt(e.QQVersion,10)}},qiTZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHomeworkDetail=function(e){var t=e.hw_id,n=e.tid,a=e.aid,u=e.uin,c=void 0===u?(0,r.getUin)()||"":u,s=e.userType,l="c"===(void 0===s?"c":s)?"get_stu_homework_detail_c":"get_stu_homework_detail_b";return(0,r.fetch)("/cgi-proxy/homework/".concat(l),{data:{aid:a,hw_id:t,tid:n,stu_uid:c}}).then((function(e){var t,n,r=e.result,a=r.homework,u=r.answer,s=i.HomeworkUserStatus.DEFAULT;return u&&(s=u.ans_fix===i.HomeworkFixStatus.NEEDFIX?i.HomeworkUserStatus.RECOMMIT:u.ans_review_status?i.HomeworkUserStatus.CORRECTED:i.HomeworkUserStatus.COMMITTED,u.ans_stuffs=null===(t=u.ans_stuffs)||void 0===t?void 0:t.map(o.ansStuffFormater)),{homework:Object.assign(Object.assign({},a),{idx:0,hasUnreadComment:!!a.newreview_flag,student_status:s,student_uin:c,exercises:(null===(n=a.exercises)||void 0===n?void 0:n.map(o.exerciseStuffFormater))||[]}),answer:u}}))};var r=n("F5LU"),i=n("1OfD"),o=n("pjSC")},qmwx:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=function(e){return e},t.LoadStatus=void 0,t.LoadStatus=r,function(e){e[e.INITIAL=0]="INITIAL",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.SUCCESS_FINISH=3]="SUCCESS_FINISH",e[e.FAILURE=4]="FAILURE"}(r||(t.LoadStatus=r={}))},"qq5+":function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<section class="mobile-verify"> <div class="mobile-verify-hd"> <h3 class="mobile-verify-hd-text"> ',title,' </h3> <span class="js-close-btn btn-close"> <i class="icon-font i-close"></i> </span> </div> <div class="mobile-verify-bd"> <form class="mobile-verify-form"> <p class="mobile-verify-info-prefix"> ',prefixText,' </p> <div class="f-row"> <label class="f-label">手机号码</label> <div class="f-input f-input-phone"> <div class="dropdown js-dropdown"> <span class="dropdown-code">',defaultCode,'</span> <a href="javascript:;" class="dropdown-arrow"></a> <div class="dropdown-panel"> ',options,' </div> </div> <input type="text" name="phone" class="js-phone-field f-field f-field-phone" autocomplete="off"> <div class="js-validator-msg err-msg"></div> </div> </div> <div class="f-row"> <label class="f-label">短信验证码</label> <div class="f-input"> <input type="text" name="code" class="js-code-field f-field" maxlength="6" autocomplete="off"> <button type="button" class="js-verify-btn btn-verify disabled">获取验证码</button> <div class="js-validator-msg err-msg"></div> </div> </div> <p class="mobile-verify-info-suffix"> ',suffixText,' </p> </form> </div> <div class="mobile-verify-ft"> <a href="javascript:void(0)" class="js-activate-btn btn-default btn-m btn-activate disabled"> ',activateBtn," </a> "),skipBtn&&_$out_.push(' <a href="javascript:void(0)" class="js-skip-btn btn-weak btn-m btn-skip"> ',skipBtn," </a> "),_$out_.push(" </div></section>"),_$out_.join("")}}},qqDj:function(e,t,n){var r,i,o,a,u,c=n("xeH2"),s=n("0HC3"),l=document,d=window.location,f=s.parseQuery(d.search),p={origin:l.referrer};p.origin&&(p=c.extend(p,s.parseHref(p.origin))),f.from=f.from||s.getHash("from")||"",f.tuin=s.getHash("tuin")||"",c.inArray(f.from,["28","63","64","17"])>-1?(r=f.from,a=f.from):(/ke\.qq\.com$/.test(p.domain)?o=f.from:p.domain?(c.inArray(p.domain,["pay.qq.com"])<0&&(r=p.domain),u=p.domain):f.from?r=f.from:f.tuin&&(r=146),void 0===o&&(a=f.from)),e.exports=function(e){return i=f.keyword?f.keyword:r===e.ver4?e.ver5:"",r=r||e.ver4||"4",o=o||e.ver6||"",u=u||e.refer||"",a=a||e.from_channel||"",{ver4:r,ver5:i,ver6:o,refer:u,from_channel:a}}},quXu:function(e,t,n){},"r/kS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FLAG=t.PROXY_FLAG=t.DEFAULT_IMG=void 0;t.DEFAULT_IMG="//ke.qq.com/lego_modules/edu-ui/0.0.1/img/nohash/img-err2.png";t.PROXY_FLAG="__retried_proxy__";t.DEFAULT_FLAG="__retried_default__"},r2H6:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="login-tab mod-tab" data-type="login"> <a href="javascript:void(0)" id="login_close" class="btn-close ',ssoConfig.inited?"btn-close-active":"",'" title="关闭"> <i class="icon-font i-close"></i> </a> <ul class="mod-tab__ul"> <li class="mod-tab__li mod-tab__li-qq ',qqConfig.inited?"mod-tab__li_current":"",'" data-index="0"> <a class="tab-link" href="javascript:void(0);"><i class="icon-font i-qq"></i>QQ账号登录</a> </li> <li class="mod-tab__li mod-tab__li-wx ',wxConfig.inited?"mod-tab__li_current":"",'" data-index="1"> <a class="tab-link" href="javascript:void(0);"><i class="icon-font i-weixin"></i>微信账号登录</a> </li> <li class="mod-tab__li mod-tab__li-qq ',ssoConfig.inited?"mod-tab__li_current":"",'" data-index="2"> <a class="tab-link" href="javascript:void(0);"><i class="icon-sso"></i>SSO登录</a> </li> </ul> <div class="mod-tab__content ',qqConfig.inited?"":"hide",'" data-inited="',qqConfig.inited,'"> <div class="mod-tab__content-tips">微信和QQ是两个独立账号，账号信息不互通</div> <div class="mod-tab__content-wrap mod-tab__content-wrap_qq"> <iframe name="login_frame_qq" src="',qqConfig.url,'" frameborder="0" scrolling="no" width="626px" height="370px"></iframe> </div> </div> <div class="mod-tab__content ',wxConfig.inited?"":"hide",'" data-inited="',wxConfig.inited,'"> <div class="mod-tab__content-tips">微信和QQ是两个独立账号，账号信息不互通</div> <div class="mod-tab__content-wrap wx__tab"> <label class="login-wx-tips">安全登录，防止被盗</label> <div class="login-code-container loading"> </div> </div> </div> <div class="mod-tab__content ',ssoConfig.inited?"":"hide",'" data-inited="',ssoConfig.inited,'"> <div class="mod-tab__content-wrap sso__tab"> </div> </div></div>'),_$out_.join("")}}},r35l:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorArgs=t.MonitorKey=t.monitorPoints=t.MonitorType=void 0;var i,o,a,u=r(n("aDhn"));t.MonitorType=a,function(e){e.FETCH_DISCOUNT_SUCC="FETCH_DISCOUNT_SUCC",e.FETCH_DISCOUNT_ERR="FETCH_DISCOUNT_ERR",e.FETCH_PRICING_SUCC="FETCH_PRICING_SUCC",e.FETCH_PRICING_ERR="FETCH_PRICING_ERR",e.INSTITUTION_PROCESS_SUCC="INSTITUTION_PROCESS_SUCC",e.INSTITUTION_PROCESS_ERR="INSTITUTION_PROCESS_ERR",e.PLATFORM_PROCESS_SUCC="PLATFORM_PROCESS_SUCC",e.PLATFORM_PROCESS_ERR="PLATFORM_PROCESS_ERR",e.INSTITUTION_CREATE_DATA_SUCC="INSTITUTION_CREATE_DATA_SUCC",e.INSTITUTION_CREATE_DATA_ERR="INSTITUTION_CREATE_DATA_ERR",e.PLATFORM_CREATE_DATA_SUCC="PLATFORM_CREATE_DATA_SUCC",e.PLATFORM_CREATE_DATA_ERR="PLATFORM_CREATE_DATA_ERR",e.FETCH_OPERATION_SUCC="FETCH_OPERATION_SUCC",e.FETCH_OPERATION_ERR="FETCH_OPERATION_ERR"}(a||(t.MonitorType=a={}));var c,s=(i={},(0,u.default)(i,a.FETCH_DISCOUNT_SUCC,{H5:35081380,PC:35081366}),(0,u.default)(i,a.FETCH_DISCOUNT_ERR,{H5:35081381,PC:35081367}),(0,u.default)(i,a.FETCH_PRICING_SUCC,{H5:35081382,PC:35081368}),(0,u.default)(i,a.FETCH_PRICING_ERR,{H5:35081383,PC:35081369}),(0,u.default)(i,a.INSTITUTION_PROCESS_SUCC,{H5:35081384,PC:35081370}),(0,u.default)(i,a.INSTITUTION_PROCESS_ERR,{H5:35081385,PC:35081371}),(0,u.default)(i,a.PLATFORM_PROCESS_SUCC,{H5:35081386,PC:35081372}),(0,u.default)(i,a.PLATFORM_PROCESS_ERR,{H5:35081387,PC:35081373}),(0,u.default)(i,a.INSTITUTION_CREATE_DATA_SUCC,{H5:35081388,PC:35081374}),(0,u.default)(i,a.INSTITUTION_CREATE_DATA_ERR,{H5:35081389,PC:35081375}),(0,u.default)(i,a.PLATFORM_CREATE_DATA_SUCC,{H5:35081390,PC:35081376}),(0,u.default)(i,a.PLATFORM_CREATE_DATA_ERR,{H5:35081391,PC:35081377}),(0,u.default)(i,a.FETCH_OPERATION_SUCC,{H5:35081392,PC:35081378}),(0,u.default)(i,a.FETCH_OPERATION_ERR,{H5:35081393,PC:35081379}),i);t.monitorPoints=s,t.MonitorKey=c,function(e){e[e.FETCH_DISCOUNT=0]="FETCH_DISCOUNT",e[e.FETCH_PRICING=1]="FETCH_PRICING",e[e.INSTITUTION_PROCESS=2]="INSTITUTION_PROCESS",e[e.PLATFORM_PROCESS=3]="PLATFORM_PROCESS",e[e.INSTITUTION_CREATE_DATA=4]="INSTITUTION_CREATE_DATA",e[e.PLATFORM_CREATE_DATA=5]="PLATFORM_CREATE_DATA",e[e.FETCH_OPERATION=6]="FETCH_OPERATION"}(c||(t.MonitorKey=c={}));var l=(o={},(0,u.default)(o,c.FETCH_DISCOUNT,["优惠数据接口-优惠列表接口",a.FETCH_DISCOUNT_SUCC,a.FETCH_DISCOUNT_ERR]),(0,u.default)(o,c.FETCH_PRICING,["优惠数据接口-批价接口",a.FETCH_PRICING_SUCC,a.FETCH_PRICING_ERR]),(0,u.default)(o,c.INSTITUTION_PROCESS,["机构数据-处理函数",a.INSTITUTION_PROCESS_SUCC,a.INSTITUTION_PROCESS_ERR]),(0,u.default)(o,c.PLATFORM_PROCESS,["平台数据-处理函数",a.PLATFORM_PROCESS_SUCC,a.PLATFORM_PROCESS_ERR]),(0,u.default)(o,c.INSTITUTION_CREATE_DATA,["机构数据-数据转实例",a.INSTITUTION_CREATE_DATA_SUCC,a.INSTITUTION_CREATE_DATA_ERR]),(0,u.default)(o,c.PLATFORM_CREATE_DATA,["平台数据-数据转实例",a.PLATFORM_CREATE_DATA_SUCC,a.PLATFORM_CREATE_DATA_ERR]),(0,u.default)(o,c.FETCH_OPERATION,["平台运营数据",a.FETCH_OPERATION_SUCC,a.FETCH_OPERATION_ERR]),o);t.MonitorArgs=l},r7Uw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("9C0r");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},r80N:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.intlTelDialingCode=void 0;var i=r(n("+jPT")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=r(n("HO9c")),s=n("F5LU"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},d=[{label:"常用",data:[{region:"China",name:"中国大陆",pinyin:"zhongguo",iso_code:"CN",dialing_code:"86"}]}],f=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"fetch",value:function(){return(0,s.fetch)("//sas.qq.com/cgi-bin/ke_data_intlTelDialingCode").catch((function(e){return c.default.error("[sas]获取国际电话区号",e),{retcode:0,result:d}}))}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"86";return e?t&&"86"!==t?"+".concat(t," ").concat(e):"".concat(e):""}},{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim().match(/^(?:\+(\d*)? )?(\d*)$/)||[],n=(0,i.default)(t,3),r=n[1],o=void 0===r?"86":r,a=n[2];return[o,a]}}]),e}();l([(0,s.cache)("//sas.qq.com/cgi-bin/ke_data_intlTelDialingCode")],f.prototype,"fetch",null);var p=new f;t.intlTelDialingCode=p},rBe4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchStudyCardInfo=a,t.fetchStudyCardInfoCache=function(){r=r||new i.RequestCache;var e="fetchStudyCardInfo";return r.makeCache(a,null,e).apply(void 0,arguments)};var r,i=n("uMWn"),o=n("MR6g");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.env.get("fetch");return t("/cgi-proxy/growth_activity/grant_or_get_study_card",{data:e})}},rRu0:function(e,t,n){"use strict";var r,i,o,a,u,c,s,l,d,f,p,h,v,g,m,y;Object.defineProperty(t,"__esModule",{value:!0}),t.ReturnUrlType=t.AccountType=t.RefundType=t.DiscountType=t.DiscountTypeStr=t.ApplyPage=t.PurchaseUrlQueryKey=t.PresentType=t.ChannelType=t.OrderSource=t.OrderState=t.ApplyFreeType=t.ProductType=t.Source=t.PageFrom=t.Platform=void 0,t.Platform=r,function(e){e[e.PC=1]="PC",e[e.Android=2]="Android",e[e.AndroidApp=3]="AndroidApp",e[e.IOS=4]="IOS",e[e.IOSApp=5]="IOSApp",e[e.PCApp=6]="PCApp",e[e.MP=7]="MP"}(r||(t.Platform=r={})),t.PageFrom=i,function(e){e.Order="order"}(i||(t.PageFrom=i={})),t.Source=o,function(e){e[e.PC=0]="PC",e[e.H5=1]="H5",e[e.IAP=2]="IAP",e[e.Android=3]="Android",e[e.MP=4]="MP"}(o||(t.Source=o={})),t.ProductType=a,function(e){e.CoursePackage="course_package",e.Course="course",e.AgencyRecharge="agency_recharge",e.CdKey="cd_key",e.Instalment="installment"}(a||(t.ProductType=a={})),t.ApplyFreeType=u,function(e){e.ApplyFree="applyFree",e.ApplyFreePackage="applyFreePackage",e.Present="present",e.PkgCoursePresent="pkgCoursePresent"}(u||(t.ApplyFreeType=u={})),t.OrderState=c,function(e){e[e.PayPrepare=1]="PayPrepare",e[e.Paying=2]="Paying",e[e.DeliverFail=3]="DeliverFail",e[e.DeliverSuccess=4]="DeliverSuccess",e[e.PaySuccess=5]="PaySuccess",e[e.Confirming=6]="Confirming",e[e.Checking=7]="Checking",e[e.Refunding=8]="Refunding",e[e.RefundCheck=9]="RefundCheck"}(c||(t.OrderState=c={})),t.OrderSource=s,function(e){e[e.Present=30]="Present",e[e.Restudy=31]="Restudy"}(s||(t.OrderSource=s={})),t.ChannelType=l,function(e){e.DEFAULT="",e.Midas="midas",e.Jd="jd",e.Yqh="YQH"}(l||(t.ChannelType=l={})),t.PresentType=d,function(e){e.PkgCoursePresent="pkgCoursePresent"}(d||(t.PresentType=d={})),t.PurchaseUrlQueryKey=f,function(e){e.IsAuthMobile="is_auth_mobile"}(f||(t.PurchaseUrlQueryKey=f={})),t.ApplyPage=p,function(e){e.H5CourseDetail="h5_page_course_detail",e.PcCourseDetail="pc_page_course_detail"}(p||(t.ApplyPage=p={})),t.DiscountTypeStr=h,function(e){e.Institution="institution",e.Platform="platform"}(h||(t.DiscountTypeStr=h={})),t.DiscountType=v,function(e){e[e.Institution=1]="Institution",e[e.Platform=2]="Platform"}(v||(t.DiscountType=v={})),t.RefundType=g,function(e){e[e.SevenDayRefund=2]="SevenDayRefund",e[e.InApplyTimeRefund=3]="InApplyTimeRefund",e[e.CertRefund=99]="CertRefund"}(g||(t.RefundType=g={})),t.AccountType=m,function(e){e[e.QQ=0]="QQ",e[e.Weixin=2]="Weixin",e[e.OpenPlatform=1008]="OpenPlatform",e[e.Visotor=1001]="Visotor"}(m||(t.AccountType=m={})),t.ReturnUrlType=y,function(e){e.Cert="cert"}(y||(t.ReturnUrlType=y={}))},rb4s:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.IAPChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("2dtd"),l=n("P87J"),d=n("XwTY"),f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},h=function(){function e(t){(0,o.default)(this,e),this.payData=t}return(0,a.default)(e,[{key:"check",value:function(){var e;return p(this,void 0,void 0,i.default.mark((function t(){var n,r,o,a,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null===(e=this.payData)||void 0===e?void 0:e.ext,r=n.price,o=void 0===r?0:r,a=n.isOnIOS,t.next=3,(0,c.isIAP)();case 3:if(u=t.sent,!(o>0&&!a&&u)){t.next=10;break}return t.next=7,(0,c.getMqq)();case 7:return t.sent.ui.showDialog({cancelBtnText:"知道了",needOkBtn:!1,text:"抱歉，该课程暂无法购买",title:"温馨提示"}),t.abrupt("return",(0,d.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.NoIap)));case 10:return t.abrupt("return",(0,d.getPassResult)(!0));case 11:case"end":return t.stop()}}),t,this)})))}},{key:"filter",value:function(){return(0,c.isIOS)()}}]),e}();t.IAPChecker=h,f([(0,l.log)("iap校验checker")],h.prototype,"check",null)},rfeo:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PreFetcher=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("nCBb"),s=n("uIhe"),l=n("vqVK"),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},f=function(){function e(t){(0,o.default)(this,e),this.opts=t,this.payHook=c.PayHook.getInstance()}return(0,a.default)(e,[{key:"preFetch",value:function(){return d(this,void 0,void 0,i.default.mark((function e(){var t,n=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getDefaultUrls(),s.imlog.info("【支付模块】","【支付前置数据开始拉取】"),this.payHook.exec("prefetch",this.opts),e.abrupt("return",Promise.all(t.map((function(e){return(0,u.fetch)(e.url,e.params)}))).then((function(e){return d(n,void 0,void 0,i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.imlog.info("【支付模块】","【支付前置数据拉取成功】",e),s.imlog.monitor(34647615),this.data=this.formatData(e,t),s.imlog.tdw({action:"exposure",module:"pay_layer",ver1:0}),n.abrupt("return",this.data);case 5:case"end":return n.stop()}}),n,this)})))})).catch((function(e){var t=e&&e.retcode;throw 1e5!==t&&100021!==t&&(s.imlog.extra({retcode:t,platform:(0,l.getPlatform)()}).error("【支付模块】","【支付前置数据拉取失败】",e),s.imlog.monitor(34647616),s.imlog.tdw({action:"exposure",module:"pay_layer",ver1:t||-1})),e})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getIAPConfig",value:function(){return d(this,void 0,void 0,i.default.mark((function e(){var t=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.fetch)("//sas.qq.com/cgi-bin/ke_operation_getIAPConfig").then((function(e){return d(t,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})))})).catch((function(){return d(t,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"getData",value:function(){return this.data}},{key:"formatData",value:function(e,t){return e&&e.reduce((function(e,n,r){var i=t[r],o=n&&n.result;return n&&n.date&&(o.date=n.date),e[i.key]=o,e}),{})}},{key:"getDefaultUrls",value:function(){var e=this.opts;return[{key:"paylayerData",params:{data:this.getPayDetailParam(e)},url:"/cgi-proxy/pay_access/pay_detail"},{key:"userInfo",url:"/cgi-bin/user/get_user_info"},{key:"loginUserInfo",url:"/cgi-bin/login/userinfo"}]}},{key:"getPayDetailParam",value:function(e){return(0,l.isCourse)(e)?{cid:e.cid}:{pid:e.pid}}}]),e}();t.PreFetcher=f},rrg5:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.getFreeLearningIndexEntryData=function(){return new Promise((function(e){Promise.all([(0,c.fetchFreeLearningTextSASData)(),(0,a.fetchStudyCardInfoCache)({enter_page_index:1,enter_user_center:0})]).then((function(t){var n,r,a,c,s,l,d,f,p,h,v,g,m,y,_,b=(0,o.default)(t,2),w=b[0],k=b[1],P={popup:{image:["",""],link:["",""],pass:!1,type:i.init},widget:{image:"",link:"",pass:!1}};P.widget.image=(null===(r=null===(n=null==w?void 0:w.result)||void 0===n?void 0:n.widget)||void 0===r?void 0:r.pic_url)||"",P.widget.link=(null===(c=null===(a=null==w?void 0:w.result)||void 0===a?void 0:a.widget)||void 0===c?void 0:c.link)||"";var x=u.env.get("isApp"),C=u.env.get("getStorage"),O=u.env.get("setStorage"),A=Date.now(),T=(C("FreeLearningIndexEntry")||{}).popup||0;if(x()||0===T||A>T+864e5){var S={};switch(!0){case Boolean(null===(s=null==k?void 0:k.result)||void 0===s?void 0:s.is_new_grant):S=(null===(d=null===(l=null==w?void 0:w.result)||void 0===l?void 0:l.home_dialog)||void 0===d?void 0:d.firstDay)||S,P.popup.pass=!0,P.popup.type=i.new;break;case 4===(null===(f=null==k?void 0:k.result)||void 0===f?void 0:f.remain_days):S=(null===(h=null===(p=null==w?void 0:w.result)||void 0===p?void 0:p.home_dialog)||void 0===h?void 0:h.middleDay)||S,P.popup.pass=!0,P.popup.type=i.remain4;break;case 1===(null===(v=null==k?void 0:k.result)||void 0===v?void 0:v.remain_days):S=(null===(m=null===(g=null==w?void 0:w.result)||void 0===g?void 0:g.home_dialog)||void 0===m?void 0:m.lastDay)||S,P.popup.pass=!0,P.popup.type=i.remain1;break;default:x()&&(S=(null===(_=null===(y=null==w?void 0:w.result)||void 0===y?void 0:y.home_dialog)||void 0===_?void 0:_.firstDay)||S,P.popup.pass=!0,P.popup.type=i.new)}if(P.popup.pass)if(P.popup.image=[S.image0||"",S.image1||""],P.popup.link=[S.link0||"",S.link1||""],x());else O("FreeLearningIndexEntry",{popup:A}),P.widget.pass=!0}else T&&A<T+864e5&&(P.widget.pass=!0);return e(P)}))}))},t.FreeLearningIndexEntryDataPopupType=void 0;var i,o=r(n("+jPT")),a=n("rBe4"),u=n("MR6g"),c=n("Ye0L");t.FreeLearningIndexEntryDataPopupType=i,function(e){e.init="init",e.new="new",e.remain4="remain4",e.remain1="remain1"}(i||(t.FreeLearningIndexEntryDataPopupType=i={}))},sFaT:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseJumper=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=n("F5LU"),c=n("P87J"),s=n("GYbC"),l=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},d=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"jumpPurchase",value:function(e,t){var n=this.getJumpUrl(e,t);u.Jumper.jump(n,{openPay:!0})}},{key:"getJumpUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign({},this.getDefaultJumpExt(e)),t);return(0,s.getPurchaseUrl)(e,n)}},{key:"getDefaultJumpExt",value:function(e){var t,n,r,i={};(null==e?void 0:e.autoGetCouId)&&(i.autoGetCouId=e.autoGetCouId),(null==e?void 0:e.sourceBuy)&&(i.sourceBuy=e.sourceBuy),(null===(n=null===(t=null==e?void 0:e.discountInfo)||void 0===t?void 0:t.payParam)||void 0===n?void 0:n.group_id)&&(i.group_id=e.discountInfo.payParam.group_id),(null===(r=null==e?void 0:e.payParam)||void 0===r?void 0:r.pay_channel)&&(i.pay_channel=e.payParam.pay_channel),(null==e?void 0:e.from)&&(i.from=e.from),(null==e?void 0:e.disableChannel)&&(i.disableChannel=e.disableChannel);var o=(null==e?void 0:e.returnParam)||{},a=o.returnUrlType,u=o.returnUrlParam;return a&&(i.returnUrlType=a),u&&(i.returnUrlParam=JSON.stringify(u)),i}}]),e}();t.PurchaseJumper=d,l([(0,c.log)("获取支付页面链接")],d,"getJumpUrl",null),l([(0,c.log)("获取支付页面链接查询参数")],d,"getDefaultJumpExt",null)},"sPX+":function(e,t,n){"use strict";var r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.CGIResultPricingPlanItemDiscountType=t.DiscountPricingParamProductType=t.defaultDiscountModelOptions=t.InstitutionDiscountTypeInPricing=t.PlatformDiscountType=t.InstitutionDiscountType=void 0,t.InstitutionDiscountType=r,function(e){e.Bargain="bargain_info",e.Coupon="coupon",e.Group="group_buy",e.Partner="partner_plan",e.Seckill="limit_coupon"}(r||(t.InstitutionDiscountType=r={})),t.PlatformDiscountType=i,function(e){e.Coupon="PlatCoupon"}(i||(t.PlatformDiscountType=i={})),t.InstitutionDiscountTypeInPricing=o,function(e){e.Bargain="Bargain",e.Coupon="AgencyCoupon",e.Group="GroupBuy",e.Partner="Partner",e.Seckill="LimitCoupon"}(o||(t.InstitutionDiscountTypeInPricing=o={}));var a,u;t.defaultDiscountModelOptions={exclude:[],forceUpdate:!1,include:[]},t.DiscountPricingParamProductType=a,function(e){e.COURSE="course",e.COURSE_PACKAGE="course_package"}(a||(t.DiscountPricingParamProductType=a={})),t.CGIResultPricingPlanItemDiscountType=u,function(e){e[e.INSTITUTION=1]="INSTITUTION",e[e.PLATFORM=2]="PLATFORM"}(u||(t.CGIResultPricingPlanItemDiscountType=u={}))},sWVP:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={SchoolAgency:!0,getTermForStudy:!0,isDownGradeTermForStudy:!0};t.getTermForStudy=m,t.isDownGradeTermForStudy=function(e){return(0,s.isDownGradeTerm)(m(e))},t.SchoolAgency=void 0;var o=r(n("gBQG")),a=r(n("EAVL")),u=r(n("oywu")),c=n("F5LU"),s=n("CmSh");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=n("8p0i"),d=n("GMyB"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p=null,h="",v=!1,g=function(){function e(){(0,a.default)(this,e),this.cache=new l.RequestCache,this.fetchSasData=this.getSasCacheFn()}return(0,u.default)(e,[{key:"needShowDialog",value:function(e,t){var n;return f(this,void 0,void 0,o.default.mark((function r(){var i,a,u;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0,s.isFastAgency)(t)&&!(0,c.getQuery)("lite")){r.next=2;break}return r.abrupt("return",!1);case 2:if(v){r.next=13;break}return r.prev=3,r.next=6,this.getStudentName({course_id:t.cid||0,term_id:t.tid},e);case 6:i=r.sent,r.next=11;break;case 9:r.prev=9,r.t0=r.catch(3);case 11:h=null===(n=null==i?void 0:i.result)||void 0===n?void 0:n.real_name,v=!0;case 13:return r.next=15,this.isShenzhenEduAid(e);case 15:return a=r.sent,u=(0,c.getStorage)(this.getKey(t.tid)),r.abrupt("return",a&&!u&&!h);case 18:case"end":return r.stop()}}),r,this,[[3,9]])})))}},{key:"isWhiteAgency",value:function(e){return f(this,void 0,void 0,o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.isShenzhenEduAid(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"isShenzhenEduAid",value:function(e){return f(this,void 0,void 0,o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.fetchSasData().then((function(t){var n=null==t?void 0:t.result;return null==n?void 0:n.find((function(t){return t.aid===e}))})));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getStudentName",value:function(e,t){return f(this,void 0,void 0,o.default.mark((function n(){var r,i,a;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=(null==e?void 0:e.course_id)||(0,d.getCidFromUrl)(),i=null==e?void 0:e.term_id,a=!1,!t){n.next=7;break}return n.next=6,this.isShenzhenEduAid(t);case 6:a=n.sent;case 7:return n.abrupt("return",(0,c.fetch)("/cgi-proxy/get_user_real_name",{body:Object.assign({course_id:r,is_get_ext:a?1:0,term_id:i},e),method:"POST"}));case 8:case"end":return n.stop()}}),n,this)})))}},{key:"saveStudentInfo",value:function(e){var t=this;return(0,c.fetch)("/cgi-proxy/set_user_real_name",{body:e,method:"POST"}).then((function(n){return(0,c.setStorage)(t.getKey(e.term_id),e),n}))}},{key:"getSasCacheFn",value:function(){return this.cache.makeCache((function(){return(0,c.fetch)("//sas.qq.com/cgi-bin/ke_live_aid")}),this,"shool-agency")}},{key:"getKey",value:function(t){return e.STORAGE_KEY+"_"+(0,c.getUin)()+"_"+t}}],[{key:"getInstance",value:function(){return p||(p=new e),p}}]),e}();function m(e){var t=e.terms||[],n=+(0,c.getUrlParameter)("term_id"),r=t[0];return t.forEach((function(e){e.term_id===n&&(r=e)})),r}t.SchoolAgency=g,g.STORAGE_KEY="SCHOOL_AGENCY_DIALOG"},sgcJ:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe"));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var l=function(e){(0,a.default)(n,e);var t=s(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"jumpAgencyHome",value:function(e,t){var n=e.aid,r=e.domain,i="https://ke.qq.com/views/agencyIndex/index.html?aid=".concat(n);r&&(i="https://".concat(r,".ke.qq.com")),this.jump(i,t)}}]),n}(r(n("tgnt")).default);t.default=l},siOb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("8ZSf");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},srya:function(e,t,n){"use strict";var r=n("F5LU"),i=n("xeH2"),o=n("lSPl"),a=n("EY/S"),u=n("kprn"),c=n("Nfwl"),s=n("q+3g"),l=(i("#js_main_nav"),i("#js_logout_outer")),d=i("#js_logout_outer_agency"),f=i("#js-mod-header-login"),p=function(e,t){var n=t.nick_name||((0,r.isOpenPlatformAccount)()?"学生":"个人中心");n=c.decode(n),e.find(".js-username").prop("title",n).text(n),e.find(".js-avatar").prop("src",t.face_url).one("error",(function(){this.src="//8.idqqimg.com/edu/edu_modules/edu-ui/img/bg/empty-avator.171fd695.png#unsprite"})),t.isOpenPlatformUser||e.find(".js-account").addClass("i-"+(t.isWeixinUser?"weixin":"qq")),e.show()},h=function(e){if(f.length){e.isPlatRole&&1002!=+s.get("uid_type")?e.isPersonal?function(e){p(d,e),i(".mod-header__user-operation span,.mod-header__user-operation b").each((function(){var e=i(this);"机构管理"===i.trim(e.text())&&e.text("老师管理")}))}(e):function(e){p(d,e)}(e):e.is_login?(function(e){p(l,e)}(e),function(e){var t=e.uid;if(t){var n=i(".mod-header_live-tip");if(!u.get("unShowWebLiveTip_"+t)){var r="使用Mac也可以参与直播课的聊天，快去试试吧！";-1!=navigator.userAgent.indexOf("Mac")?n.show().css({marginTop:"-30px",opacity:0}).animate({marginTop:0,opacity:1},600):e.isWeixinUser&&(r=r.replace("使用Mac","微信账号"),n.show().css({marginTop:"-30px",opacity:0}).animate({marginTop:0,opacity:1},600)),n.find("p").text(r),n.one("click","span",(function(){n.hide()}))}u.set("unShowWebLiveTip_"+t,!0)}}(e)):f.removeClass("mod-header__wrap-logined");var t=window.T&&window.T.length&&window.T[0];t&&o.tdw({action:"loginTiming",ver1:+new Date-t})}};"ke.qq.com"===location.host&&/^\/(index\.html)?$/.test(location.pathname)&&i(".header-index-join").show(),a.getInfo().then((function(e){h(e)})),e.exports=function(){}},tCiV:function(e,t,n){var r=n("xeH2"),i=n("1RNr"),o=n("lSPl"),a=location.host,u=location.pathname,c=["/","/index.html"],s=r.noop;function l(e){return 1===e.range||"ke.qq.com"===a&&-1!==c.indexOf(u)}function d(e){if(e){var t=e.coverUrl,n=e.link;l(e)&&function(e){var t=e.url;if(t){var n=new Image;n.onload=e.succ||s,n.onerror=e.error||s,n.src=t}}({url:t,succ:function(){r(".js-header-index-logo").css({"background-image":"url("+t+")"}).attr("href",n).attr("data-report-module","act_logo").attr("report-attr","module=act_logo"),o.tdw({action:"exposure",module:"act_logo"})}})}}i.httpMethod({url:"//sas.qq.com/cgi-bin/ke_operationpos_webindexlogo",dataType:"jsonp"})({succ:function(e){d(((e.result||{}).logos||[])[0])},err:function(){return!0}})},tUwb:function(e,t){e.exports={set:function(e,t){this.del(e);var n=e+"="+t;window.name=window.name?window.name+"&"+n:n},get:function(e){var t=window.name&&window.name.match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"));return t?decodeURIComponent(t[2]):""},del:function(e){this.get(e)&&(window.name=window.name.replace(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),"$3"))}}},tgnt:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("HO9c")),u=n("bhbm"),c=n("XOiT"),s=n("dgVY"),l=n("7OHB");function d(){var e=(0,u.getLocation)().protocol;return"".concat(void 0===e?"https:":e,"//m.ke.qq.com")}var f=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"jump",value:function(e,t){var n=(0,l.buildURL)(e,t);if((0,s.isIframe)()){if(parent.postMessage)return setTimeout((function(){parent.location.href=n,a.default.monitor(33616310)}),1e3),parent.postMessage({method:"jump",url:n},"*");parent.location.href=n}else window.location.href=n}},{key:"jumpLive",value:function(e,t){var n=e.cid,r=e.tid;this.jump("".concat(d(),"/m-core/live.html?cid=").concat(n,"&term_id=").concat(r),t)}},{key:"jumpCustomUrl",value:function(e,t){setTimeout((function(){window.location.href=(0,l.buildURL)(e,t)}),0)}},{key:"jumpHome",value:function(e){this.jump("".concat(d(),"/"),e)}},{key:"jumpPlan",value:function(e){this.jump("".concat(d(),"/m-core/plan.html"),e)}},{key:"jumpCenter",value:function(e){this.jump("".concat(d(),"/m-core/mine.html"),e)}},{key:"jumpCourseList",value:function(e){this.jump("".concat(d(),"/courseList.html"),e)}},{key:"jumpAgencyHome",value:function(e,t){var n=e.aid,r=e.domain,i="".concat(d(),"/agencyHome.html?aid=").concat(n);r&&(i="https://".concat(r,".ke.qq.com")),this.jump(i,t)}},{key:"jumpTeacherHome",value:function(e,t){var n=e.tid;this.jump("".concat(d(),"/m-core/teacher.html?tid=").concat(n),t)}},{key:"jumpCourseDetail",value:function(e,t){var n=e.cid,r=e.tid,i=r?"?term_id=".concat(r):"";this.jump("".concat(d(),"/course/").concat(n).concat(i),t)}},{key:"jumpCoursePkg",value:function(e,t){var n=e.pid;this.jump("".concat(d(),"/course/package/").concat(n),t)}},{key:"jumpTaskList",value:function(e,t){var n,r=e.cid,i=e.tid,o=e.chid,a=e.sid,u=e.taid;e.isCoding?(i=i?"&term_id=".concat(i):"",n="".concat(d(),"/nextTaskList.html?course_id=").concat(r).concat(i)):(i=i?"&tid=".concat(i):"",o=void 0!==o?"&ch=".concat(o):"",a=void 0!==a?"&sub=".concat(a):"",u=void 0!==u?"&taid=".concat(u):"",n="".concat(d(),"/taskList.html?cid=").concat(r).concat(i).concat(o).concat(a).concat(u)),this.jump(n,t)}},{key:"openQQConsult",value:function(e){(0,c.isIOS)()?this.jump("http://wpa.b.qq.com/cgi/wpa.php?ln=2&uin=".concat(e.id)):this.jump("mqqwpa://im/chat?chat_type=wpa&version=1&uin=".concat(e.id,"&src_type=web&web_src=m.ke.qq.com"))}},{key:"jumpNextTaskDetail",value:function(e){var t=e.cid,n=e.term_id,r=e.ch_id,i=e.vch_id,o=e.taid,a="".concat(d(),"/nextTaskDetail.html?course_id=").concat(t,"&term_id=").concat(n,"&ch_id=").concat(r,"&vch_id=").concat(i,"&taid=").concat(o);this.jump(a)}},{key:"jumpRecharge",value:function(){this.jump("//m.ke.qq.com/iosRecharge.html")}},{key:"jumpPhone",value:function(e,t){var n="https://m.ke.qq.com/m-core/myContactInfo.html?aid=".concat(e.aid,"&cid=").concat(e.cid,"&mode=account");this.jump(n,t)}},{key:"jumpHomeworkDetail",value:function(e,t){var n=e.cid,r=e.tid,i=e.aid,o=e.hw_id,a="//m.ke.qq.com/m-core/homeworkDetail.html?_bid=167&cid=".concat(n,"&tid=").concat(r,"&aid=").concat(i,"&hw_id=").concat(o);this.jump(a,t)}},{key:"jumpNewcomerWelfareV2",value:function(e){var t=(0,u.setUrlQuery)(e,{url:"https://m.ke.qq.com/m-core/newcomerWelfareV2.html"});this.jump(t)}},{key:"jumpSpeedApply",value:function(e,t){var n=e.cid,r=e.tid,i="//m.ke.qq.com/m-core/speedApply.html?cid=".concat(n,"&term_id=").concat(r);this.jump(i,t)}},{key:"jumpDailyTaskPrizesExchange",value:function(e){this.jump("//m.ke.qq.com/m-core/dailyTaskPrizesExchange.html",e)}}]),e}();t.default=f},tmXo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.agencyIds=void 0;t.agencyIds=[86453,86399,85866,86334,86974,84815,86429,86409,87692,86063,86337,86161,86055,86307,87576,86374,86122,86284,85535,10085,88001]},tx2r:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("/sKp")),o=n("EzEM"),a=r(n("huhR")),u=r(n("cj4F")),c=r(n("cJLU")),s=r(n("fp7T")),l=n("gbBI"),d=n("3NEt"),f=location.pathname,p=window.location,h={},v=window.isReportorInit;function g(e){e.config({opername:"edu",url:p.href,refer:document.referrer},{table:"dc03514",pr_ip:"clientip",pr_t:"reporttime",slicer:4})}h.config=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.default.config(Object.assign({},e)),!0!==e.closeLocal&&i.default.initLocal&&i.default.initLocal({whiteDomain:["ke.qq.com"],crossProxy:"//ke.qq.com/storage_proxy.html",crossDomain:!0})},h.tdw=function(e,t){i.default[t?"reportSync":"report"](e)},h.getReportData=i.default.getCommonData,h.reportPageView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};~f.indexOf("/storage_proxy.html")||h.tdw(Object.assign({action:"pageview",url_testid:(0,l.getTestid)(),url_session_flowid:(0,d.getSessionFlowid)()},e))},function(){if(v)g(h=window.reportorHandler);else{window.isReportorInit=!0,window.reportorHandler=h,g(i.default),s.default.injectHref();var e=(0,o.getCookieData)();(0,a.default)(e),(0,u.default)(e),(0,c.default)(e,h),i.default.config(e),(0,o.setCookieData)(e)}}();var m=h;t.default=m},"u+Si":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.InstitutionSeckillImp=t.SeckillStatus=void 0;var i,o=r(n("EAVL")),a=r(n("oywu")),u=n("mAAe"),c=n("sPX+"),s=n("bpzH"),l=n("1ysn");t.SeckillStatus=i,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.RESERVABLE=1]="RESERVABLE",e[e.RESERVED=2]="RESERVED",e[e.INPROGRESS=3]="INPROGRESS",e[e.ENDED=4]="ENDED"}(i||(t.SeckillStatus=i={}));var d=function(){function e(t){(0,o.default)(this,e),this.discount=t,this.type=c.InstitutionDiscountType.Seckill,this.utils=new l.Utils(this.discount),this.status=new s.Status(this.discount,this.utils),this.desc="限时优惠"}return(0,a.default)(e,[{key:"getId",value:function(){return this.utils.getSeckillId()}},{key:"getPrice",value:function(){return this.utils.getSeckillPrice()}},{key:"getDecrPrice",value:function(){return this.utils.getDecrPrice()}},{key:"getPayParam",value:function(){return this.getId()?{discount_id:Number(this.getId())}:{}}},{key:"getStatus",value:function(){return this.status.getStatus()}},{key:"listenStatus",value:function(){var e;return(e=this.status).listenStatus.apply(e,arguments)}},{key:"removeListenStatus",value:function(){var e;return(e=this.status).removeListenStatus.apply(e,arguments)}},{key:"emitStatus",value:function(){var e;return(e=this.status).emitStatus.apply(e,arguments)}},{key:"getData",value:function(){return Object.assign({},this.discount)}},{key:"filter",value:function(){var e=(0,u.getSvrTime)(),t=this.discount,n=t.start_time,r=t.end_time,i=t.has_preview;return!(e<n&&!i)&&(!(e>r)&&!!this.utils.isSeckillCountValid())}}]),e}();t.InstitutionSeckillImp=d},u7jz:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("e4x/")),u=r(n("Udhi")),c=r(n("okMe")),s=r(n("a3Zo")),l=n("7xq2"),d=n("mAAe"),f=n("sPX+");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,a.default)(n,e);var t=p(n);function n(e,r){var o;return(0,i.default)(this,n),(o=t.call(this)).discount=e,o.utils=r,o.current=l.PartnerStatus.DEFAULT,o.discount,o.current=o.utils.getPartnerStatus(),o.initEvents(),o}return(0,o.default)(n,[{key:"getStatus",value:function(){return this.current}},{key:"listenStatus",value:function(e){this.on("status",e)}},{key:"removeListenStatus",value:function(e){this.off("status",e)}},{key:"emitStatus",value:function(e){this.emit("status",e)}},{key:"initEvents",value:function(){var e=this,t=this.utils.getPartnerStatus();this.current=t;var n=l.PartnerStatus.ENDED,r=0;if(t!==l.PartnerStatus.ENDED){var i=(0,d.getSvrTime)();r=this.utils.getPartnerEndTime()-i}var o={current:t,next:n,restTime:r,type:f.InstitutionDiscountType.Partner};this.emitStatus(o);r>0&&setTimeout((function(){e.initEvents()}),1e3*Math.min(r,86400))}}]),n}(s.default);t.Status=h},uIhe:function(e,t,n){"use strict";var r=n("A3sk");Object.defineProperty(t,"__esModule",{value:!0}),t.imlog=void 0;var i=r(n("HO9c"));var o,a=(o=console,"undefined"!=typeof document&&(o=i.default.createReportor("edu-apply")).config({logger:{autoUpload:i.LEVELS.info,keep:7}}),o);t.imlog=a},uMWn:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.cache=function(e){var t=a.getInstance();return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null==i?void 0:i.value;return i.value=function(){var r=t.makeCache(o,n,e).apply(void 0,arguments);return r},i}},t.RequestCache=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=function(){function e(){(0,i.default)(this,e),this.cacheMap={},this.isCalledMap={},this.timeOut=5e3}return(0,o.default)(e,[{key:"makeCache",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DAFAULT_CACHE";return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=new Promise((function(i,a){var u=n.isCalledMap[r];n.initCacheMap(r);var c=n.cacheMap[r];if(c.data)return i(c.data);if(c.pool.push({resolve:i,reject:a}),!u){n.isCalledMap[r]=!0;var s=e.call.apply(e,[t].concat(o));if(!s.then)throw new Error("传入的fn非异步函数！");Promise.race([n.createRacePromise(r),s]).then((function(e){c.data=e,n.poolHandler(c,"resolve")})).catch((function(e){n.isCalledMap[r]=!1,n.poolHandler(c,"reject",e)}))}}));return u}}},{key:"createRacePromise",value:function(e){var t=this;return new Promise((function(n,r){setTimeout((function(){r(new Error(e+"缓存接口请求超时"))}),t.timeOut)}))}},{key:"poolHandler",value:function(e,t,n){e.pool.forEach((function(r){var i=n||e.data;r[t](i)})),e.pool=[]}},{key:"initCacheMap",value:function(e){this.cacheMap[e]||(this.cacheMap[e]={pool:[]})}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}();t.RequestCache=a},uQ0J:function(e,t,n){var r=n("FwQ8");e.exports=r},"uXG/":function(e,t){var n,r,i=function(){return window.devicePixelRatio||1},o=function(){var e=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:e,devicePxPerCssPx:e*i()}},a=function(){var e=document.body.getBoundingClientRect(),t=(e.right-e.left)/document.body.offsetWidth;return{zoom:t=Math.round(100*t)/100,devicePxPerCssPx:t*i()}},u=function(){90===Math.abs(window.orientation)?screen.height:screen.width,window.innerWidth;return 1,{zoom:1,devicePxPerCssPx:1*i()}},c=function(){var e=window.outerWidth/window.innerWidth;return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e*i()}},s=function(){var e=f("min--moz-device-pixel-ratio","",0,10,20,1e-4);return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e}},l=function(){return{zoom:s().zoom,devicePxPerCssPx:i()}},d=function(){var e=window.outerWidth/window.innerWidth;return{zoom:e=Math.round(100*e)/100,devicePxPerCssPx:e*i()}},f=function(e,t,n,r,i,o){var a,u,c,s;window.matchMedia?a=window.matchMedia:(u=document.getElementsByTagName("head")[0],c=document.createElement("style"),u.appendChild(c),(s=document.createElement("div")).className="mediaQueryBinarySearch",s.style.display="none",document.body.appendChild(s),a=function(e){c.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(s,null).textDecoration;return c.sheet.deleteRule(0),{matches:t}});var l=function n(r,i,u){var c=(r+i)/2;if(u<=0||i-r<o)return c;return a("("+e+":"+c+t+")").matches?n(c,i,u-1):n(r,c,u-1)}(n,r,i);return s&&(u.removeChild(c),document.body.removeChild(s)),l},p=(n=function(){return{zoom:1,devicePxPerCssPx:1}},r=navigator.userAgent.toLowerCase(),isNaN(screen.deviceXDPI)||isNaN(screen.logicalXDPI)?-1!==r.indexOf("msie 7.")?n=a:"ontouchstart"in window&&"string"==typeof document.body.style.webkitTextSizeAdjust?n=u:-1!==r.indexOf("webkit")?n=c:-1!==r.indexOf("opera")?n=d:-1!==r.indexOf("firefox")&&window.devicePixelRatio?n=l:s().zoom>.001&&(n=s):n=o,n);e.exports={zoom:function(){return p().zoom},device:function(){return p().devicePxPerCssPx},zoomText:function(){return n="position:absolute;left:-2000px;height:1px;",r=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r.style.cssText="width:16px;"+n,document.body.appendChild(r),i.style.fontSize="medium",o.style.cssText="width:1em;"+n,i.appendChild(o),document.body.appendChild(i),e=r.offsetWidth,t=o.offsetWidth/e,document.body.removeChild(r),document.body.removeChild(i),t;var e,t,n,r,i,o}}},ucRW:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSasData=function(){return c(this,void 0,void 0,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=4;break}return e.abrupt("return",Promise.resolve(l));case 4:return e.abrupt("return",(0,u.fetch)("//sas.qq.com/cgi-bin/ke_operationpos_bottomBanner").then((function(e){var t=e.result,n=e.date,r=t.barList;return r.forEach((function(e){e.servertime=n})),l=r,r})));case 5:case"end":return e.stop()}}),e)})))},t.getRenderBarData=function(e,t){var n=e.filter((function(e){return!(e.showPage&&t.page&&!e.showPage.includes(t.page))&&!(t.page===i.COURSE_DETAIL&&(e.cateId||0===e.cateId)&&![0,t.industry1,t.industry2,t.industry3].includes(e.cateId))}));t.page===i.COURSE_DETAIL&&n.sort((function(e,t){return Math.floor(t.cateId/1e3)-Math.floor(e.cateId/1e3)}));return n.length?n[0]:null},t.recordClickOrCloseToday=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=f(),r=(0,u.getStorage)(n)||{},i=d(e,t);r[i]=1,(0,u.setStorage)(n,r)},t.hasClickOrCloseToday=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=(0,u.getStorage)(f())||{};return!!n[d(e,t)]},t.closeStorageKey=t.SHOW_PAGE=t.SHOW_PAGE_TYPE=void 0;var i,o=r(n("gBQG")),a=r(n("Q86Y")),u=n("F5LU"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};t.SHOW_PAGE_TYPE=i,function(e){e.INDEX="index",e.LIST="list",e.USER_INDEX="user_index",e.COURSE_DETAIL="course_detail"}(i||(t.SHOW_PAGE_TYPE=i={}));var s={COURSE_DETAIL:i.COURSE_DETAIL,INDEX:i.INDEX,LIST:i.LIST,USER_INDEX:i.USER_INDEX};t.SHOW_PAGE=s;var l;function d(e,t){return e+"-"+(0,a.default)(t.getTime()).format("YYYY-M-D")}function f(){return(0,u.getUin)()+"pc_bottom_bar_data"}t.closeStorageKey="HAS_CLOSE_BOTTOM_BAR"},vF9K:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.CouponItem=t.EnumCouponType=t.EnumCouponValidType=t.EnumCouponPlatform=t.EnumCouponMode=t.EnumCouponStatus=t.EnumCouponReceiveRule=t.EnumCouponUseRuleScope=t.EnumCouponUseRuleType=t.CouponMode=t.CouponType=void 0;var i,o,a,u,c,s,l,d,f,p,h=r(n("EAVL")),v=r(n("oywu")),g=n("sPX+"),m=n("5+fs"),y=n("F5LU");t.CouponType=i,function(e){e[e.Agency=1]="Agency",e[e.Edu=10]="Edu"}(i||(t.CouponType=i={})),t.CouponMode=o,function(e){e[e.Private=1]="Private",e[e.Act=2]="Act",e[e.Public=3]="Public"}(o||(t.CouponMode=o={})),t.EnumCouponUseRuleType=a,function(e){e[e.CASH=1]="CASH",e[e.DISCOUNT=2]="DISCOUNT"}(a||(t.EnumCouponUseRuleType=a={})),t.EnumCouponUseRuleScope=u,function(e){e[e.ALL=1]="ALL",e[e.COURSE_OR_PKG=2]="COURSE_OR_PKG",e[e.AGENCY=3]="AGENCY",e[e.CATE=4]="CATE"}(u||(t.EnumCouponUseRuleScope=u={})),t.EnumCouponReceiveRule=c,function(e){e[e.PUBLIC=1]="PUBLIC",e[e.SECRET=2]="SECRET"}(c||(t.EnumCouponReceiveRule=c={})),t.EnumCouponStatus=s,function(e){e[e.DISABLED=-1]="DISABLED",e[e.UNUSED=0]="UNUSED",e[e.USED=1]="USED",e[e.LOCKED=2]="LOCKED",e[e.EXPIRED=3]="EXPIRED",e[e.DELETED=4]="DELETED",e[e.NOT_GET=5]="NOT_GET",e[e.DELETED_BY_AGENCY=6]="DELETED_BY_AGENCY",e[e.OVER=101]="OVER"}(s||(t.EnumCouponStatus=s={})),t.EnumCouponMode=l,function(e){e[e.PRIVATE=1]="PRIVATE",e[e.ACT=2]="ACT",e[e.PUBLIC=3]="PUBLIC",e[e.PRIVATE_MULTI=4]="PRIVATE_MULTI"}(l||(t.EnumCouponMode=l={})),t.EnumCouponPlatform=d,function(e){e[e.KE=1]="KE",e[e.FUDAO=2]="FUDAO"}(d||(t.EnumCouponPlatform=d={})),t.EnumCouponValidType=f,function(e){e[e.BY_TIME=1]="BY_TIME",e[e.BY_DURATION=2]="BY_DURATION"}(f||(t.EnumCouponValidType=f={})),t.EnumCouponType=p,function(e){e[e.Agency=1]="Agency",e[e.Platform=10]="Platform"}(p||(t.EnumCouponType=p={}));var _=function(){function e(t,n){(0,h.default)(this,e),this.item=t,this.utils=n,this.ext="string"==typeof this.item.ext?JSON.parse(this.item.ext):this.item.ext}return(0,v.default)(e,[{key:"getId",value:function(){return"".concat(this.ext.coupon_id)}},{key:"getPrice",value:function(){return(0,m.formatPrice)(this.ext.coupon_rule.price)||0}},{key:"getBestPrice",value:function(){return this.item.final_price}},{key:"getType",value:function(){var e=this.utils.getType();return e===g.InstitutionDiscountType.Coupon?p.Agency:e===g.PlatformDiscountType.Coupon?p.Platform:p.Agency}},{key:"getStatus",value:function(){return this.ext.status}},{key:"getTypeText",value:function(){var e=this.getType(),t=this.getCouponUseRuleType()===a.DISCOUNT;return(0,m.getTypeText)(e,!t)}},{key:"getScopeText",value:function(){var e=this.getType(),t=this.getCouponUseRuleType()===a.CASH,n=this.ext.agency_name,r=this.ext.act_name;return(0,m.getScopeText)({type:e,isCashCoupon:t,aname:n,actName:r})}},{key:"getRuleText",value:function(){var e=this.getPrice(),t=this.getConditionPrice(),n=(0,y.isIOS)()&&(0,y.isApp)()?"":"元";switch(this.getCouponUseRuleType()){case a.CASH:return"立减".concat(e).concat(n);case a.DISCOUNT:return"满".concat(t,"减").concat(e);default:return""}}},{key:"getValidTimeText",value:function(){var e=this.ext.valid_begin_time,t=this.ext.valid_end_time;return(0,m.getValidTimeText)(e,t)}},{key:"isGot",value:function(){return this.ext.status===s.UNUSED}},{key:"receive",value:function(){this.isGot()||(this.ext.status=s.UNUSED)}},{key:"getCouponUseRuleType",value:function(){return this.ext.coupon_rule.condition?a.DISCOUNT:a.CASH}},{key:"getCouponUseRuleTypeText",value:function(){switch(this.getCouponUseRuleType()){case a.CASH:return"现金券";case a.DISCOUNT:return"满减券";default:return"优惠券"}}},{key:"getCouponType",value:function(){return this.getType()}},{key:"getCouponTypeText",value:function(){switch(this.getType()){case p.Agency:return"机构券";case p.Platform:return"平台券";default:return""}}},{key:"getConditionPrice",value:function(){return(0,m.formatPrice)(this.ext.coupon_rule.condition)||0}},{key:"isSuitAll",value:function(){return this.ext.coupon_rule.use_rule===u.ALL}},{key:"isSecret",value:function(){return this.ext.mode===l.PRIVATE}},{key:"getDecrPrice",value:function(){return this.item.decr_price||0}},{key:"getActName",value:function(){var e;return null===(e=this.ext)||void 0===e?void 0:e.act_name}}]),e}();t.CouponItem=_},vH31:function(e,t,n){n("1q8z");var r=n("lSPl"),i=n("I5uA"),o=n("mTyC");n("Tuqh");var a=n("+5GP"),u=n("98jZ"),c=n("GQcU"),s=GLOBAL_DATA&&GLOBAL_DATA.isServer,l={container:$(document.body)};function d(e){var t=this.config=$.extend({},l,e);this.$container=$(t.container),this.serverTime=t.serverTime,this.startTiming(),this.activeTaid=null,this.screenTimer=null,this.cacheTasks={},this.cacheCourses={};var n=this;$.each(t.tasks||[],(function(e,t){n.cacheTasks[t.taid]=t;var r=t.cid;n.cacheCourses[r]?n.cacheCourses[r].push(t):n.cacheCourses[r]=[t]})),this.init()}$.extend(d.prototype,{startTiming:function(){var e=this;window.setTimeout((function(){e.serverTime++,e.startTiming()}),1e3)},init:function(){this.render(),this.bindEvent(),this.reportExpo()},render:function(){var e=this.$container;if(!s){var t=a({tasks:this.config.tasks,serverTime:this.config.serverTime});e.html(t)}e.find(".nano").nanoScroller({preventPageScrolling:!0}),setTimeout((function(){e.find(".task-item").eq(0).trigger("init")}))},reportExpo:function(){var e=this.config.tasks;e&&e.length&&r.tdw({action:"exposure",module:"zhibo"})},renderScreen:function(e,t){var n=u({task:e,isClassing:t});this.$container.find(".live-schedule-screen").html(n)},renderCountDown:function(e){var t=this,n=t.$container;t.screenTimer=new c({bgtime:+new Date(1e3*t.serverTime),endtime:+new Date(1e3*e.bgtime),afterASecond:function(e){e.days>0?n.find(".course-status .text").html("距离上课<span>"+e.days+"</span>天"):n.find(".course-status .text").html("距离上课<span>"+e.hours+"</span>时<span>"+e.minutes+"</span>分<span>"+e.seconds+"</span>秒")},afterClear:function(){var e=n.find(".task-item[data-taid="+t.activeTaid+"]");t.selectTask(e)}})},bindEvent:function(){var e=this;e.$container.on("mouseenter init",".task-item",(function(){e.selectTask($(this))})).on("click","#js-join-class",(function(){e.joinClass($(this))})).on("click","#js-course-apply",(function(){e.applyCourse($(this))}))},selectTask:function(e){var t=this.$container,n=e.data("taid"),r=this.cacheTasks[n],i=this.isClassing(r);t.find(".task-item").removeClass("task-item--active"),e.addClass("task-item--active"),this.activeTaid=n,this.renderScreen(r,i),this.screenTimer&&this.screenTimer.clear(),!i&&this.renderCountDown(r)},joinClass:function(e){var t=this.cacheTasks[this.activeTaid],n="";if(this.isClassing(t)){if(!i.isLogin())return this.waitLogin((function(){e.click()}),4);n=this.getWebClassUrl(t),r.tdw({action:"click",module:"playlive",position:1,ver1:t.cid,ver2:1})}else t.apply_status&&(n="//ke.qq.com/course/"+t.cid);n&&window.open(n)},applyCourse:function(e){if(!i.isLogin())return this.waitLogin((function(){e.click()}),3);var t=this,n=t.cacheTasks[t.activeTaid];f(n),o.selectTerm((function(e){t.applySucc(e)}))},isClassing:function(e){for(var t,n=e.terms||[],r=e.term_id,i=0;i<n.length;i++)if(n[i].term_id===r){t=n[i];break}if(!t||1!==t.transcode_flag)return!1;var o=this.serverTime+1;if(o>=e.bgtime&&o<=e.endtime)return!0;for(var a,u,c=this.cacheCourses[e.cid]||[],s=Number.MAX_SAFE_INTEGER,l=0;l<c.length;l++){if(o>=(u=c[l]).bgtime&&o<=u.endtime)return!1;o<u.bgtime&&s>u.bgtime-o?(s=u.bgtime-o,a=u):o>u.endtime&&s>o-u.endtime&&(s=o-u.endtime,a=u)}return a.taid===e.taid},waitLogin:function(e,t){i.show({succ:function(){$(document).trigger("loginSucc"),e&&e()},source:t||""})},getWebClassUrl:function(e){return"//ke.qq.com/webcourse/index.html#course_id=${cid}&term_id=${tid}&taid=${taid}".replace("${cid}",e.cid).replace("${tid}",e.term_id).replace("${taid}",e.taid)},applySucc:function(e){var t=this.$container;$.each(this.cacheTasks,(function(t,n){n.term_id===e&&(n.apply_status=1)})),t.find(".task-item").removeClass(".task-item--active");var n=t.find(".task-item[data-taid="+this.activeTaid+"]");this.selectTask(n)}});var f=function(e){var t=e.terms.reduce((function(e,t){return e[t.term_id]=t,e}),{});window.metaData={agency_id:e.aid,agency_name:e.agency,agency_domain:e.agency_domain,cid:e.cid,name:e.course_name,cover_url:e.cover_url,terms:e.terms,termObj:t,cur_term_id:e.term_id,price:0,payid:1,source:0,passcard:0}};e.exports=d},vINB:function(e,t,n){var r=n("xeH2"),i=n("1RNr"),o=n("lSPl"),a=n("Nfwl"),u=n("0ulb"),c=n("w1nF"),s=n("lSPl"),l=n("3q1l");n("0HC3");var d=r("#js_search"),f=r("#js_keyword"),p=r("#js-searchbox"),h=r("#js-searchhot"),v=r("#js-searchAssociation"),g=p.find(".mod-search-dropdown-item"),m=p.find(".mod-search-dropdown"),y=[],_=null,b=function(e){return e.map((function(e){return e.content})).join(",")},w=f.attr("placeholder");"搜索课程"===w&&(w=null);var k={course:{guide_word:w||"搜索课程",search_word:w},agency:{guide_word:"搜索机构",search_word:null}},P={},x=f.data("sync"),C=function(){clearTimeout(_),_=setTimeout((function(){var e=f.val().trim();if(!e||e.length>20)return y=[],v.hide(),void v.html("");i.httpMethod({url:"/cgi-proxy/search/suggest",type:"GET"})({param:{platform:o.getReportData("platform"),text:e,page:0,count:10},succ:function(e){var t=e.result||{};t.items&&t.items.length>0?(y=t.items,v.html(l(t)),v.show()):(y=[],v.html(""),v.hide())},err:function(){return!0}})}),500)},O=function(e,t){var n=h.find(".header-index-hot--history"),r=u.get("newIndexSearchHistory"),i="";try{r=JSON.parse(r)}catch(e){r=[]}e&&e.length&&(e=e.concat(r),r=[],e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r=r.slice(0,4)),u.set("newIndexSearchHistory",JSON.stringify(r)),t||((r=r||[]).forEach((function(e){var t=a.encode(e),n=A(encodeURIComponent(e)),r='<a class="hot-word-item" target="_blank" href="${href}" title="${word}"  report-attr="action=click&module=recent&ver1=${word}"  report-tdw="module=recent&action=history&obj1=${word}&obj2=-1&platform=1">${word}</a>';r=r.replace(/\$\{word\}/g,t).replace("${href}",n),i+=r})),i?n.show().find(".hot-word-list").html(i):n.hide())},A=function(e){var t="//ke.qq.com/course/list";return"string"==typeof e&&(t+="/".concat(e)),t};!function e(){if(!x)return i.httpMethod({url:"//sas.qq.com/cgi-bin/ke_newIndex_searchWord",dataType:"jsonp"})({succ:function(t){var n=t.result||{},r=a.decode(n.searchWord);r&&(w=r,k.course={guide_word:r,search_word:r},f.attr("placeholder",r),x=!0,e())},err:function(){return!0}});r.fn.placeholder&&f.placeholder()}(),function(){if("undefined"!=typeof window){var e=window.location.pathname.match(/^\/course\/list\/(.+)/),t=e&&e.length?e[1]:"";t&&f.val(decodeURIComponent(t))}}(),h.data("sync")||r(document).one("loaded:hotword",(function(e,t){P=t,h.append(c(t))})),O(),d.click((function(e){e.preventDefault();var t=f.val(),n=p.find(".mod-search-dropdown-item-selected").data("type"),i="",a=r.trim(t),u=a,c=!1;if(!a&&(a=""),a=encodeURIComponent(a),"agency"===n){if(!a)return;i=function(e){return o.tdw({action:"search_orgsearch"}),"//ke.qq.com/searchAgency.html?word=".concat(e)}(a)}else if("course"===n){if(!a){var s=k[n].search_word;s&&(u=s,a=encodeURIComponent(s),c=!0)}i=A(a),o.tdw({module:"hotword",action:"search",ver1:u},!0),u&&O([u],!0)}r(this).attr("jump-through",t),o.tdw({action:"click",module:c?"search_keyword_default":"search_keyword",ver1:decodeURIComponent(a),ver2:y.length?1:0,ver3:b(y)}),location.href=i})),p.on("keydown",".mod-search__input",(function(e){13==e.keyCode&&d.click()})),p.on("focus",".mod-search__input",(function(e){o.tdw({action:"seachshine_click"}),p.addClass("focus");var t=p.find(".mod-search-dropdown-item-selected").data("type"),n=f.val().trim();if("course"===t)if(n)n&&y.length>0?v.show():C();else{var r=P,i=r.wordList,a=void 0===i?[]:i,u=r.testId;a&&a.length&&(h.show(),s.tdw({action:"exposure",module:"hotword",ver3:a.join(","),testid:u}))}})).on("blur",".mod-search__input",(function(){p.removeClass("focus"),setTimeout((function(){h.hide(),v.hide()}),300)})).on("input",".mod-search__input",(function(){if(document.activeElement===f[0]){var e=f.val().trim();"course"===p.find(".mod-search-dropdown-item-selected").data("type")&&(e?(h.hide(),C()):(v.hide(),h.show()))}})).on("click",".header-index-hot--default a",(function(e){var t=r(this).text().trim();e.preventDefault(),o.tdw({action:"click",module:"hotword",ver1:t,testid:P.testId}),location.href=A(t)})).on("click",".js-clear-history",(function(){u.set("newIndexSearchHistory","[]"),O(),o.tdw({action:"click",module:"clear_history"})})),v.on("click",".hot-word-item",(function(e){e.preventDefault();var t=r(this),n=parseInt(t.data("key"),10),i=y[n];i&&(o.tdw({action:"click",module:"search_suggestion",ver1:i.content,ver3:b(y)},!0),location.href=A(i.content))})),g.on("click",(function(){r(this).hasClass("mod-search-dropdown-item-selected")||g.removeClass("mod-search-dropdown-item-hover"),g.eq(0).is(":visible")&&g.eq(1).is(":visible")?(g.hide(),m.removeClass("mod-search-dropdown-hover")):(g.show(),m.addClass("mod-search-dropdown-hover")),g.removeClass("mod-search-dropdown-item-selected"),r(this).addClass("mod-search-dropdown-item-selected");var e=p.find(".mod-search-dropdown-item-selected"),t=e.data("type"),n=f.val();e.show(),e.prependTo(r(".mod-search-dropdown")),f.attr("placeholder",k[t].guide_word),"搜索机构"!==n&&"搜索课程"!==n&&""!==n||(f.val(" "),f.val("")),"agency"===t&&o.tdw({action:"search_orgclk"})})).on("mouseenter",(function(){r(this).addClass("mod-search-dropdown-item-hover")})).on("mouseleave",(function(){r(this).removeClass("mod-search-dropdown-item-hover")})),r(document).on("click",(function(e){r(e.target).hasClass(".mod-search-dropdown")||0!==r(e.target).closest(".mod-search-dropdown").length||(m.removeClass("mod-search-dropdown-hover"),m.find(".mod-search-dropdown-item").eq(1).hide())})),e.exports=function(){}},vQKn:function(e,t,n){var r=n("xeH2"),i=n("0HC3"),o=n("q+3g"),a={},u=location.host,c=location.pathname,s=(location.href,document.referrer);var l=/^([a-z])+\.ke\.qq\.com/,d=/^\/huodong\//,f=/^\/activity\//,p=/^\/course\/list\/([^\/]*)\/*$/,h={"/":"a","/index.html":"a","/cgi-bin/index":"a","/activity/list/index.html":"i","/bbs/":"j","/bbs/index.html":"j","/cgi-bin/bbs/xbar_info":"k","/cgi-bin/agency":"m","/cgi-bin/bbs/posts/post_detail":"l","/cgi-bin/teacher":"n","/user/tasks/index.html":"u","/exam/index.html":"w","/cgi-bin/ke_graph":"K","/cgi-bin/ke_graph/courseList":"L","/webcourse/index.html":"v","/course/package/":"M","/teacher/":"n","/bbs/tuan/":"k","/bbs/topic/-":"l","/tupu/":"K","/tupu//course":"L","/agency/index/":"t","/exam/web.html":"w","/cates/kaoyanVplan/index.html":"q","/cates/ielts_v2/index.html":"x","/cates/fltrp/index.html":"y"},v={"/cgi-bin/courseDetail":"h","/course/":"h"},g={"/user/index/index.html":"B"},m={label_filter:"c",word:"d",tt:"g",st:"f",mt:"e"};function y(e){var t,n;if(n=(t=e.match(p))&&t.length&&t[1],"/course/list"===e||n){if(n&&!A("label_filter"))return m.word;for(var r in m)if(A(r))return m[r];return"b"}}function _(e){if("B"===g[e])return{plan:"B",feeds:"C",signup:"D",fav:"E",coupon:"F"}[A("sid")]||"B"}function b(e,t){if(l.test(t))return"m"}function w(e){return d.test(e)?"o":f.test(e)?"p":void 0}function k(e){var t;if("ke.qq.com"==u&&(e=e.replace(/\d/g,""),t=v[e]))return a._isApply?t+"A":t}function P(e){var t;if("ke.qq.com"==u&&(e=e.replace(/\d/g,""),t=h[e]))return t}function x(){for(var e,t=[P,k,y,b,w,_],n=0,r=t.length;n<r&&!(e=t[n].call(this,c,u));n++);return e||"r"}function C(){return a._pageCode}function O(){return E("pathcode")||S("pathcode",Math.random(),"ke.qq.com","",2),E("pathcode")}function A(e){return r.bom.query(e)||r.bom.getHash(e)}function T(e,t){"string"==typeof t&&(t=[t]);for(var n=i.parseHref(e).search,o=i.parseQuery(n),a=0,u=t.length;a<u;++a)t[a]&&delete o[t[a]];return r.param(o)}function S(e,t,n,r,i){e&&(n=n||"ke.qq.com",r=r||"",i=i||.05,o.set("_"+e,t,n,r,i))}function E(e){return o.get("_"+e)}function I(e,t,n){e&&(t=t||"ke.qq.com",n=n||"",o.del("_"+e,t,n))}function D(e,t){var n=window.name,o=i.parseQuery(n);o[e]=encodeURIComponent(t),window.name=r.param(o)}function j(e){var t=window.name,n=i.parseQuery(t);return i.htmlEncode(decodeURIComponent(n[e]||""))}function R(e){return e&&e.replace(/[()\\\/?.$&:=#;+]/g,"")||""}function M(e,t,n){return(e[t]||"")+T(n,[t,"from"])}function L(e){e=function(e){var t=document.createElement("a");return t.href=e,(e=t.href).replace(/^https?:/,"")}(e);var t=i.parseHref(e),n=t.domain,r=t.pathname,o=t.hash;if("ke.qq.com"!==n)return R([n,r,T(e,"from"),o].join(""));var a=i.parseQuery(t.search);return R([n,0===r.indexOf("/cgi-bin/courseDetail")?["/course/",M(a,"course_id",e)].join(""):0===r.indexOf("/cgi-bin/teacher")?["/teacher/",M(a,"tid",e)].join(""):0===r.indexOf("/cgi-bin/bbs/xbar_info")?["/bbs/tuan/",M(a,"bid",e)].join(""):0===r.indexOf("/cgi-bin/bbs/posts/post_detail")?["/bbs/topic/",M(a,"pid",e)].join(""):0===r.indexOf("/cgi-bin/courseList")?["/course/list/",M(a,"word",e)].join(""):[r,T(e,"from")].join(""),o].join(""))}function N(e){!function(e,t){t.length>100?t=t.substring(0,100):S(e,t)}("path"+L(e),a._pageCode+x())}r(document).on("logout",(function(){I("path"),I("pathcode")})),function(){a._pageCode="",a._isApply=0;var e="path"+R([u,c,T(location.search,"from"),location.hash].join(""));(function(e){var t=i.parseHref(e).domain;return!!/(\.|^)ke\.qq\.com$/.test(t)})(s)&&(a._pageCode=E(e)),a._pageCode?D("path",a._pageCode):(a._pageCode=j("path"),a._isApply=j("isapply")),I(e)}(),r(document).on("click","a[href]",(function(){var e=r(this).attr("href");e&&0!==e.indexOf("javascript")&&0!==e.indexOf("#")&&N(e)}));var q={path:[C()+x(),O()].join("-")};e.exports={path:q,injectHrefAction:N,getApplyPath:function(){var e=C()+x()+"A";return a._isApply=1,D("isapply",a._isApply),D("path",e),[e,O()].join("-")}}},"vUo+":function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackUrl=void 0;var i=r(n("EAVL")),o=r(n("oywu")),a=r(n("FO6Z")),u=n("F5LU"),c=n("D215"),s=n("P87J"),l=n("22lB"),d=n("rRu0"),f=n("GYbC"),p=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u},h=function(){function e(t){var n;(0,i.default)(this,e),this.payOpts=t,this.payHook=c.PayHook.getInstance(),this.protocol=null===(n=(0,u.getLocation)())||void 0===n?void 0:n.protocol,this.baseUrl="".concat(this.protocol,"//ke.qq.com")}return(0,o.default)(e,[{key:"getCallbackUrl",value:function(e){if(this.payOpts.returnUrl)return this.payOpts.returnUrl;var t=this.getCustomPageUrl(e);return t||((0,u.isPC)()?this.getPcSuccPageUrl(e):this.getH5SuccPageUrl(e))}},{key:"getReturnUrlParam",value:function(e){var t=this.payOpts,n=t.productId,r=t.returnParam,i=void 0===r?{}:r,o=t.channel,u={pay_succ:1};if("object"===(0,a.default)(n)){n.type===d.ProductType.Course?(u.courseId=n.fid,u.termId=n.sid):n.type===d.ProductType.CoursePackage&&(u.pkgId=n.fid);var c=this.getGroupId();c&&(u.groupId=c),o===d.ChannelType.Jd&&(u.isJd=1);var s=this.payHook.exec("payCallbackParam",this.payOpts)||{},l=(0,f.commonStringify)(null==e?void 0:e.ext);return Object.assign(Object.assign(Object.assign(Object.assign({},u),i),s),l)}}},{key:"needPayWithProductId",value:function(e){if(e.type)return-1!==["agency_recharge","cd_key"].indexOf(e.type)}},{key:"getGroupId",value:function(){var e,t;return(null===(t=null===(e=this.payOpts)||void 0===e?void 0:e.discountinfo)||void 0===t?void 0:t.group_id)||(0,u.getQuery)("group_id")}},{key:"getPcGroupCallbackUrl",value:function(e){return"".concat(this.baseUrl,"/groupResult.html?group_id=").concat(e,"&pay_succ=1")}},{key:"getPcAgencyCallbackUrl",value:function(e,t){var n=window.location,r=n.search,i=n.hash,o=n.pathname,a="fid=".concat(e,"&sid=").concat(this.payOpts.orderId,"&token=").concat(t),u=r?"&":"?",c="".concat(r).concat(u).concat(a);return"".concat(this.baseUrl).concat(o).concat(c).concat(i)}},{key:"getPcNormalCallbackUrl",value:function(e){var t=e.type,n=e.fid,r=e.sid,i=t===d.ProductType.CoursePackage,o=i?"course/package":"course",a=!i&&r?"#term_id=".concat(r):"";return"".concat(this.baseUrl,"/").concat(o,"/").concat(n,"?platform=").concat((0,f.getPlatform)(),"&pay_succ=1").concat(a)}},{key:"getPcSuccPageUrl",value:function(e){var t=null==e?void 0:e.token,n=this.getGroupId();if(n)return this.getPcGroupCallbackUrl(n);var r=this.payOpts.productId;return this.needPayWithProductId(this.payOpts)?this.getPcAgencyCallbackUrl(r,t):"object"!==(0,a.default)(r)?this.baseUrl:this.getPcNormalCallbackUrl(r)}},{key:"getH5SuccPageUrl",value:function(e){return"".concat(this.protocol,"//m.ke.qq.com/m-core/paySuccess.html?").concat((0,u.queryToString)(this.getReturnUrlParam(e)))}},{key:"getCustomPageUrl",value:function(e){var t=(0,u.getQueryObj)()||{},n=((0,u.isPC)()?l.RETURN_URL_CONFIG_PC:l.RETURN_URL_CONFIG_H5)[t.returnUrlType];if(n){var r=decodeURIComponent(t.returnUrlParam),i={};if(r)try{i=JSON.parse(r)}catch(e){throw s.imlog.error("【支付模块】","【支付回调地址参数解析错误】",e),e}var o=this.getReturnUrlParam(e),a=Object.assign(Object.assign({},o),i),c=-1===n.indexOf("?")?"?":"&";return n+c+(0,u.queryToString)(a)}}}]),e}();t.CallbackUrl=h,p([(0,s.log)("获取callbackUrl")],h.prototype,"getCallbackUrl",null),p([(0,s.log)("获取自定义回调地址")],h.prototype,"getCustomPageUrl",null)},vVBX:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.setBannerFirstDisplay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,a.bindingSet)("".concat(u.BANNER_DISPLAY_KEY).concat(t),e)},t.getBannerFirstDisplay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,a.bindingGet)("".concat(u.BANNER_DISPLAY_KEY).concat(e))},t.getShouldBannerDisplay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,a.bindingGet)("".concat(u.BANNER_DISPLAY_KEY).concat(e)),n=(0,a.current)();return n-t>86400},t.fetchShareRenewToken=c,t.fetchShareRenewTokenCache=function(){i=i||new a.RequestCache;var e="fetchShareRenewToken";return i.makeCache(c,null,e).apply(void 0,arguments)},t.fetchFriendHelp=function(e){return(0,a.fetch)("/cgi-proxy/growth_activity/friend_help",{data:e})},t.getHeaderHeight=function(){if(!(0,a.isApp)())return Promise.resolve(0);return new Promise((function(e,t){(0,a.getMqq)().then((function(n){n.invoke("edu","getActionbarHeightPx",(function(n){try{var r=(JSON.parse(n)||{}).actionbarHeightPx;e(void 0===r?0:r)}catch(e){o.default.error("【畅学卡】","【拉取所有课程cgi失败】",e),t(e)}}))})).catch((function(e){return t(e)}))}))},t.getErrMsg=function(e,t){return"".concat(t||"服务器繁忙，请稍后重试","(").concat(e||-1e3,")")};var i,o=r(n("HO9c")),a=n("F5LU"),u=n("9ccY");function c(){return(0,a.fetch)("/cgi-proxy/growth_activity/get_friend_help_id")}},veID:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.MidasPay=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("uIhe"),s=n("DjHw"),l=n("EaPD"),d=n("IvuC"),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},p=function(){function e(t){(0,o.default)(this,e),this.orderHandler=new s.Order(t),this.pcMidas=new d.PCMidas(t),this.h5Midas=new l.H5Midas(t)}return(0,a.default)(e,[{key:"pay",value:function(){return f(this,void 0,void 0,i.default.mark((function e(){var t,n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.orderHandler.order();case 3:t=e.sent,n=t&&t.result,(0,u.isPC)()?(r=n.token,o=void 0===r?{}:r,this.pcMidas.pay(o)):this.h5Midas.pay(n),c.imlog.info("【支付模块】","【midas支付跳转】",n),c.imlog.monitor(34647632),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(0),c.imlog.error("【支付模块】","【midas支付失败】",e.t0),c.imlog.monitor(34647633),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})))}}]),e}();t.MidasPay=p},vpsa:function(e,t,n){e.exports=n.p+"src/edu_modules/edu-login/nohash/wxLogin.css"},vqVK:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.isCourseFree=function(e){return e&&0===e.price},t.isCoursePunish=function(e){return e&&e.isPunished},t.getCurTermInfo=c,t.isCoursePresent=function(e,t){var n=c(e,t);if(n.order)return n.order.source>=30&&n.order.source<=39;return!1},t.isCourseRestudy=function(e,t){var n=c(e,t);if(n.order)return 31===n.order.source;return!1},t.getPlatform=function(){if((0,o.isMiniProgram)())return a.Platform.MP;if((0,o.isPC)())return a.Platform.PC;return(0,o.isApp)()?(0,o.isAndroid)()?a.Platform.AndroidApp:a.Platform.IOSApp:(0,o.isAndroid)()?a.Platform.Android:a.Platform.IOS},t.getSource=function(){return u(this,void 0,void 0,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.isMiniProgram)()){e.next=2;break}return e.abrupt("return",a.Source.MP);case 2:if(!(0,o.isPC)()){e.next=4;break}return e.abrupt("return",a.Source.PC);case 4:return e.next=6,(0,o.isIAP)();case 6:return t=e.sent,e.abrupt("return",t?a.Source.IAP:(0,o.isAndroid)()?a.Source.Android:a.Source.H5);case 8:case"end":return e.stop()}}),e)})))},t.getProductId=function(e,t){var n=e[0]&&e[0].product_id;if(!t)return n;var r=e.find((function(e){return e.term.tid===t}));return r&&r.product_id||n},t.isCourse=s,t.isCoursePkg=l,t.getCid=function(e){if(s(e))return e.cid;return 0},t.getPid=function(e){if(l(e))return e.pid;return 0},t.getTid=function(e){if(s(e))return e.curTermId;return 0},t.getDefaultTid=function(e){return e&&e[0]&&e[0].term&&e[0].term.tid},t.getUserType=function(){if((0,o.isIosVisitorAccount)())return a.UserType.Visitor;if((0,o.isWeixinAccount)())return a.UserType.Weixin;return a.UserType.QQ},t.needPayWithProductId=function(e){return-1!==["agency_recharge","cd_key"].indexOf(e.type)},t.isInstalmentCourse=function(e){return"instalment"===e.payType};var i=r(n("gBQG")),o=n("F5LU"),a=n("1c9X"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))};function c(e,t){if(!e)throw{msg:"没有可以购买的课程",retcode:0};var n=e[0]||{};if(l(t))return n;var r=t.curTermId;return e.find((function(e){return e.term.tid===r}))||n}function s(e){return!!e.cid}function l(e){return!!e.pid}},"vuT/":function(e,t,n){var r=n("EY/S"),i=n("f5oH"),o=(n("v3wa"),n("PHNG")),a=window.history;function u(e){var t,n,r,i,u,c=window.location.hash||"",s=(t="tuin",n=e,r=window.location.search,i=r.indexOf("?"),u=r.match(new RegExp("(\\?|&)"+t+"=([^&]*)(&|$)")),n?i>-1?u?r.replace(new RegExp("(\\?|&)"+t+"=([^&]*)(&|$)"),["$1",t,"=",n,"$3"].join("")):[r,"&",t,"=",n].join(""):["?",t,"=",n].join(""):u&&decodeURIComponent(u[2])||"");a&&a.replaceState?a.replaceState(a.state,null,s+c):o.init({url:[location.protocol,"//",location.host,location.pathname,s,location.hash].join("")})}e.exports={init:function(){r.getInfo().then((function(e){var t=e;t.is_login||(t=i.get());var n=t.uid,r=parseInt(n).toString(16);t.isPlatRole&&u(r)}))}}},vyxa:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.LnhChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=n("nzmE"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},l=function(){function e(){(0,o.default)(this,e),this.type=c.ActType.Lnh}return(0,a.default)(e,[{key:"check",value:function(e){return s(this,void 0,void 0,i.default.mark((function t(){var n,r,o,a,s,l,d,f;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,u.isWeixin)()&&e.page===c.PageTypes.COURSE){t.next=2;break}return t.abrupt("return",{pass:!1});case 2:return t.next=4,(0,u.fetch)("//sas.qq.com/cgi-bin/ke_miniapp_courseDetailWidget").then((function(e){return e.result})).catch((function(){return{pass:!1}}));case 4:if(n=t.sent,r=n.courseDetailH5||{},o=r.isH5Show,a=void 0===o?0:o,s=r.img,l=void 0===s?"":s,d=r.path,f=void 0===d?"":d,this.urlInfo={iconUrl:l,isJumpMp:!0,jumpUrl:f},!(a&&l&&f)){t.next=11;break}return t.abrupt("return",{data:this.urlInfo,pass:!0});case 11:return t.abrupt("return",{pass:!1});case 12:case"end":return t.stop()}}),t,this)})))}},{key:"getUrlInfo",value:function(){return this.urlInfo}}]),e}();t.LnhChecker=l},w1nF:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push("",function(it,opt){with(it=it||{},it){var _$out_=[],l=Math.min(5,hot_word_list.length);if(l){_$out_.push('<div class="header-index-hot--default"> <p class="hot-list-tt">热门搜索</p> <div class="hot-word-list"> ');for(var i=0;i<l;i++){var hotItem=hot_word_list[i];_$out_.push(' <a class="hot-word-item" target="_blank" href="javascript:;" title="',hotItem.name,'" report-tdw="module=hotword&action=recommend&platform=1&obj1=',hotItem.name,'&obj2=-1" > ',hotItem.name," </a> ")}_$out_.push(" </div></div>")}return _$out_.join("")}}(it,opt),""),_$out_.join("")}}},w7y4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=i,t.set=o,t.setSession=a,t.del=u,t.clear=c,t.uin=s,t.realUin=l,t.default=void 0;var r=n("9gZJ").pageReportZhCookieForKV;function i(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?decodeURIComponent(t[2]):""}function o(e,t,n,i,o){var a=new Date;a.setTime(a.getTime()+(o?36e5*o:2592e6)),document.cookie=e+"="+t+"; expires="+a.toGMTString()+"; path="+(i||"/")+"; "+(n?"domain="+n+";":""),r(e,t)}function a(e,t,n,i){document.cookie=e+"="+t+"; path="+(i||"/")+"; "+(n?"domain="+n+";":""),r(e,t)}function u(e,t,n){document.cookie=e+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(n||"/")+"; "+(t?"domain="+t+";":"")}function c(){var e=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var t in e)document.cookie=e[t]+"=;expires=Mon, 26 Jul 1997 05:00:00 GMT; path=/; "}function s(){var e;return 2==i("uid_type")?i("uid_uin")||null:e=(e=(e=i("p_luin")||i("p_uin")||i("uin")||i("pt2gguin")||i("adid"))?parseInt(e.substring(1,e.length),10):null)||parseInt(i("uin_cookie"),10)||null}function l(){var e;return 2==i("uid_type")?i("uid_uin")||null:e=(e=(e=i("p_luin")||i("p_uin")||i("uin"))?parseInt(e.substring(1,e.length),10):null)||parseInt(i("uin_cookie"),10)||null}var d={get:i,set:o,setSession:a,del:u,clear:c,uin:s,realUin:l};t.default=d},wThJ:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.PartitionChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("nzmE"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},s=function(){function e(){(0,o.default)(this,e),this.type=u.ActType.Partition}return(0,a.default)(e,[{key:"check",value:function(e){return c(this,void 0,void 0,i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.notApply){t.next=2;break}return t.abrupt("return",{pass:!1});case 2:return t.abrupt("return",{pass:!0});case 3:case"end":return t.stop()}}),t)})))}},{key:"getUrlInfo",value:function(){return this.urlInfo}},{key:"getPartitionDBData",value:function(){return this.partitionDBData}}]),e}();t.PartitionChecker=s},wayh:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="sso-login-wrap"> <div class="sso-login-header"> <div class="sso-login-switch"> 我',knowHost?"不":"",'知道企业/学校域名 </div> </div> <div class="sso-login-input"> <input type="text" placeholder="你的企业/学校',knowHost?"域名":"邮箱",'" /> <a class="sso-input__icon"> <span class="sso-input__icon-img" /> </a> '),knowHost&&_$out_.push(' <span class="sso-host-suffix">.sso.ke.qq.com</span> '),_$out_.push(' </div> <div class="sso-input-tips-wrap"> <span class="sso-error__icon-img" /> <div class="sso-input-tips"> '),knowHost&&_$out_.push(" 可与企业/学校管理员咨询您的域名 "),_$out_.push(' </div> </div> <button class="sso-login-btn">登录</button></div>'),_$out_.join("")}}},wbVu:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<a href="//ke.qq.com/agency/index/index.html"><img src="',face_url,'" width="40" height="40" alt="头像" class="mod-entry-user-avatar"></a><a href="//ke.qq.com/agency/index/index.html" report-tdw="action=click&obj1=institutional_management" class="mod-entry-user-info">',it.isPersonal?"老师管理":"机构管理",'</a><a href="javascript:void(0);" report-tdw="action=click&obj1=exit_ins" class="mod-entry-user-logout js-login-op" data-hook="logout">退出</a><div class="mod-entry-user-hover mod-entry-logined"> <a href="//ke.qq.com/user/index/index.html" report-tdw="action=click&obj1=class_schedule_ins" class="mod-entry-user-schedule"> <i class="icon-font i-calendar-2"></i>我的课表 </a></div>'),_$out_.join("")}}},xM6I:function(e,t,n){"use strict";var r=n("F5LU"),i=n("xeH2"),o=n("EY/S"),a=n("m9bP"),u=(n("0HC3"),n("I5uA"),n("wbVu"),n("WNR8")),c=n("dUOQ"),s=n("Ko1n"),l=(n("SBRa"),i("#js-mod-entry-index")),d=i(".js-agency-op"),f=i("#js-qzone-right");function p(e){e.is_login?(!function(e){l.addClass("mod-entry-user--logined").addClass("mod-entry-user--normal").html(u(e)),l.find(".mod-entry-user-avatar").one("error",(function(){this.src="//8.idqqimg.com/edu/edu_modules/edu-ui/img/bg/empty-avator.171fd695.png#unsprite"})),s.init(l),e.isPersonal&&d.html("老师管理")}(e),f.show()):function(e){l.addClass("mod-entry-user--unlogin").html(c(e)),a.tdw({action:"exposure",obj1:"login"})}(),l.addClass("visible")}e.exports={init:function(){o.getInfo().then((function(e){!e.nick_name&&r.isOpenPlatformAccount&&(0,r.isOpenPlatformAccount)()&&(e.nick_name="学生"),p(e)}))}}},xeH2:function(e,t){e.exports=window.$},xnjq:function(e,t,n){"use strict";var r=n("fcjx"),i=n("F1LC"),o=n("+wjS"),a=n("dj08"),u=n("vH31"),c=n("8qCz"),s=n("ZAhB"),l=n("dZEU");e.exports={init:function(){var e=(window.GLOBAL_DATA||{}).liveCourse||{};l.init(),i.init(),o.init(),a.init(),c.init(),s.init(),new u({container:".js-live-courses",serverTime:e.serverTime,tasks:e.tasks||[]}),(0,r.reportCourseExpo)(),(0,r.bindCourseClickReport)()}}},y3AV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IGNORE_ERROR=void 0;t.IGNORE_ERROR=[111,-1001,1e5,100021]},y8Ek:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.LoginChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("2dtd"),l=n("P87J"),d=n("XwTY"),f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},h=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"check",value:function(){return p(this,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,c.isLoginByCookie)()){e.next=5;break}if(!(0,c.isMobile)()){e.next=4;break}return(0,c.loginMobile)(),e.abrupt("return",(0,d.getPassResult)(!0));case 4:return e.abrupt("return",(0,d.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.NoLogin)));case 5:return e.abrupt("return",(0,d.getPassResult)(!0));case 6:case"end":return e.stop()}}),e)})))}}]),e}();t.LoginChecker=h,f([(0,l.log)("登录态校验checker")],h.prototype,"check",null)},yBst:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.wrapApplyOpts=g,t.wrapApply=function(e){(0,s.apply)(g(e))},t.confirmMobileAuthorization=y;var o=i(n("Ff2n")),a=i(n("rePB")),u=i(n("q1tI")),c=i(n("I5uA")),s=n("3guq"),l=n("GYbC"),d=r(n("7mbv")),f=i(n("5hBn")),p=n("eDCv");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("+g3W"),n("lyAx"),n("qR3j"),n("xbb5"),n("LXx4"),n("dJPg"),n("/9n0");function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.err;return e.err=function(n){m(n,e),t&&t(n)},e.onTimeConflict=function(e){return new Promise((function(t){$.Dialog.confirm({content:e,onAccept:function(){return t(!0)}})}))},e.onPrefetchSucc=function(t){var n,r,i,o=t.payData,a=t.sasGreyAuthMobile;(null==o||null===(n=o.ext)||void 0===n?void 0:n.authPhone)&&(e.needCheckAuthMobile=!0,e.forceMobileAuthABTestReportor=new p.ForceMobileAuthABTestReportor({courseid:e.cid,termid:e.curTermId,test_id:(0,l.getIsAgencyAuthMobileState)(o,a)?1001:1002}),e.forceMobileAuthABTestReportor.tdw({action:"click",module:(null==o||null===(r=o.ext)||void 0===r?void 0:r.price)?"pay":"sign-up",ver2:(null==o||null===(i=o.user)||void 0===i?void 0:i.phone)?1:2}))},e.onMobileConfirm=function(t){var n;return null===(n=e.forceMobileAuthABTestReportor)||void 0===n||n.authExpo(),new Promise((function(n,r){var i=function(){var t;null===(t=e.forceMobileAuthABTestReportor)||void 0===t||t.authAgree(),n(!0)},o=function(){return n(!1)};try{y({data:{phoneNum:t.mobile,nationalCode:t.nationalCode},onConfirm:i,onSubmitSucc:i,onCancel:o,onClose:o})}catch(e){r(e)}}))},e}function m(e,t){var n=e.msg,r=e.errMsg,i=e.retcode;if("instalment"!==t.payType)switch(i){case 1e5:c.default.show({succ:function(){window.location.reload()}});break;case-188:var o=v(v({},t),{},{onSucc:function(e){(0,s.apply)(v(v({},t),e))},payType:"studentInfo",needIframe:!0});(0,s.apply)(o);break;case-163:var a,u;null===(a=(u=t.forceMobileAuthABTestReportor).bindExpo)||void 0===a||a.call(u),y({onSubmitSucc:function(){var e,n;null===(e=(n=t.forceMobileAuthABTestReportor).bindSave)||void 0===e||e.call(n),(0,s.apply)(v(v({},t),{},{needCheckAuthMobile:!1}))}});break;case 99999:var l=v(v({},t),{},{onSucc:function(e){(0,s.apply)(v(v({},t),e))},payType:"payVerifyComponent",needIframe:!0});(0,s.apply)(l);break;default:var d=n||r||f.default[i]||"服务器繁忙，请稍后重试",p=i?"(".concat(i,")"):"";$.Dialog.alert({onClose:function(){return t.close&&t.close()},onAccept:function(){return t.close&&t.close()},content:"".concat(d).concat(p)})}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.data,r=(n=void 0===n?{}:n).phoneNum,i=e.onSubmitSucc,a=e.onCancel,c=e.onClose,s=(0,o.default)(e,["data","data","onSubmitSucc","onCancel","onClose"]),l=function(e){return function(){d.default.destroy(),null==e||e()}},f=r?d.Mode.AUTH:d.Mode.BINDING,p=f===d.Mode.AUTH?{prefix:u.default.createElement("p",{className:"apply-auth-prefix"},"机构服务通知发送至"),dialogProps:{width:460}}:void 0;d.default.show(v(v({mode:f,data:t,inline:!1,onReplace:function(){y(v(v({},e),{},{data:void 0}))},onSubmitSucc:l(i),onCancel:l(a),onClose:l(c)},p),s))}},yEZz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImgElements=function(e,t){var n=e.querySelectorAll("img");"function"==typeof t&&t([].slice.call(n))}},yMZJ:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.Recharge=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=n("F5LU"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},s=function(){function e(t){(0,o.default)(this,e),this.payInfo=t}return(0,a.default)(e,[{key:"recharge",value:function(){}},{key:"checkIAPBalance",value:function(){return c(this,void 0,void 0,i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.payInfo.recharge,n=void 0===t?0:t,e.next=3,(0,u.isIAP)();case 3:if(!(e.sent&&n>0)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"jumpRecharge",value:function(){return u.Jumper.jumpRecharge()}}]),e}();t.Recharge=s},yOLy:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="course-group-modal"> <div class="course-group-img course-group-img-',contactType.toLowerCase(),'"> '),"WX"===contactType&&_$out_.push(' <img src="',url,'" alt="引导图片"> '),_$out_.push(' </div> <div class="course-group-content apply"> <div class="title">',title,'</div> <div class="desc"> ',content," "),"WX"!==contactType&&_$out_.push(' <a class="js-join-group" href="javascript:void(0);"> ',joinText," </a> "),_$out_.push(" </div> </div></div>"),_$out_.join("")}}},yPQY:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.TimeConflitChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("F5LU"),s=n("2dtd"),l=n("P87J"),d=n("XwTY"),f=n("rRu0"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"check",value:function(e,t){return h(this,void 0,void 0,i.default.mark((function n(){var r,o;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.productId,"object"===(0,u.default)(r)){n.next=3;break}return n.abrupt("return",(0,d.getPassResult)(!0));case 3:if(r.type===f.ProductType.Course){n.next=5;break}return n.abrupt("return",(0,d.getPassResult)(!0));case 5:return n.next=7,this.checkConflict(r);case 7:if(!n.sent){n.next=16;break}if(!(o=t.onTimeConflict)){n.next=16;break}return n.next=13,o("该课程与已报名课程的上课时间冲突，是否确认报名？");case 13:if(n.sent){n.next=16;break}return n.abrupt("return",(0,d.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.CourseConflit)));case 16:return n.abrupt("return",(0,d.getPassResult)(!0));case 17:case"end":return n.stop()}}),n,this)})))}},{key:"checkConflict",value:function(e){var t;return h(this,void 0,void 0,i.default.mark((function n(){var r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.fetch)("/cgi-bin/tool/check_apply_time_conflict",{data:{course_id:null==e?void 0:e.fid,term_id:null==e?void 0:e.sid}});case 3:return r=n.sent,n.abrupt("return",null===(t=null==r?void 0:r.result)||void 0===t?void 0:t.pflag);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",!1);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))}}]),e}();t.TimeConflitChecker=v,p([(0,l.log)("课程上课时间冲突校验")],v.prototype,"check",null),p([(0,l.log)("课程冲突接口")],v.prototype,"checkConflict",null)},yPre:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWhiteAgency=function(e){return r.agencyIds.indexOf(e)>-1},t.isKAAgency=i,t.isFastAgency=o,t.isFastPrivateTerm=function(e){if(!o(e))return!1;return"1"===(e&&e.term_bit_flag||0).toString(2).split("").reverse()[23]},t.isKAorFastAgency=a,t.isDownGradeTerm=u,t.getTermForCore=c,t.isDownGradeTermForCore=function(e){return u(c(e))},t.isKAorFastAgencyForCore=function(e){return a(c(e))};var r=n("tmXo");function i(e){return"1"===(e&&e.term_bit_flag||0).toString(2).split("").reverse()[20]}function o(e){return"1"===(e&&e.term_bit_flag||0).toString(2).split("").reverse()[19]}function a(e){return i(e)||o(e)}function u(e){return e&&e.is_can_degrade}function c(e){var t=e||{},n=t.default_term_info,r=t.termObj;return(void 0===r?{}:r)[t.cur_term_id]||n}},yQmY:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<aside class="wrap-side-operation" id="js-side-operation"> '),_$out_.push(' <div class="mod-side-widget"></div> <div class="mod-side-operation"> <div id="js-async-download" class="side-service-item" report-tdw="action=sweep" style="display: none;"> <a class="side-service-right" href="javascript:void(0);"> <i class="icon-font i-file-download item-icon"></i> <span id="download-red-point" class="side-red-point"> <span id="download-num" data-num="0"></span> </span> </a> </div> <div class="side-service-item side-service-hover side-service-qq js-c-special"> <a class="item-link-block" href="http://wpa.b.qq.com/cgi/wpa.php?ln=2&uin=800082734" target="_blank" report-tdw="action=BQQ_clk&module=agencymanage"> <i class="icon-font i-qq-border item-icon"></i> <span class="item-hover-text">在线客服</span> </a> </div> <div class="side-service-item side-service-hover side-service-weixin js-c-special"> <i class="icon-font i-weixin-border item-icon"></i> <span class="item-hover-text">扫码关注</span> <div class="item-hover-tips"></div> </div> '),it.isWhiteAgency||_$out_.push(' <div id="js-private-msgs" class="side-service-item" report-tdw="action=sweep"> <a class="side-service-right" href="javascript:void(0);"> <i class="icon-font i-message item-icon"></i> <span id="msg-red-point" class="side-red-point"> <span id="red-num"></span> </span> </a> </div> '),_$out_.push(' <div id="js-qrcode-container" class="side-service-item side-service-phone" report-tdw="action=sweep"> <a class="side-service-right" href="//ke.qq.com/download/app.html" target="_blank"> <i class="icon-font i-phone item-icon" id="js-qrcode-icon"></i> <span class="item-hover-text" id="js-qrcode-wording">App下载</span> <span class="hidden-clip">腾讯课堂【APP Android iPhone 下载】</span> </a> <div class="item-hover-tips"></div> </div> \x3c!-- 免费批改作业 mod.revise.scss --\x3e <div class="side-service-item side-service-qr-code side-service-qr-design-course" style="display: none;"> <a class="side-service-right"> <i class="icon-font i-weixin-border item-icon"></i> <span class="item-hover-text">官方微信</span> </a> <a class="item-hover-tips"> <i class="icon-font i-close" id="i_design_course_close"></i> <i class="item-hover-bg"></i> <p class="item-hover-title">扫码关注腾讯课堂设计学院，第一时间查看最新批改结果。</p> </a> </div> <div id="js-jump-container" class="js-jump-container"> <a href="javascript:void(0)" class="mod-side-operation__jump-to-top" id="js-jump-to-top"><i class="icon-font i-to-top"></i></a> <div id="js-jump-plan-container" class="js-jump-plan-container"> <a href="javascript:void(0)" class="js-jump-plane" id="js-plane"></a> </div> </div> '),it.isWhiteAgency||_$out_.push(' <iframe id="private-msgs-iframe" class="msg-iframe msg-iframe-show"></iframe> '),_$out_.push(' <iframe id="async-download-iframe" class="download-iframe msg-iframe-show"></iframe> </div></aside>'),_$out_.join("")}}},ygJm:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0}),t.StudentNameChecker=void 0;var i=r(n("gBQG")),o=r(n("EAVL")),a=r(n("oywu")),u=r(n("FO6Z")),c=n("sWVP"),s=n("2dtd"),l=n("P87J"),d=n("GYbC"),f=n("XwTY"),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,u.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},v=function(){function e(t,n){(0,o.default)(this,e),this.payData=t,this.opts=n,this.schoolAgency=c.SchoolAgency.getInstance(),this.curTerm=(0,d.getCurTermInfo)(t.detail,n),this.cid=(0,d.getCid)(n)}return(0,a.default)(e,[{key:"check",value:function(){var e,t,n,r,o;return h(this,void 0,void 0,i.default.mark((function a(){var u,c;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(null===(e=this.curTerm)||void 0===e?void 0:e.term)||(null===(n=null===(t=this.payData)||void 0===t?void 0:t.ext)||void 0===n?void 0:n.price)){i.next=8;break}return u=null===(o=null===(r=this.payData)||void 0===r?void 0:r.ext)||void 0===o?void 0:o.agency_id,c=this.curTerm.term,i.next=5,this.schoolAgency.needShowDialog(u,{cid:this.cid,term_bit_flag:(null==c?void 0:c.term_bit_flag)||this.opts.term_bit_flag,tid:(null==c?void 0:c.tid)||0});case 5:if(!i.sent){i.next=8;break}return i.abrupt("return",(0,f.getPassResult)(!1,(0,s.getApplyFrontError)(s.ApplyFrontErrorRetcode.NEED_STUDENT_DIALOG)));case 8:return i.abrupt("return",(0,f.getPassResult)(!0));case 9:case"end":return i.stop()}}),a,this)})))}}]),e}();t.StudentNameChecker=v,p([(0,l.log)("深圳市学生实名认证checker")],v.prototype,"check",null)},ytsa:function(e,t,n){"use strict";var r=n("LoAb");Object.defineProperty(t,"__esModule",{value:!0});var i={getWeAppJumper:!0,Jumper:!0,AppJumper:!0};t.getWeAppJumper=function(){return new d.default},t.AppJumper=t.Jumper=void 0;var o=r(n("HO9c")),a=n("XOiT"),u=r(n("aiAO")),c=r(n("tgnt")),s=r(n("sgcJ")),l=r(n("faOQ")),d=r(n("JSlF")),f=r(n("Yd1f")),p=n("SXpw");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h,v=n("7OHB");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))})),h=(0,a.isPC)()?new s.default:(0,a.isQQ)()?new l.default:(0,a.isMiniProgram)()?new d.default:(0,a.isWeixin)()?new f.default:(0,a.isApp)()?new u.default:new c.default,window.addEventListener&&window.addEventListener("message",(function(e){if(e&&e.data){var t=e.data,n=t.method,r=t.url;"jump"===n&&(h.jump(r),o.default.monitor(33616303))}}),!1);var g=h;t.Jumper=g;var m=new u.default;t.AppJumper=m},ytua:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[],dialog=it.dialog||{},title=dialog.title||"报名成功!";return _$out_.push('<section class="apply-success',showAuth?"":" hide-auth",'"> <a href="javascript:void(0)" class="js-close-btn btn-close"> <i class="icon-font i-close"></i> </a> <div class="apply-success-content"> <i class="icon-font i-success icon-msg-large"></i> <h1 class="apply-success-tt">',title,'</h1> <div id="content"> <div class="apply-success-desc"> '),showAuth&&_$out_.push(' <label class="f-checkbox js-auth-contact"> <i class="icon-checkbox"></i> 允许<b>',it.agencyName,"</b>通过手机",mobile,"联系我 </label> "),_$out_.push(' </div> <div class="only-follow js-official-account"> <div class="js-official-account-default ',customOfficialAccount?"hide":"",'"> <img class="follow-img" src="//9.idqqimg.com/edu/edu_modules/edu-ui/img/nohash/wechat-qrcode.png" alt="微信公众号"> <p class="follow-word">关注公众号<br />获取上课提醒</p> <div> </div> </div> </div> <div class="apply-success-footer"> <a href="javascript:void(0)" class="js-study btn-default btn-m">立即学习</a> '),mobile||_$out_.push(' <a href="javascript:void(0)" class="js-mobile btn-default btn-m hidden">填写号码</a> '),_$out_.push(" </div></section>"),_$out_.join("")}}},z4v6:function(e,t,n){var r=n("xeH2"),i=n("1RNr"),o=n("DtjJ"),a=n("lSPl");n("qRoS");var u,c={},s=[],l={},d=r(".js-header-index-category"),f=r(".js-index-cate");i.extend({getCatInfo:i.httpMethod({url:"/cgi-bin/get_cat_info",noNeedLogin:!0}),getHotWords:i.httpMethod({url:"/cgi-bin/personal/get_hot_words",noNeedLogin:!0}),getCatLinks:i.httpMethod({url:"//sas.qq.com/cgi-bin/ke_newIndex_cateTextLink",dataType:"jsonp"})}),f.find("nav").length||r.when((u=r.Deferred(),i.getCatInfo({succ:function(e){var t=e.result||{};c=t.catInfo||{},l=t.recommend_type||{},u.resolve(t)},err:function(){return u.reject(),!0}}),u),function(){var e=r.Deferred();return i.getCatLinks({succ:function(t){s=t.result||[],e.resolve()},err:function(){return e.reject(),!0}}),e}()).always((function(){f.html(o({catInfo:c,cate_text_link:s,recommend_type:l})),d.addClass("header-index-category__show"),Object.keys(c).length?r(".mod-nav__list").menuAim({activate:function(e){var t=r(e),n=t.index(".js-mod-category"),i=r(".js-mod-category-side").eq(n);i.show(),t.addClass("mod-nav__li_current"),i.find(".mod-nav__side-txt").length&&a.tdw({action:"exposure",module:"category",position:"act_link",ver1:n})},deactivate:function(e){r(".js-mod-category-side").hide(),r(e).removeClass("mod-nav__li_current")},exitMenuSelector:".mod-nav",rowSelector:".mod-nav__li",exitMenu:function(){return!0}}):d.addClass("header-index-category__alone"),function(){var e=r.Deferred();i.getHotWords({param:{count:5,platform:4,scene_id:1},succ:function(t){var n=t.result||{},i=n.words,o=void 0===i?[]:i;e.resolve(n);var a,u=o.map((function(e){return e.name}));r(document).trigger("loaded:hotword",{hot_word_list:o||[],testId:n.test_id,wordList:u,catInfo:c,orderlyCatInfo:(a=c,Object.keys(a).sort((function(e,t){return a[e].o>a[t].o?1:a[e].o<a[t].o?-1:0})))})},err:function(){return e.reject(),!0}})}()})),e.exports={}},z5f2:function(module,exports){module.exports=function(it,opt){with(it=it||{},it){var _$out_=[];return _$out_.push('<div class="tmp-tip"> '),""!==type&&_$out_.push('<i class="tmp-tip-icon icon-font ',opt[type],'"></i>'),_$out_.push('<span class="tmp-tip-cnt">',tips,"</span></div>"),_$out_.join("")}}},zeEe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("nkB6");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("kI29");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("1OfD");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n("pjSC");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))}},[[42,0,1,2,3,6,7]]]);